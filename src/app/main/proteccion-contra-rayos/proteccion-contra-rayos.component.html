<div class="container">
  <div class="contenedor__banner">
    <div class="details">
      <h2>SISTEMA DE PROTECCIÓN EXTERNA CONTRA RAYOS</h2>
    </div>
  </div>

  <p-card>
    <div class="container_form">
      <ng-container *ngTemplateOutlet="datosIniciales"></ng-container>
    </div>
  </p-card>
  <div class="flex w-full justify-content-end pr-3 pt-2">
    <p-button (onClick)="calcular()" label="Diseñar"></p-button>
  </div>
</div>

<ng-template #datosIniciales [formGroup]="form">
  <div class="flex flex-row h-full">
    <div class="grid h-full pr-6">
      <div class="col-12 flex flex-column justify-content-center align-content-center">
        <div class="field pt-3">
          <div class="flex-auto">
            <span class="p-float-label">
              <p-dropdown class="w-full" formControlName="nivelRiesgo" [style]="{ minWidth: '100%', maxWidth: '100%' }"
                [options]="proteccionForm.nivelRiesgo" optionLabel="name" optionValue="value"
                placeholder="Nivel de protección"></p-dropdown>
              <label> Nivel de protección </label>
            </span>
            <small class="p-error" *ngIf="validateField('nivelRiesgo')">
              Campo invalido
            </small>
          </div>
        </div>
        <div class="field pt-3">
          <div class="p-inputgroup">
            <div class="p-float-label">
              <p-inputNumber mode="decimal" formControlName="ancho" [useGrouping]="false"></p-inputNumber>
              <label>Altura</label>
            </div>
            <span class="p-inputgroup-addon">m</span>
          </div>
          <small class="p-error" *ngIf="validateField('ancho')">
            Campo invalido
          </small>
        </div>
        <div class="field pt-3">
          <div class="p-inputgroup">
            <div class="p-float-label">
              <p-inputNumber mode="decimal" formControlName="largo" [useGrouping]="false"></p-inputNumber>
              <label>Longitud</label>
            </div>
            <span class="p-inputgroup-addon">m</span>
          </div>
          <small class="p-error" *ngIf="validateField('largo')">
            Campo invalido
          </small>
        </div>
        <div class="field pt-3">
          <div class="p-inputgroup">
            <div class="p-float-label">
              <p-inputNumber mode="decimal" formControlName="alto" [useGrouping]="false"></p-inputNumber>
              <label>Ancho</label>
            </div>
            <span class="p-inputgroup-addon">m</span>
          </div>
          <small class="p-error" *ngIf="validateField('alto')">
            Campo invalido
          </small>
        </div>
        <div class="field pt-3">
          <div class="p-inputgroup">
            <div class="p-float-label">
              <p-inputNumber mode="decimal" [maxFractionDigits]="2" formControlName="longitudPunta"
                [useGrouping]="false"></p-inputNumber>
              <label>Longitud punta captadora</label>
            </div>
            <span class="p-inputgroup-addon">m</span>
          </div>
          <small class="p-error" *ngIf="validateField('alto')">
            Campo invalido
          </small>
        </div>
      </div>
    </div>
    <canvas #canvas></canvas>
  </div>

</ng-template>