"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[179],{169:()=>{function mn(i){return"function"==typeof i}function hu(i){const t=i(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ah=hu(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,s)=>`${s+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ll(i,e){if(i){const t=i.indexOf(e);0<=t&&i.splice(t,1)}}class rs{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const r of t)r.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(mn(n))try{n()}catch(r){e=r instanceof Ah?r.errors:[r]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const r of s)try{lC(r)}catch(o){e=e??[],o instanceof Ah?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ah(e)}}add(e){var t;if(e&&e!==this)if(this.closed)lC(e);else{if(e instanceof rs){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ll(t,e)}remove(e){const{_finalizers:t}=this;t&&ll(t,e),e instanceof rs&&e._removeParent(this)}}rs.EMPTY=(()=>{const i=new rs;return i.closed=!0,i})();const oC=rs.EMPTY;function aC(i){return i instanceof rs||i&&"closed"in i&&mn(i.remove)&&mn(i.add)&&mn(i.unsubscribe)}function lC(i){mn(i)?i():i.unsubscribe()}const ca={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ph={setTimeout(i,e,...t){const{delegate:n}=Ph;return n?.setTimeout?n.setTimeout(i,e,...t):setTimeout(i,e,...t)},clearTimeout(i){const{delegate:e}=Ph;return(e?.clearTimeout||clearTimeout)(i)},delegate:void 0};function cC(i){Ph.setTimeout(()=>{const{onUnhandledError:e}=ca;if(!e)throw i;e(i)})}function l_(){}const a4=c_("C",void 0,void 0);function c_(i,e,t){return{kind:i,value:e,error:t}}let ua=null;function Rh(i){if(ca.useDeprecatedSynchronousErrorHandling){const e=!ua;if(e&&(ua={errorThrown:!1,error:null}),i(),e){const{errorThrown:t,error:n}=ua;if(ua=null,t)throw n}}else i()}class u_ extends rs{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,aC(e)&&e.add(this)):this.destination=f4}static create(e,t,n){return new pu(e,t,n)}next(e){this.isStopped?h_(function c4(i){return c_("N",i,void 0)}(e),this):this._next(e)}error(e){this.isStopped?h_(function l4(i){return c_("E",void 0,i)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?h_(a4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const d4=Function.prototype.bind;function d_(i,e){return d4.call(i,e)}class h4{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(n){Oh(n)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(n){Oh(n)}else Oh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Oh(t)}}}class pu extends u_{constructor(e,t,n){let s;if(super(),mn(e)||!e)s={next:e??void 0,error:t??void 0,complete:n??void 0};else{let r;this&&ca.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&d_(e.next,r),error:e.error&&d_(e.error,r),complete:e.complete&&d_(e.complete,r)}):s=e}this.destination=new h4(s)}}function Oh(i){ca.useDeprecatedSynchronousErrorHandling?function u4(i){ca.useDeprecatedSynchronousErrorHandling&&ua&&(ua.errorThrown=!0,ua.error=i)}(i):cC(i)}function h_(i,e){const{onStoppedNotification:t}=ca;t&&Ph.setTimeout(()=>t(i,e))}const f4={closed:!0,next:l_,error:function p4(i){throw i},complete:l_},p_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Co(i){return i}function uC(i){return 0===i.length?Co:1===i.length?i[0]:function(t){return i.reduce((n,s)=>s(n),t)}}let ni=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new i;return n.source=this,n.operator=t,n}subscribe(t,n,s){const r=function _4(i){return i&&i instanceof u_||function g4(i){return i&&mn(i.next)&&mn(i.error)&&mn(i.complete)}(i)&&aC(i)}(t)?t:new pu(t,n,s);return Rh(()=>{const{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=dC(n))((s,r)=>{const o=new pu({next:a=>{try{t(a)}catch(l){r(l),o.unsubscribe()}},error:r,complete:s});this.subscribe(o)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[p_](){return this}pipe(...t){return uC(t)(this)}toPromise(t){return new(t=dC(t))((n,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>n(r))})}}return i.create=e=>new i(e),i})();function dC(i){var e;return null!==(e=i??ca.Promise)&&void 0!==e?e:Promise}const v4=hu(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qn=(()=>{class i extends ni{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new hC(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new v4}next(t){Rh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(t)}})}error(t){Rh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){Rh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:s,observers:r}=this;return n||s?oC:(this.currentObservers=null,r.push(t),new rs(()=>{this.currentObservers=null,ll(r,t)}))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:s,isStopped:r}=this;n?t.error(s):r&&t.complete()}asObservable(){const t=new ni;return t.source=this,t}}return i.create=(e,t)=>new hC(e,t),i})();class hC extends qn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:oC}}function pC(i){return mn(i?.lift)}function ii(i){return e=>{if(pC(e))return e.lift(function(t){try{return i(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Yn(i,e,t,n,s){return new y4(i,e,t,n,s)}class y4 extends u_{constructor(e,t,n,s,r,o){super(e),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=s?function(a){try{s(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Cn(i,e){return ii((t,n)=>{let s=0;t.subscribe(Yn(n,r=>{n.next(i.call(e,r,s++))}))})}function xo(i){return this instanceof xo?(this.v=i,this):new xo(i)}function _C(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=i[Symbol.asyncIterator];return e?e.call(i):(i=function __(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=i[r]&&function(o){return new Promise(function(a,l){!function s(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}(a,l,(o=i[r](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const vC=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function yC(i){return mn(i?.then)}function bC(i){return mn(i[p_])}function wC(i){return Symbol.asyncIterator&&mn(i?.[Symbol.asyncIterator])}function CC(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xC=function H4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function TC(i){return mn(i?.[xC])}function SC(i){return function gC(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=t.apply(i,e||[]),r=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(p){n[p]&&(s[p]=function(f){return new Promise(function(m,v){r.push([p,f,m,v])>1||a(p,f)})})}function a(p,f){try{!function l(p){p.value instanceof xo?Promise.resolve(p.value.v).then(c,u):h(r[0][2],p)}(n[p](f))}catch(m){h(r[0][3],m)}}function c(p){a("next",p)}function u(p){a("throw",p)}function h(p,f){p(f),r.shift(),r.length&&a(r[0][0],r[0][1])}}(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:n,done:s}=yield xo(t.read());if(s)return yield xo(void 0);yield yield xo(n)}}finally{t.releaseLock()}})}function MC(i){return mn(i?.getReader)}function xs(i){if(i instanceof ni)return i;if(null!=i){if(bC(i))return function z4(i){return new ni(e=>{const t=i[p_]();if(mn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(vC(i))return function G4(i){return new ni(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}(i);if(yC(i))return function W4(i){return new ni(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,cC)})}(i);if(wC(i))return EC(i);if(TC(i))return function $4(i){return new ni(e=>{for(const t of i)if(e.next(t),e.closed)return;e.complete()})}(i);if(MC(i))return function j4(i){return EC(SC(i))}(i)}throw CC(i)}function EC(i){return new ni(e=>{(function q4(i,e){var t,n,s,r;return function fC(i,e,t,n){return new(t||(t=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):function s(r){return r instanceof t?r:new t(function(o){o(r)})}(u.value).then(a,l)}c((n=n.apply(i,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=_C(i);!(n=yield t.next()).done;)if(e.next(n.value),e.closed)return}catch(o){s={error:o}}finally{try{n&&!n.done&&(r=t.return)&&(yield r.call(t))}finally{if(s)throw s.error}}e.complete()})})(i,e).catch(t=>e.error(t))})}function Ur(i,e,t,n=0,s=!1){const r=e.schedule(function(){t(),s?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(r),!s)return r}function Mi(i,e,t=1/0){return mn(e)?Mi((n,s)=>Cn((r,o)=>e(n,r,s,o))(xs(i(n,s))),t):("number"==typeof e&&(t=e),ii((n,s)=>function Y4(i,e,t,n,s,r,o,a){const l=[];let c=0,u=0,h=!1;const p=()=>{h&&!l.length&&!c&&e.complete()},f=v=>c<n?m(v):l.push(v),m=v=>{r&&e.next(v),c++;let _=!1;xs(t(v,u++)).subscribe(Yn(e,g=>{s?.(g),r?f(g):e.next(g)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<n;){const g=l.shift();o?Ur(e,o,()=>m(g)):m(g)}p()}catch(g){e.error(g)}}))};return i.subscribe(Yn(e,f,()=>{h=!0,p()})),()=>{a?.()}}(n,s,i,t)))}function cl(i=1/0){return Mi(Co,i)}const _r=new ni(i=>i.complete());function v_(i){return i[i.length-1]}function IC(i){return mn(v_(i))?i.pop():void 0}function fu(i){return function X4(i){return i&&mn(i.schedule)}(v_(i))?i.pop():void 0}function DC(i,e=0){return ii((t,n)=>{t.subscribe(Yn(n,s=>Ur(n,i,()=>n.next(s),e),()=>Ur(n,i,()=>n.complete(),e),s=>Ur(n,i,()=>n.error(s),e)))})}function AC(i,e=0){return ii((t,n)=>{n.add(i.schedule(()=>t.subscribe(n),e))})}function PC(i,e){if(!i)throw new Error("Iterable cannot be null");return new ni(t=>{Ur(t,e,()=>{const n=i[Symbol.asyncIterator]();Ur(t,e,()=>{n.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function yi(i,e){return e?function ik(i,e){if(null!=i){if(bC(i))return function Q4(i,e){return xs(i).pipe(AC(e),DC(e))}(i,e);if(vC(i))return function ek(i,e){return new ni(t=>{let n=0;return e.schedule(function(){n===i.length?t.complete():(t.next(i[n++]),t.closed||this.schedule())})})}(i,e);if(yC(i))return function J4(i,e){return xs(i).pipe(AC(e),DC(e))}(i,e);if(wC(i))return PC(i,e);if(TC(i))return function tk(i,e){return new ni(t=>{let n;return Ur(t,e,()=>{n=i[xC](),Ur(t,e,()=>{let s,r;try{({value:s,done:r}=n.next())}catch(o){return void t.error(o)}r?t.complete():t.next(s)},0,!0)}),()=>mn(n?.return)&&n.return()})}(i,e);if(MC(i))return function nk(i,e){return PC(SC(i),e)}(i,e)}throw CC(i)}(i,e):xs(i)}class zs extends qn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:n}=this;if(e)throw t;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}}function Ct(...i){return yi(i,fu(i))}function RC(i={}){const{connector:e=(()=>new qn),resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:s=!0}=i;return r=>{let o,a,l,c=0,u=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},f=()=>{p(),o=l=void 0,u=h=!1},m=()=>{const v=o;f(),v?.unsubscribe()};return ii((v,_)=>{c++,!h&&!u&&p();const g=l=l??e();_.add(()=>{c--,0===c&&!h&&!u&&(a=y_(m,s))}),g.subscribe(_),!o&&c>0&&(o=new pu({next:C=>g.next(C),error:C=>{h=!0,p(),a=y_(f,t,C),g.error(C)},complete:()=>{u=!0,p(),a=y_(f,n),g.complete()}}),xs(v).subscribe(o))})(r)}}function y_(i,e,...t){if(!0===e)return void i();if(!1===e)return;const n=new pu({next:()=>{n.unsubscribe(),i()}});return xs(e(...t)).subscribe(n)}function vr(i,e){return ii((t,n)=>{let s=null,r=0,o=!1;const a=()=>o&&!s&&n.complete();t.subscribe(Yn(n,l=>{s?.unsubscribe();let c=0;const u=r++;xs(i(l,u)).subscribe(s=Yn(n,h=>n.next(e?e(l,h,u,c++):h),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function ok(i,e){return i===e}function dn(i){for(let e in i)if(i[e]===dn)return e;throw Error("Could not find renamed property on target object.")}function Lh(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function di(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(di).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function b_(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const ak=dn({__forward_ref__:dn});function qt(i){return i.__forward_ref__=qt,i.toString=function(){return di(this())},i}function wt(i){return w_(i)?i():i}function w_(i){return"function"==typeof i&&i.hasOwnProperty(ak)&&i.__forward_ref__===qt}function C_(i){return i&&!!i.\u0275providers}const OC="https://g.co/ng/security#xss";class se extends Error{constructor(e,t){super(function kh(i,e){return`NG0${Math.abs(i)}${e?": "+e:""}`}(e,t)),this.code=e}}function Tt(i){return"string"==typeof i?i:null==i?"":String(i)}function x_(i,e){throw new se(-201,!1)}function Gs(i,e){null==i&&function _t(i,e,t,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${t} ${n} ${e} <=Actual]`))}(e,i,null,"!=")}function Qe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Dt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Fh(i){return LC(i,Vh)||LC(i,kC)}function LC(i,e){return i.hasOwnProperty(e)?i[e]:null}function Nh(i){return i&&(i.hasOwnProperty(T_)||i.hasOwnProperty(mk))?i[T_]:null}const Vh=dn({\u0275prov:dn}),T_=dn({\u0275inj:dn}),kC=dn({ngInjectableDef:dn}),mk=dn({ngInjectorDef:dn});var Bt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Bt||{});let S_;function os(i){const e=S_;return S_=i,e}function NC(i,e,t){const n=Fh(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&Bt.Optional?null:void 0!==e?e:void x_(di(i))}const Sn=globalThis,mu={},A_="__NG_DI_FLAG__",Bh="ngTempTokenPath",vk=/\n/gm,BC="__source";let ul;function To(i){const e=ul;return ul=i,e}function wk(i,e=Bt.Default){if(void 0===ul)throw new se(-203,!1);return null===ul?NC(i,void 0,e):ul.get(i,e&Bt.Optional?null:void 0,e)}function et(i,e=Bt.Default){return(function FC(){return S_}()||wk)(wt(i),e)}function Ze(i,e=Bt.Default){return et(i,Uh(e))}function Uh(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function P_(i){const e=[];for(let t=0;t<i.length;t++){const n=wt(i[t]);if(Array.isArray(n)){if(0===n.length)throw new se(900,!1);let s,r=Bt.Default;for(let o=0;o<n.length;o++){const a=n[o],l=Ck(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}e.push(et(s,r))}else e.push(et(n))}return e}function gu(i,e){return i[A_]=e,i.prototype[A_]=e,i}function Ck(i){return i[A_]}function Hr(i){return{toString:i}.toString()}var Hh=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Hh||{}),Ws=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Ws||{});const yr={},tn=[],zh=dn({\u0275cmp:dn}),R_=dn({\u0275dir:dn}),O_=dn({\u0275pipe:dn}),HC=dn({\u0275mod:dn}),zr=dn({\u0275fac:dn}),_u=dn({__NG_ELEMENT_ID__:dn}),zC=dn({__NG_ENV_ID__:dn});function GC(i,e,t){let n=i.length;for(;;){const s=i.indexOf(e,t);if(-1===s)return s;if(0===s||i.charCodeAt(s-1)<=32){const r=e.length;if(s+r===n||i.charCodeAt(s+r)<=32)return s}t=s+1}}function L_(i,e,t){let n=0;for(;n<t.length;){const s=t[n];if("number"==typeof s){if(0!==s)break;n++;const r=t[n++],o=t[n++],a=t[n++];i.setAttribute(e,o,a,r)}else{const r=s,o=t[++n];$C(r)?i.setProperty(e,r,o):i.setAttribute(e,r,o),n++}}return n}function WC(i){return 3===i||4===i||6===i}function $C(i){return 64===i.charCodeAt(0)}function vu(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let n=0;n<e.length;n++){const s=e[n];"number"==typeof s?t=s:0===t||jC(i,t,s,null,-1===t||2===t?e[++n]:null)}}return i}function jC(i,e,t,n,s){let r=0,o=i.length;if(-1===e)o=-1;else for(;r<i.length;){const a=i[r++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=r-1;break}}}for(;r<i.length;){const a=i[r];if("number"==typeof a)break;if(a===t){if(null===n)return void(null!==s&&(i[r+1]=s));if(n===i[r+1])return void(i[r+2]=s)}r++,null!==n&&r++,null!==s&&r++}-1!==o&&(i.splice(o,0,e),r=o+1),i.splice(r++,0,t),null!==n&&i.splice(r++,0,n),null!==s&&i.splice(r++,0,s)}const qC="ng-template";function Sk(i,e,t){let n=0,s=!0;for(;n<i.length;){let r=i[n++];if("string"==typeof r&&s){const o=i[n++];if(t&&"class"===r&&-1!==GC(o.toLowerCase(),e,0))return!0}else{if(1===r){for(;n<i.length&&"string"==typeof(r=i[n++]);)if(r.toLowerCase()===e)return!0;return!1}"number"==typeof r&&(s=!1)}}return!1}function YC(i){return 4===i.type&&i.value!==qC}function Mk(i,e,t){return e===(4!==i.type||t?i.value:qC)}function Ek(i,e,t){let n=4;const s=i.attrs||[],r=function Ak(i){for(let e=0;e<i.length;e++)if(WC(i[e]))return e;return i.length}(s);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!Mk(i,l,t)||""===l&&1===e.length){if(ir(n))return!1;o=!0}}else{const c=8&n?l:e[++a];if(8&n&&null!==i.attrs){if(!Sk(i.attrs,c,t)){if(ir(n))return!1;o=!0}continue}const h=Ik(8&n?"class":l,s,YC(i),t);if(-1===h){if(ir(n))return!1;o=!0;continue}if(""!==c){let p;p=h>r?"":s[h+1].toLowerCase();const f=8&n?p:null;if(f&&-1!==GC(f,c,0)||2&n&&c!==p){if(ir(n))return!1;o=!0}}}}else{if(!o&&!ir(n)&&!ir(l))return!1;if(o&&ir(l))continue;o=!1,n=l|1&n}}return ir(n)||o}function ir(i){return 0==(1&i)}function Ik(i,e,t,n){if(null===e)return-1;let s=0;if(n||!t){let r=!1;for(;s<e.length;){const o=e[s];if(o===i)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=e[++s];for(;"string"==typeof a;)a=e[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function Pk(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const n=i[t];if("number"==typeof n)return-1;if(n===e)return t;t++}return-1}(e,i)}function KC(i,e,t=!1){for(let n=0;n<e.length;n++)if(Ek(i,e[n],t))return!0;return!1}function Rk(i,e){e:for(let t=0;t<e.length;t++){const n=e[t];if(i.length===n.length){for(let s=0;s<i.length;s++)if(i[s]!==n[s])continue e;return!0}}return!1}function XC(i,e){return i?":not("+e.trim()+")":e}function Ok(i){let e=i[0],t=1,n=2,s="",r=!1;for(;t<i.length;){let o=i[t];if("string"==typeof o)if(2&n){const a=i[++t];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?s+="."+o:4&n&&(s+=" "+o);else""!==s&&!ir(o)&&(e+=XC(r,s),s=""),n=o,r=r||!ir(n);t++}return""!==s&&(e+=XC(r,s)),e}function tt(i){return Hr(()=>{const e=QC(i),t={...e,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Hh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Ws.Emulated,styles:i.styles||tn,_:null,schemas:i.schemas||null,tView:null,id:""};JC(t);const n=i.dependencies;return t.directiveDefs=Gh(n,!1),t.pipeDefs=Gh(n,!0),t.id=function Hk(i){let e=0;const t=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const s of t)e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Nk(i){return Zt(i)||Ei(i)}function Vk(i){return null!==i}function Rt(i){return Hr(()=>({type:i.type,bootstrap:i.bootstrap||tn,declarations:i.declarations||tn,imports:i.imports||tn,exports:i.exports||tn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ZC(i,e){if(null==i)return yr;const t={};for(const n in i)if(i.hasOwnProperty(n)){let s=i[n],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),t[s]=n,e&&(e[s]=r)}return t}function dt(i){return Hr(()=>{const e=QC(i);return JC(e),e})}function as(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Zt(i){return i[zh]||null}function Ei(i){return i[R_]||null}function Hi(i){return i[O_]||null}function Ss(i,e){const t=i[HC]||null;if(!t&&!0===e)throw new Error(`Type ${di(i)} does not have '\u0275mod' property.`);return t}function QC(i){const e={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:i.inputs||yr,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||tn,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ZC(i.inputs,e),outputs:ZC(i.outputs)}}function JC(i){i.features?.forEach(e=>e(i))}function Gh(i,e){if(!i)return null;const t=e?Hi:Nk;return()=>("function"==typeof i?i():i).map(n=>t(n)).filter(Vk)}const Hn=0,Be=1,At=2,Rn=3,sr=4,yu=5,Li=6,hl=7,Kn=8,So=9,pl=10,St=11,bu=12,ex=13,fl=14,Xn=15,wu=16,ml=17,br=18,Cu=19,tx=20,Mo=21,Gr=22,xu=23,Tu=24,Gt=25,k_=1,nx=2,wr=7,gl=9,Ii=11;function ls(i){return Array.isArray(i)&&"object"==typeof i[k_]}function zi(i){return Array.isArray(i)&&!0===i[k_]}function F_(i){return 0!=(4&i.flags)}function ha(i){return i.componentOffset>-1}function $h(i){return 1==(1&i.flags)}function rr(i){return!!i.template}function N_(i){return 0!=(512&i[At])}function pa(i,e){return i.hasOwnProperty(zr)?i[zr]:null}let Di=null,jh=!1;function $s(i){const e=Di;return Di=i,e}const qh={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ax(i){if(!Mu(i)||i.dirty){if(!i.producerMustRecompute(i)&&!ux(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function cx(i){i.dirty=!0,function lx(i){if(void 0===i.liveConsumerNode)return;const e=jh;jh=!0;try{for(const t of i.liveConsumerNode)t.dirty||cx(t)}finally{jh=e}}(i),i.consumerMarkedDirty?.(i)}function Yh(i){return i&&(i.nextProducerIndex=0),$s(i)}function Kh(i,e){if($s(e),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(Mu(i))for(let t=i.nextProducerIndex;t<i.producerNode.length;t++)Xh(i.producerNode[t],i.producerIndexOfThis[t]);for(let t=i.nextProducerIndex;t<i.producerNode.length;t++)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function ux(i){_l(i);for(let e=0;e<i.producerNode.length;e++){const t=i.producerNode[e],n=i.producerLastReadVersion[e];if(n!==t.version||(ax(t),n!==t.version))return!0}return!1}function dx(i){if(_l(i),Mu(i))for(let e=0;e<i.producerNode.length;e++)Xh(i.producerNode[e],i.producerIndexOfThis[e]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Xh(i,e){if(function px(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),_l(i),1===i.liveConsumerNode.length)for(let n=0;n<i.producerNode.length;n++)Xh(i.producerNode[n],i.producerIndexOfThis[n]);const t=i.liveConsumerNode.length-1;if(i.liveConsumerNode[e]=i.liveConsumerNode[t],i.liveConsumerIndexOfThis[e]=i.liveConsumerIndexOfThis[t],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,e<i.liveConsumerNode.length){const n=i.liveConsumerIndexOfThis[e],s=i.liveConsumerNode[e];_l(s),s.producerIndexOfThis[n]=e}}function Mu(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function _l(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let fx=null;const vx=()=>{},Jk={...qh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:vx};class eF{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ai(){return yx}function yx(i){return i.type.prototype.ngOnChanges&&(i.setInput=nF),tF}function tF(){const i=wx(this),e=i?.current;if(e){const t=i.previous;if(t===yr)i.previous=e;else for(let n in e)t[n]=e[n];i.current=null,this.ngOnChanges(e)}}function nF(i,e,t,n){const s=this.declaredInputs[t],r=wx(i)||function iF(i,e){return i[bx]=e}(i,{previous:yr,current:null}),o=r.current||(r.current={}),a=r.previous,l=a[s];o[s]=new eF(l&&l.currentValue,e,a===yr),i[n]=e}Ai.ngInherit=!0;const bx="__ngSimpleChanges__";function wx(i){return i[bx]||null}const Cr=function(i,e,t){};function Mn(i){for(;Array.isArray(i);)i=i[Hn];return i}function Qh(i,e){return Mn(e[i])}function cs(i,e){return Mn(e[i.index])}function Tx(i,e){return i.data[e]}function vl(i,e){return i[e]}function Ms(i,e){const t=e[i];return ls(t)?t:t[Hn]}function Io(i,e){return null==e?null:i[e]}function Sx(i){i[ml]=0}function cF(i){1024&i[At]||(i[At]|=1024,Ex(i,1))}function Mx(i){1024&i[At]&&(i[At]&=-1025,Ex(i,-1))}function Ex(i,e){let t=i[Rn];if(null===t)return;t[yu]+=e;let n=t;for(t=t[Rn];null!==t&&(1===e&&1===n[yu]||-1===e&&0===n[yu]);)t[yu]+=e,n=t,t=t[Rn]}const vt={lFrame:Vx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ax(){return vt.bindingsEnabled}function yl(){return null!==vt.skipHydrationRootTNode}function ge(){return vt.lFrame.lView}function Qt(){return vt.lFrame.tView}function $(i){return vt.lFrame.contextLView=i,i[Kn]}function j(i){return vt.lFrame.contextLView=null,i}function Pi(){let i=Px();for(;null!==i&&64===i.type;)i=i.parent;return i}function Px(){return vt.lFrame.currentTNode}function xr(i,e){const t=vt.lFrame;t.currentTNode=i,t.isParent=e}function $_(){return vt.lFrame.isParent}function j_(){vt.lFrame.isParent=!1}function Gi(){const i=vt.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function bl(){return vt.lFrame.bindingIndex++}function $r(i){const e=vt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}function wF(i,e){const t=vt.lFrame;t.bindingIndex=t.bindingRootIndex=i,q_(e)}function q_(i){vt.lFrame.currentDirectiveIndex=i}function kx(){return vt.lFrame.currentQueryIndex}function K_(i){vt.lFrame.currentQueryIndex=i}function xF(i){const e=i[Be];return 2===e.type?e.declTNode:1===e.type?i[Li]:null}function Fx(i,e,t){if(t&Bt.SkipSelf){let s=e,r=i;for(;!(s=s.parent,null!==s||t&Bt.Host||(s=xF(r),null===s||(r=r[fl],10&s.type))););if(null===s)return!1;e=s,i=r}const n=vt.lFrame=Nx();return n.currentTNode=e,n.lView=i,!0}function X_(i){const e=Nx(),t=i[Be];vt.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Nx(){const i=vt.lFrame,e=null===i?null:i.child;return null===e?Vx(i):e}function Vx(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function Bx(){const i=vt.lFrame;return vt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ux=Bx;function Z_(){const i=Bx();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wi(){return vt.lFrame.selectedIndex}function fa(i){vt.lFrame.selectedIndex=i}function kn(){const i=vt.lFrame;return Tx(i.tView,i.selectedIndex)}function ln(){vt.lFrame.currentNamespace="svg"}let zx=!0;function Jh(){return zx}function Do(i){zx=i}function ep(i,e){for(let t=e.directiveStart,n=e.directiveEnd;t<n;t++){const r=i.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=r;o&&(i.contentHooks??=[]).push(-t,o),a&&((i.contentHooks??=[]).push(t,a),(i.contentCheckHooks??=[]).push(t,a)),l&&(i.viewHooks??=[]).push(-t,l),c&&((i.viewHooks??=[]).push(t,c),(i.viewCheckHooks??=[]).push(t,c)),null!=u&&(i.destroyHooks??=[]).push(t,u)}}function tp(i,e,t){Gx(i,e,3,t)}function np(i,e,t,n){(3&i[At])===t&&Gx(i,e,t,n)}function Q_(i,e){let t=i[At];(3&t)===e&&(t&=8191,t+=1,i[At]=t)}function Gx(i,e,t,n){const r=n??-1,o=e.length-1;let a=0;for(let l=void 0!==n?65535&i[ml]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=n&&a>=n)break}else e[l]<0&&(i[ml]+=65536),(a<r||-1==r)&&(AF(i,t,e,l),i[ml]=(4294901760&i[ml])+l+2),l++}function Wx(i,e){Cr(4,i,e);const t=$s(null);try{e.call(i)}finally{$s(t),Cr(5,i,e)}}function AF(i,e,t,n){const s=t[n]<0,r=t[n+1],a=i[s?-t[n]:t[n]];s?i[At]>>13<i[ml]>>16&&(3&i[At])===e&&(i[At]+=8192,Wx(a,r)):Wx(a,r)}const wl=-1;class Iu{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function e0(i){return i!==wl}function Du(i){return 32767&i}function Au(i,e){let t=function LF(i){return i>>16}(i),n=e;for(;t>0;)n=n[fl],t--;return n}let t0=!0;function ip(i){const e=t0;return t0=i,e}const $x=255,jx=5;let kF=0;const Tr={};function sp(i,e){const t=qx(i,e);if(-1!==t)return t;const n=e[Be];n.firstCreatePass&&(i.injectorIndex=e.length,n0(n.data,i),n0(e,null),n0(n.blueprint,null));const s=rp(i,e),r=i.injectorIndex;if(e0(s)){const o=Du(s),a=Au(s,e),l=a[Be].data;for(let c=0;c<8;c++)e[r+c]=a[o+c]|l[o+c]}return e[r+8]=s,r}function n0(i,e){i.push(0,0,0,0,0,0,0,0,e)}function qx(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function rp(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,n=null,s=e;for(;null!==s;){if(n=eT(s),null===n)return wl;if(t++,s=s[fl],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return wl}function s0(i,e,t){!function FF(i,e,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(_u)&&(n=t[_u]),null==n&&(n=t[_u]=kF++);const s=n&$x;e.data[i+(s>>jx)]|=1<<s}(i,e,t)}function Yx(i,e,t){if(t&Bt.Optional||void 0!==i)return i;x_()}function Kx(i,e,t,n){if(t&Bt.Optional&&void 0===n&&(n=null),!(t&(Bt.Self|Bt.Host))){const s=i[So],r=os(void 0);try{return s?s.get(e,n,t&Bt.Optional):NC(e,n,t&Bt.Optional)}finally{os(r)}}return Yx(n,0,t)}function Xx(i,e,t,n=Bt.Default,s){if(null!==i){if(2048&e[At]&&!(n&Bt.Self)){const o=function zF(i,e,t,n,s){let r=i,o=e;for(;null!==r&&null!==o&&2048&o[At]&&!(512&o[At]);){const a=Zx(r,o,t,n|Bt.Self,Tr);if(a!==Tr)return a;let l=r.parent;if(!l){const c=o[tx];if(c){const u=c.get(t,Tr,n);if(u!==Tr)return u}l=eT(o),o=o[fl]}r=l}return s}(i,e,t,n,Tr);if(o!==Tr)return o}const r=Zx(i,e,t,n,Tr);if(r!==Tr)return r}return Kx(e,t,n,s)}function Zx(i,e,t,n,s){const r=function BF(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(_u)?i[_u]:void 0;return"number"==typeof e?e>=0?e&$x:HF:e}(t);if("function"==typeof r){if(!Fx(e,i,n))return n&Bt.Host?Yx(s,0,n):Kx(e,t,n,s);try{let o;if(o=r(n),null!=o||n&Bt.Optional)return o;x_()}finally{Ux()}}else if("number"==typeof r){let o=null,a=qx(i,e),l=wl,c=n&Bt.Host?e[Xn][Li]:null;for((-1===a||n&Bt.SkipSelf)&&(l=-1===a?rp(i,e):e[a+8],l!==wl&&Jx(n,!1)?(o=e[Be],a=Du(l),e=Au(l,e)):a=-1);-1!==a;){const u=e[Be];if(Qx(r,a,u.data)){const h=VF(a,e,t,o,n,c);if(h!==Tr)return h}l=e[a+8],l!==wl&&Jx(n,e[Be].data[a+8]===c)&&Qx(r,a,e)?(o=u,a=Du(l),e=Au(l,e)):a=-1}}return s}function VF(i,e,t,n,s,r){const o=e[Be],a=o.data[i+8],u=op(a,o,t,null==n?ha(a)&&t0:n!=o&&0!=(3&a.type),s&Bt.Host&&r===a);return null!==u?ma(e,o,u,a):Tr}function op(i,e,t,n,s){const r=i.providerIndexes,o=e.data,a=1048575&r,l=i.directiveStart,u=r>>20,p=s?a+u:i.directiveEnd;for(let f=n?a:a+u;f<p;f++){const m=o[f];if(f<l&&t===m||f>=l&&m.type===t)return f}if(s){const f=o[l];if(f&&rr(f)&&f.type===t)return l}return null}function ma(i,e,t,n){let s=i[t];const r=e.data;if(function PF(i){return i instanceof Iu}(s)){const o=s;o.resolving&&function lk(i,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new se(-200,`Circular dependency in DI detected for ${i}${t}`)}(function an(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Tt(i)}(r[t]));const a=ip(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?os(o.injectImpl):null;Fx(i,n,Bt.Default);try{s=i[t]=o.factory(void 0,r,i,n),e.firstCreatePass&&t>=n.directiveStart&&function DF(i,e,t){const{ngOnChanges:n,ngOnInit:s,ngDoCheck:r}=e.type.prototype;if(n){const o=yx(e);(t.preOrderHooks??=[]).push(i,o),(t.preOrderCheckHooks??=[]).push(i,o)}s&&(t.preOrderHooks??=[]).push(0-i,s),r&&((t.preOrderHooks??=[]).push(i,r),(t.preOrderCheckHooks??=[]).push(i,r))}(t,r[t],e)}finally{null!==c&&os(c),ip(a),o.resolving=!1,Ux()}}return s}function Qx(i,e,t){return!!(t[e+(i>>jx)]&1<<i)}function Jx(i,e){return!(i&Bt.Self||i&Bt.Host&&e)}class $i{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return Xx(this._tNode,this._lView,e,Uh(n),t)}}function HF(){return new $i(Pi(),ge())}function xt(i){return Hr(()=>{const e=i.prototype.constructor,t=e[zr]||r0(e),n=Object.prototype;let s=Object.getPrototypeOf(i.prototype).constructor;for(;s&&s!==n;){const r=s[zr]||r0(s);if(r&&r!==t)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function r0(i){return w_(i)?()=>{const e=r0(wt(i));return e&&e()}:pa(i)}function eT(i){const e=i[Be],t=e.type;return 2===t?e.declTNode:1===t?i[Li]:null}const xl="__parameters__";function Sl(i,e,t){return Hr(()=>{const n=function o0(i){return function(...t){if(i){const n=i(...t);for(const s in n)this[s]=n[s]}}}(e);function s(...r){if(this instanceof s)return n.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(xl)?l[xl]:Object.defineProperty(l,xl,{value:[]})[xl];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=i,s.annotationCls=s,s})}function El(i,e){i.forEach(t=>Array.isArray(t)?El(t,e):e(t))}function nT(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function lp(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function Ou(i,e){const t=[];for(let n=0;n<i;n++)t.push(e);return t}function Es(i,e,t){let n=Il(i,e);return n>=0?i[1|n]=t:(n=~n,function KF(i,e,t,n){let s=i.length;if(s==e)i.push(t,n);else if(1===s)i.push(n,i[0]),i[0]=t;else{for(s--,i.push(i[s-1],i[s]);s>e;)i[s]=i[s-2],s--;i[e]=t,i[e+1]=n}}(i,n,e,t)),n}function a0(i,e){const t=Il(i,e);if(t>=0)return i[1|t]}function Il(i,e){return function iT(i,e,t){let n=0,s=i.length>>t;for(;s!==n;){const r=n+(s-n>>1),o=i[r<<t];if(e===o)return r<<t;o>e?s=r:n=r+1}return~(s<<t)}(i,e,1)}const up=gu(Sl("Optional"),8),dp=gu(Sl("SkipSelf"),4);function gp(i){return 128==(128&i.flags)}var Ao=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Ao||{});const gN=/^>|^->|<!--|-->|--!>|<!-$/g,_N=/(<|>)/g,vN="\u200b$1\u200b";const h0=new Map;let yN=0;const f0="__ngContext__";function ki(i,e){ls(e)?(i[f0]=e[Cu],function wN(i){h0.set(i[Cu],i)}(e)):i[f0]=e}let m0;function g0(i,e){return m0(i,e)}function Fu(i){const e=i[Rn];return zi(e)?e[Rn]:e}function xT(i){return ST(i[bu])}function TT(i){return ST(i[sr])}function ST(i){for(;null!==i&&!zi(i);)i=i[sr];return i}function Pl(i,e,t,n,s){if(null!=n){let r,o=!1;zi(n)?r=n:ls(n)&&(o=!0,n=n[Hn]);const a=Mn(n);0===i&&null!==t?null==s?DT(e,t,a):ga(e,t,a,s||null,!0):1===i&&null!==t?ga(e,t,a,s||null,!0):2===i?function xp(i,e,t){const n=wp(i,e);n&&function UN(i,e,t,n){i.removeChild(e,t,n)}(i,n,e,t)}(e,a,o):3===i&&e.destroyNode(a),null!=r&&function GN(i,e,t,n,s){const r=t[wr];r!==Mn(t)&&Pl(e,i,n,r,s);for(let a=Ii;a<t.length;a++){const l=t[a];Vu(l[Be],l,i,e,n,r)}}(e,i,r,t,s)}}function _0(i,e){return i.createComment(function mT(i){return i.replace(gN,e=>e.replace(_N,vN))}(e))}function yp(i,e,t){return i.createElement(e,t)}function ET(i,e){const t=i[gl],n=t.indexOf(e);Mx(e),t.splice(n,1)}function bp(i,e){if(i.length<=Ii)return;const t=Ii+e,n=i[t];if(n){const s=n[wu];null!==s&&s!==i&&ET(s,n),e>0&&(i[t-1][sr]=n[sr]);const r=lp(i,Ii+e);!function RN(i,e){Vu(i,e,e[St],2,null,null),e[Hn]=null,e[Li]=null}(n[Be],n);const o=r[br];null!==o&&o.detachView(r[Be]),n[Rn]=null,n[sr]=null,n[At]&=-129}return n}function v0(i,e){if(!(256&e[At])){const t=e[St];e[xu]&&dx(e[xu]),e[Tu]&&dx(e[Tu]),t.destroyNode&&Vu(i,e,t,3,null,null),function kN(i){let e=i[bu];if(!e)return y0(i[Be],i);for(;e;){let t=null;if(ls(e))t=e[bu];else{const n=e[Ii];n&&(t=n)}if(!t){for(;e&&!e[sr]&&e!==i;)ls(e)&&y0(e[Be],e),e=e[Rn];null===e&&(e=i),ls(e)&&y0(e[Be],e),t=e&&e[sr]}e=t}}(e)}}function y0(i,e){if(!(256&e[At])){e[At]&=-129,e[At]|=256,function BN(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let n=0;n<t.length;n+=2){const s=e[t[n]];if(!(s instanceof Iu)){const r=t[n+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];Cr(4,a,l);try{l.call(a)}finally{Cr(5,a,l)}}else{Cr(4,s,r);try{r.call(s)}finally{Cr(5,s,r)}}}}}(i,e),function VN(i,e){const t=i.cleanup,n=e[hl];if(null!==t)for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const o=t[r+3];o>=0?n[o]():n[-o].unsubscribe(),r+=2}else t[r].call(n[t[r+1]]);null!==n&&(e[hl]=null);const s=e[Mo];if(null!==s){e[Mo]=null;for(let r=0;r<s.length;r++)(0,s[r])()}}(i,e),1===e[Be].type&&e[St].destroy();const t=e[wu];if(null!==t&&zi(e[Rn])){t!==e[Rn]&&ET(t,e);const n=e[br];null!==n&&n.detachView(i)}!function CN(i){h0.delete(i[Cu])}(e)}}function b0(i,e,t){return function IT(i,e,t){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return t[Hn];{const{componentOffset:s}=n;if(s>-1){const{encapsulation:r}=i.data[n.directiveStart+s];if(r===Ws.None||r===Ws.Emulated)return null}return cs(n,t)}}(i,e.parent,t)}function ga(i,e,t,n,s){i.insertBefore(e,t,n,s)}function DT(i,e,t){i.appendChild(e,t)}function AT(i,e,t,n,s){null!==n?ga(i,e,t,n,s):DT(i,e,t)}function wp(i,e){return i.parentNode(e)}function PT(i,e,t){return OT(i,e,t)}let w0,S0,Sp,OT=function RT(i,e,t){return 40&i.type?cs(i,t):null};function Cp(i,e,t,n){const s=b0(i,n,e),r=e[St],a=PT(n.parent||e[Li],n,e);if(null!=s)if(Array.isArray(t))for(let l=0;l<t.length;l++)AT(r,s,t[l],a,!1);else AT(r,s,t,a,!1);void 0!==w0&&w0(r,n,e,t,s)}function Nu(i,e){if(null!==e){const t=e.type;if(3&t)return cs(e,i);if(4&t)return C0(-1,i[e.index]);if(8&t){const n=e.child;if(null!==n)return Nu(i,n);{const s=i[e.index];return zi(s)?C0(-1,s):Mn(s)}}if(32&t)return g0(e,i)()||Mn(i[e.index]);{const n=kT(i,e);return null!==n?Array.isArray(n)?n[0]:Nu(Fu(i[Xn]),n):Nu(i,e.next)}}return null}function kT(i,e){return null!==e?i[Xn][Li].projection[e.projection]:null}function C0(i,e){const t=Ii+i+1;if(t<e.length){const n=e[t],s=n[Be].firstChild;if(null!==s)return Nu(n,s)}return e[wr]}function x0(i,e,t,n,s,r,o){for(;null!=t;){const a=n[t.index],l=t.type;if(o&&0===e&&(a&&ki(Mn(a),n),t.flags|=2),32!=(32&t.flags))if(8&l)x0(i,e,t.child,n,s,r,!1),Pl(e,i,s,a,r);else if(32&l){const c=g0(t,n);let u;for(;u=c();)Pl(e,i,s,u,r);Pl(e,i,s,a,r)}else 16&l?NT(i,e,n,t,s,r):Pl(e,i,s,a,r);t=o?t.projectionNext:t.next}}function Vu(i,e,t,n,s,r){x0(t,n,i.firstChild,e,s,r,!1)}function NT(i,e,t,n,s,r){const o=t[Xn],l=o[Li].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Pl(e,i,s,l[c],r);else{let c=l;const u=o[Rn];gp(n)&&(c.flags|=128),x0(i,e,c,u,s,r,!0)}}function VT(i,e,t){""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t)}function BT(i,e,t){const{mergedAttrs:n,classes:s,styles:r}=t;null!==n&&L_(i,e,n),null!==s&&VT(i,e,s),null!==r&&function $N(i,e,t){i.setAttribute(e,"style",t)}(i,e,r)}function zT(i){return function M0(){if(void 0===Sp&&(Sp=null,Sn.trustedTypes))try{Sp=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Sp}()?.createScriptURL(i)||i}class GT{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${OC})`}}function Po(i){return i instanceof GT?i.changingThisBreaksApplicationSecurity:i}function Bu(i,e){const t=function t5(i){return i instanceof GT&&i.getTypeName()||null}(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${OC})`)}return t===e}const o5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ll=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Ll||{});function XT(i){const e=Hu();return e?e.sanitize(Ll.URL,i)||"":Bu(i,"URL")?Po(i):function E0(i){return(i=String(i)).match(o5)?i:"unsafe:"+i}(Tt(i))}function ZT(i){const e=Hu();if(e)return zT(e.sanitize(Ll.RESOURCE_URL,i)||"");if(Bu(i,"ResourceURL"))return zT(Po(i));throw new se(904,!1)}function Hu(){const i=ge();return i&&i[pl].sanitizer}class nt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Qe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zu=new nt("ENVIRONMENT_INITIALIZER"),JT=new nt("INJECTOR",-1),eS=new nt("INJECTOR_DEF_TYPES");class P0{get(e,t=mu){if(t===mu){const n=new Error(`NullInjectorError: No provider for ${di(e)}!`);throw n.name="NullInjectorError",n}return t}}function y5(...i){return{\u0275providers:nS(0,i),\u0275fromNgModule:!0}}function nS(i,...e){const t=[],n=new Set;let s;const r=o=>{t.push(o)};return El(e,o=>{const a=o;Ep(a,r,[],n)&&(s||=[],s.push(a))}),void 0!==s&&iS(s,r),t}function iS(i,e){for(let t=0;t<i.length;t++){const{ngModule:n,providers:s}=i[t];R0(s,r=>{e(r,n)})}}function Ep(i,e,t,n){if(!(i=wt(i)))return!1;let s=null,r=Nh(i);const o=!r&&Zt(i);if(r||o){if(o&&!o.standalone)return!1;s=i}else{const l=i.ngModule;if(r=Nh(l),!r)return!1;s=l}const a=n.has(s);if(o){if(a)return!1;if(n.add(s),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Ep(c,e,t,n)}}else{if(!r)return!1;{if(null!=r.imports&&!a){let c;n.add(s);try{El(r.imports,u=>{Ep(u,e,t,n)&&(c||=[],c.push(u))})}finally{}void 0!==c&&iS(c,e)}if(!a){const c=pa(s)||(()=>new s);e({provide:s,useFactory:c,deps:tn},s),e({provide:eS,useValue:s,multi:!0},s),e({provide:zu,useValue:()=>et(s),multi:!0},s)}const l=r.providers;if(null!=l&&!a){const c=i;R0(l,u=>{e(u,c)})}}}return s!==i&&void 0!==i.providers}function R0(i,e){for(let t of i)C_(t)&&(t=t.\u0275providers),Array.isArray(t)?R0(t,e):e(t)}const b5=dn({provide:String,useValue:dn});function O0(i){return null!==i&&"object"==typeof i&&b5 in i}function _a(i){return"function"==typeof i}const L0=new nt("Set Injector scope."),Ip={},C5={};let k0;function Dp(){return void 0===k0&&(k0=new P0),k0}class qs{}class Ap extends qs{get destroyed(){return this._destroyed}constructor(e,t,n,s){super(),this.parent=t,this.source=n,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,N0(e,o=>this.processProvider(o)),this.records.set(JT,kl(void 0,this)),s.has("environment")&&this.records.set(qs,kl(void 0,this));const r=this.records.get(L0);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(eS.multi,tn,Bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=To(this),n=os(void 0);try{return e()}finally{To(t),os(n)}}get(e,t=mu,n=Bt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(zC))return e[zC](this);n=Uh(n);const r=To(this),o=os(void 0);try{if(!(n&Bt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function E5(i){return"function"==typeof i||"object"==typeof i&&i instanceof nt}(e)&&Fh(e);l=c&&this.injectableDefInScope(c)?kl(F0(e),Ip):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(n&Bt.Self?Dp():this.parent).get(e,t=n&Bt.Optional&&t===mu?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Bh]=a[Bh]||[]).unshift(di(e)),r)throw a;return function xk(i,e,t,n){const s=i[Bh];throw e[BC]&&s.unshift(e[BC]),i.message=function Tk(i,e,t,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let s=di(e);if(Array.isArray(e))s=e.map(di).join(" -> ");else if("object"==typeof e){let r=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):di(a)))}s=`{${r.join(", ")}}`}return`${t}${n?"("+n+")":""}[${s}]: ${i.replace(vk,"\n  ")}`}("\n"+i.message,s,t,n),i.ngTokenPath=s,i[Bh]=null,i}(a,e,"R3InjectorError",this.source)}throw a}finally{os(o),To(r)}}resolveInjectorInitializers(){const e=To(this),t=os(void 0);try{const s=this.get(zu.multi,tn,Bt.Self);for(const r of s)r()}finally{To(e),os(t)}}toString(){const e=[],t=this.records;for(const n of t.keys())e.push(di(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(e){let t=_a(e=wt(e))?e:wt(e&&e.provide);const n=function T5(i){return O0(i)?kl(void 0,i.useValue):kl(oS(i),Ip)}(e);if(_a(e)||!0!==e.multi)this.records.get(t);else{let s=this.records.get(t);s||(s=kl(void 0,Ip,!0),s.factory=()=>P_(s.multi),this.records.set(t,s)),t=e,s.multi.push(e)}this.records.set(t,n)}hydrate(e,t){return t.value===Ip&&(t.value=C5,t.value=t.factory()),"object"==typeof t.value&&t.value&&function M5(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=wt(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function F0(i){const e=Fh(i),t=null!==e?e.factory:pa(i);if(null!==t)return t;if(i instanceof nt)throw new se(204,!1);if(i instanceof Function)return function x5(i){const e=i.length;if(e>0)throw Ou(e,"?"),new se(204,!1);const t=function fk(i){return i&&(i[Vh]||i[kC])||null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new se(204,!1)}function oS(i,e,t){let n;if(_a(i)){const s=wt(i);return pa(s)||F0(s)}if(O0(i))n=()=>wt(i.useValue);else if(function rS(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...P_(i.deps||[]));else if(function sS(i){return!(!i||!i.useExisting)}(i))n=()=>et(wt(i.useExisting));else{const s=wt(i&&(i.useClass||i.provide));if(!function S5(i){return!!i.deps}(i))return pa(s)||F0(s);n=()=>new s(...P_(i.deps))}return n}function kl(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function N0(i,e){for(const t of i)Array.isArray(t)?N0(t,e):t&&C_(t)?N0(t.\u0275providers,e):e(t)}const Pp=new nt("AppId",{providedIn:"root",factory:()=>I5}),I5="ng",aS=new nt("Platform Initializer"),Is=new nt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lS=new nt("AnimationModuleType"),cS=new nt("CSP nonce",{providedIn:"root",factory:()=>function Ol(){if(void 0!==S0)return S0;if(typeof document<"u")return document;throw new se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uS=(i,e,t)=>null;function $0(i,e,t=!1){return uS(i,e,t)}class V5{}class pS{}class U5{resolveComponentFactory(e){throw function B5(i){const e=Error(`No component factory found for ${di(i)}.`);return e.ngComponent=i,e}(e)}}let Np=(()=>{class e{}return e.NULL=new U5,e})();function H5(){return Vl(Pi(),ge())}function Vl(i,e){return new sn(cs(i,e))}let sn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=H5,e})();function z5(i){return i instanceof sn?i.nativeElement:i}class $u{}let pi=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function G5(){const i=ge(),t=Ms(Pi().index,i);return(ls(t)?t:i)[St]}(),e})(),W5=(()=>{var i;class e{}return(i=e).\u0275prov=Qe({token:i,providedIn:"root",factory:()=>null}),e})();class ju{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const $5=new ju("16.2.4"),Y0={};function vS(i,e=null,t=null,n){const s=yS(i,e,t,n);return s.resolveInjectorInitializers(),s}function yS(i,e=null,t=null,n,s=new Set){const r=[t||tn,y5(i)];return n=n||("object"==typeof i?void 0:di(i)),new Ap(r,e||Dp(),n||null,s)}let ds=(()=>{var i;class e{static create(n,s){if(Array.isArray(n))return vS({name:""},s,n,"");{const r=n.name??"";return vS({name:r},n.parent,n.providers,r)}}}return(i=e).THROW_IF_NOT_FOUND=mu,i.NULL=new P0,i.\u0275prov=Qe({token:i,providedIn:"any",factory:()=>et(JT)}),i.__NG_ELEMENT_ID__=-1,e})();function Z0(i){return e=>{setTimeout(i,void 0,e)}}const me=class Q5 extends qn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let s=e,r=t||(()=>null),o=n;if(e&&"object"==typeof e){const l=e;s=l.next?.bind(l),r=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(r=Z0(r),s&&(s=Z0(s)),o&&(o=Z0(o)));const a=super.subscribe({next:s,error:r,complete:o});return e instanceof rs&&e.add(a),a}};function bS(...i){}class Wt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new me(!1),this.onMicrotaskEmpty=new me(!1),this.onStable=new me(!1),this.onError=new me(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&t,s.shouldCoalesceRunChangeDetection=n,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function J5(){const i="function"==typeof Sn.requestAnimationFrame;let e=Sn[i?"requestAnimationFrame":"setTimeout"],t=Sn[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function n6(i){const e=()=>{!function t6(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Sn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,J0(i),i.isCheckStableRunning=!0,Q0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),J0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,s,r,o,a)=>{if(function r6(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(s,r,o,a);try{return wS(i),t.invokeTask(s,r,o,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||i.shouldCoalesceRunChangeDetection)&&e(),CS(i)}},onInvoke:(t,n,s,r,o,a,l)=>{try{return wS(i),t.invoke(s,r,o,a,l)}finally{i.shouldCoalesceRunChangeDetection&&e(),CS(i)}},onHasTask:(t,n,s,r)=>{t.hasTask(s,r),n===s&&("microTask"==r.change?(i._hasPendingMicrotasks=r.microTask,J0(i),Q0(i)):"macroTask"==r.change&&(i.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,s,r)=>(t.handleError(s,r),i.runOutsideAngular(()=>i.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wt.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(Wt.isInAngularZone())throw new se(909,!1)}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,e,e6,bS,bS);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const e6={};function Q0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function J0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function wS(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function CS(i){i._nesting--,Q0(i)}class s6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new me,this.onMicrotaskEmpty=new me,this.onStable=new me,this.onError=new me}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,s){return e.apply(t,n)}}const xS=new nt("",{providedIn:"root",factory:TS});function TS(){const i=Ze(Wt);let e=!0;return function sk(...i){const e=fu(i),t=function Z4(i,e){return"number"==typeof v_(i)?i.pop():e}(i,1/0),n=i;return n.length?1===n.length?xs(n[0]):cl(t)(yi(n,e)):_r}(new ni(s=>{e=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{s.next(e),s.complete()})}),new ni(s=>{let r;i.runOutsideAngular(()=>{r=i.onStable.subscribe(()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(e=!0,s.next(!0))})})});const o=i.onUnstable.subscribe(()=>{Wt.assertInAngularZone(),e&&(e=!1,i.runOutsideAngular(()=>{s.next(!1)}))});return()=>{r.unsubscribe(),o.unsubscribe()}}).pipe(RC()))}function SS(i){return i.ownerDocument}function qr(i){return i instanceof Function?i():i}let ev=(()=>{var i;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new se(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const n of this.callbacks)n.invoke()}finally{this.runningCallbacks=!1;for(const n of this.deferredCallbacks)this.callbacks.add(n);this.deferredCallbacks.clear()}}register(n){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(n)}unregister(n){this.callbacks.delete(n),this.deferredCallbacks.delete(n)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=e).\u0275prov=Qe({token:i,providedIn:"root",factory:()=>new i}),e})();function qu(i){for(;i;){i[At]|=64;const e=Fu(i);if(N_(i)&&!e)return i;i=e}return null}function tv(i){return i.ngOriginalError}class va{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&tv(e);for(;t&&tv(t);)t=tv(t);return t||null}}const AS=new nt("",{providedIn:"root",factory:()=>!1});let Bp=null;function LS(i,e){return i[e]??NS()}function kS(i,e){const t=NS();t.producerNode?.length&&(i[e]=Bp,t.lView=i,Bp=FS())}const f6={...qh,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{qu(i.lView)},lView:null};function FS(){return Object.create(f6)}function NS(){return Bp??=FS(),Bp}const Et={};function b(i){VS(Qt(),ge(),Wi()+i,!1)}function VS(i,e,t,n){if(!n)if(3==(3&e[At])){const r=i.preOrderCheckHooks;null!==r&&tp(e,r,t)}else{const r=i.preOrderHooks;null!==r&&np(e,r,0,t)}fa(t)}function G(i,e=Bt.Default){const t=ge();return null===t?et(i,e):Xx(Pi(),t,wt(i),e)}function Up(i,e,t,n,s,r,o,a,l,c,u){const h=e.blueprint.slice();return h[Hn]=s,h[At]=140|n,(null!==c||i&&2048&i[At])&&(h[At]|=2048),Sx(h),h[Rn]=h[fl]=i,h[Kn]=t,h[pl]=o||i&&i[pl],h[St]=a||i&&i[St],h[So]=l||i&&i[So]||null,h[Li]=r,h[Cu]=function bN(){return yN++}(),h[Gr]=u,h[tx]=c,h[Xn]=2==e.type?i[Xn]:h,h}function Hl(i,e,t,n,s){let r=i.data[e];if(null===r)r=function nv(i,e,t,n,s){const r=Px(),o=$_(),l=i.data[e]=function C6(i,e,t,n,s,r){let o=e?e.injectorIndex:-1,a=0;return yl()&&(a|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,t,e,n,s);return null===i.firstChild&&(i.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l,l.prev=r)),l}(i,e,t,n,s),function bF(){return vt.lFrame.inI18n}()&&(r.flags|=32);else if(64&r.type){r.type=t,r.value=n,r.attrs=s;const o=function Eu(){const i=vt.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return xr(r,!0),r}function Yu(i,e,t,n){if(0===t)return-1;const s=e.length;for(let r=0;r<t;r++)e.push(n),i.blueprint.push(n),i.data.push(null);return s}function US(i,e,t,n,s){const r=LS(e,xu),o=Wi(),a=2&n;try{fa(-1),a&&e.length>Gt&&VS(i,e,Gt,!1),Cr(a?2:0,s);const c=a?r:null,u=Yh(c);try{null!==c&&(c.dirty=!1),t(n,s)}finally{Kh(c,u)}}finally{a&&null===e[xu]&&kS(e,xu),fa(o),Cr(a?3:1,s)}}function iv(i,e,t){if(F_(e)){const n=$s(null);try{const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const a=i.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{$s(n)}}}function sv(i,e,t){Ax()&&(function D6(i,e,t,n){const s=t.directiveStart,r=t.directiveEnd;ha(t)&&function F6(i,e,t){const n=cs(e,i),s=HS(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Hp(i,Up(i,s,null,o,n,e,null,i[pl].rendererFactory.createRenderer(n,t),null,null,null));i[e.index]=a}(e,t,i.data[s+t.componentOffset]),i.firstCreatePass||sp(t,e),ki(n,e);const o=t.initialInputs;for(let a=s;a<r;a++){const l=i.data[a],c=ma(e,i,a,t);ki(c,e),null!==o&&N6(0,a-s,c,l,0,o),rr(l)&&(Ms(t.index,e)[Kn]=ma(e,i,a,t))}}(i,e,t,cs(t,e)),64==(64&t.flags)&&jS(i,e,t))}function rv(i,e,t=cs){const n=e.localNames;if(null!==n){let s=e.index+1;for(let r=0;r<n.length;r+=2){const o=n[r+1],a=-1===o?t(e,i):i[o];i[s++]=a}}}function HS(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=ov(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):e}function ov(i,e,t,n,s,r,o,a,l,c,u){const h=Gt+n,p=h+s,f=function g6(i,e){const t=[];for(let n=0;n<e;n++)t.push(n<i?null:Et);return t}(h,p),m="function"==typeof c?c():c;return f[Be]={type:i,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:u}}let zS=i=>null;function GS(i,e,t,n){for(let s in i)if(i.hasOwnProperty(s)){t=null===t?{}:t;const r=i[s];null===n?WS(t,e,s,r):n.hasOwnProperty(s)&&WS(t,e,n[s],r)}return t}function WS(i,e,t,n){i.hasOwnProperty(t)?i[t].push(e,n):i[t]=[e,n]}function av(i,e,t,n){if(Ax()){const s=null===n?null:{"":-1},r=function P6(i,e){const t=i.directiveRegistry;let n=null,s=null;if(t)for(let r=0;r<t.length;r++){const o=t[r];if(KC(e,o.selectors,!1))if(n||(n=[]),rr(o))if(null!==o.findHostDirectiveDefs){const a=[];s=s||new Map,o.findHostDirectiveDefs(o,a,s),n.unshift(...a,o),lv(i,e,a.length)}else n.unshift(o),lv(i,e,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,n,s),n.push(o)}return null===n?null:[n,s]}(i,t);let o,a;null===r?o=a=null:[o,a]=r,null!==o&&$S(i,e,t,o,s,a),s&&function R6(i,e,t){if(e){const n=i.localNames=[];for(let s=0;s<e.length;s+=2){const r=t[e[s+1]];if(null==r)throw new se(-301,!1);n.push(e[s],r)}}}(t,n,s)}t.mergedAttrs=vu(t.mergedAttrs,t.attrs)}function $S(i,e,t,n,s,r){for(let c=0;c<n.length;c++)s0(sp(t,e),i,n[c].type);!function L6(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}(t,i.data.length,n.length);for(let c=0;c<n.length;c++){const u=n[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Yu(i,e,n.length,null);for(let c=0;c<n.length;c++){const u=n[c];t.mergedAttrs=vu(t.mergedAttrs,u.hostAttrs),k6(i,t,e,l,u),O6(l,u,s),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((i.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function x6(i,e,t){const s=e.directiveEnd,r=i.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<s;u++){const h=r[u],p=t?t.get(h):null,m=p?p.outputs:null;l=GS(h.inputs,u,l,p?p.inputs:null),c=GS(h.outputs,u,c,m);const v=null===l||null===o||YC(e)?null:V6(l,u,o);a.push(v)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(i,t,r)}function jS(i,e,t){const n=t.directiveStart,s=t.directiveEnd,r=t.index,o=function CF(){return vt.lFrame.currentDirectiveIndex}();try{fa(r);for(let a=n;a<s;a++){const l=i.data[a],c=e[a];q_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&A6(l,c)}}finally{fa(-1),q_(o)}}function A6(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function lv(i,e,t){e.componentOffset=t,(i.components??=[]).push(e.index)}function O6(i,e,t){if(t){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)t[e.exportAs[n]]=i;rr(e)&&(t[""]=i)}}function k6(i,e,t,n,s){i.data[n]=s;const r=s.factory||(s.factory=pa(s.type)),o=new Iu(r,rr(s),G);i.blueprint[n]=o,t[n]=o,function E6(i,e,t,n,s){const r=s.hostBindings;if(r){let o=i.hostBindingOpCodes;null===o&&(o=i.hostBindingOpCodes=[]);const a=~e.index;(function I6(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,n,r)}}(i,e,n,Yu(i,t,s.hostVars,Et),s)}function Sr(i,e,t,n,s,r){const o=cs(i,e);!function cv(i,e,t,n,s,r,o){if(null==r)i.removeAttribute(e,s,t);else{const a=null==o?Tt(r):o(r,n||"",s);i.setAttribute(e,s,a,t)}}(e[St],o,r,i.value,t,n,s)}function N6(i,e,t,n,s,r){const o=r[e];if(null!==o)for(let a=0;a<o.length;)qS(n,t,o[a++],o[a++],o[a++])}function qS(i,e,t,n,s){const r=$s(null);try{const o=i.inputTransforms;null!==o&&o.hasOwnProperty(n)&&(s=o[n].call(e,s)),null!==i.setInput?i.setInput(e,s,t,n):e[n]=s}finally{$s(r)}}function V6(i,e,t){let n=null,s=0;for(;s<t.length;){const r=t[s];if(0!==r)if(5!==r){if("number"==typeof r)break;if(i.hasOwnProperty(r)){null===n&&(n=[]);const o=i[r];for(let a=0;a<o.length;a+=2)if(o[a]===e){n.push(r,o[a+1],t[s+1]);break}}s+=2}else s+=2;else s+=4}return n}function YS(i,e,t,n){return[i,!0,!1,e,null,0,n,t,null,null,null]}function KS(i,e){const t=i.contentQueries;if(null!==t)for(let n=0;n<t.length;n+=2){const r=t[n+1];if(-1!==r){const o=i.data[r];K_(t[n]),o.contentQueries(2,e[r],r)}}}function Hp(i,e){return i[bu]?i[ex][sr]=e:i[bu]=e,i[ex]=e,e}function uv(i,e,t){K_(0);const n=$s(null);try{e(i,t)}finally{$s(n)}}function XS(i){return i[hl]||(i[hl]=[])}function ZS(i){return i.cleanup||(i.cleanup=[])}function JS(i,e){const t=i[So],n=t?t.get(va,null):null;n&&n.handleError(e)}function dv(i,e,t,n,s){for(let r=0;r<t.length;){const o=t[r++],a=t[r++];qS(i.data[o],e[o],n,a,s)}}function Yr(i,e,t){const n=Qh(e,i);!function MT(i,e,t){i.setValue(e,t)}(i[St],n,t)}function B6(i,e){const t=Ms(e,i),n=t[Be];!function U6(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])}(n,t);const s=t[Hn];null!==s&&null===t[Gr]&&(t[Gr]=$0(s,t[So])),hv(n,t,t[Kn])}function hv(i,e,t){X_(e);try{const n=i.viewQuery;null!==n&&uv(1,n,t);const s=i.template;null!==s&&US(i,e,s,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&KS(i,e),i.staticViewQueries&&uv(2,i.viewQuery,t);const r=i.components;null!==r&&function H6(i,e){for(let t=0;t<e.length;t++)B6(i,e[t])}(e,r)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{e[At]&=-5,Z_()}}let e2=(()=>{var i;class e{constructor(){this.all=new Set,this.queue=new Map}create(n,s,r){const o=typeof Zone>"u"?null:Zone.current,a=function Qk(i,e,t){const n=Object.create(Jk);t&&(n.consumerAllowSignalWrites=!0),n.fn=i,n.schedule=e;const s=o=>{n.cleanupFn=o};return n.ref={notify:()=>cx(n),run:()=>{if(n.dirty=!1,n.hasRun&&!ux(n))return;n.hasRun=!0;const o=Yh(n);try{n.cleanupFn(),n.cleanupFn=vx,n.fn(s)}finally{Kh(n,o)}},cleanup:()=>n.cleanupFn()},n.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},r);let l;this.all.add(a),a.notify();const c=()=>{a.cleanup(),l?.(),this.all.delete(a),this.queue.delete(a)};return l=s?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,s]of this.queue)this.queue.delete(n),s?s.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=e).\u0275prov=Qe({token:i,providedIn:"root",factory:()=>new i}),e})();function zp(i,e,t){let n=t?i.styles:null,s=t?i.classes:null,r=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?r=a:1==r?s=b_(s,a):2==r&&(n=b_(n,a+": "+e[++o]+";"))}t?i.styles=n:i.stylesWithoutHost=n,t?i.classes=s:i.classesWithoutHost=s}function Ku(i,e,t,n,s=!1){for(;null!==t;){const r=e[t.index];null!==r&&n.push(Mn(r)),zi(r)&&t2(r,n);const o=t.type;if(8&o)Ku(i,e,t.child,n);else if(32&o){const a=g0(t,e);let l;for(;l=a();)n.push(l)}else if(16&o){const a=kT(e,t);if(Array.isArray(a))n.push(...a);else{const l=Fu(e[Xn]);Ku(l[Be],l,a,n,!0)}}t=s?t.projectionNext:t.next}return n}function t2(i,e){for(let t=Ii;t<i.length;t++){const n=i[t],s=n[Be].firstChild;null!==s&&Ku(n[Be],n,s,e)}i[wr]!==i[Hn]&&e.push(i[wr])}function Gp(i,e,t,n=!0){const s=e[pl],r=s.rendererFactory,o=s.afterRenderEventManager;r.begin?.(),o?.begin();try{n2(i,e,i.template,t)}catch(l){throw n&&JS(e,l),l}finally{r.end?.(),s.effectManager?.flush(),o?.end()}}function n2(i,e,t,n){const s=e[At];if(256!=(256&s)){e[pl].effectManager?.flush(),X_(e);try{Sx(e),function Ox(i){return vt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&US(i,e,t,2,n);const o=3==(3&s);if(o){const c=i.preOrderCheckHooks;null!==c&&tp(e,c,null)}else{const c=i.preOrderHooks;null!==c&&np(e,c,0,null),Q_(e,0)}if(function W6(i){for(let e=xT(i);null!==e;e=TT(e)){if(!e[nx])continue;const t=e[gl];for(let n=0;n<t.length;n++){cF(t[n])}}}(e),s2(e,2),null!==i.contentQueries&&KS(i,e),o){const c=i.contentCheckHooks;null!==c&&tp(e,c)}else{const c=i.contentHooks;null!==c&&np(e,c,1),Q_(e,1)}!function m6(i,e){const t=i.hostBindingOpCodes;if(null===t)return;const n=LS(e,Tu);try{for(let s=0;s<t.length;s++){const r=t[s];if(r<0)fa(~r);else{const o=r,a=t[++s],l=t[++s];wF(a,o),n.dirty=!1;const c=Yh(n);try{l(2,e[o])}finally{Kh(n,c)}}}}finally{null===e[Tu]&&kS(e,Tu),fa(-1)}}(i,e);const a=i.components;null!==a&&o2(e,a,0);const l=i.viewQuery;if(null!==l&&uv(2,l,n),o){const c=i.viewCheckHooks;null!==c&&tp(e,c)}else{const c=i.viewHooks;null!==c&&np(e,c,2),Q_(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),e[At]&=-73,Mx(e)}finally{Z_()}}}function s2(i,e){for(let t=xT(i);null!==t;t=TT(t))for(let n=Ii;n<t.length;n++)r2(t[n],e)}function $6(i,e,t){r2(Ms(e,i),t)}function r2(i,e){if(!function aF(i){return 128==(128&i[At])}(i))return;const t=i[Be],n=i[At];if(80&n&&0===e||1024&n||2===e)n2(t,i,t.template,i[Kn]);else if(i[yu]>0){s2(i,1);const s=t.components;null!==s&&o2(i,s,1)}}function o2(i,e,t){for(let n=0;n<e.length;n++)$6(i,e[n],t)}class Xu{get rootNodes(){const e=this._lView,t=e[Be];return Ku(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kn]}set context(e){this._lView[Kn]=e}get destroyed(){return 256==(256&this._lView[At])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Rn];if(zi(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(bp(e,n),lp(t,n))}this._attachedToViewContainer=!1}v0(this._lView[Be],this._lView)}onDestroy(e){!function Ix(i,e){if(256==(256&i[At]))throw new se(911,!1);null===i[Mo]&&(i[Mo]=[]),i[Mo].push(e)}(this._lView,e)}markForCheck(){qu(this._cdRefInjectingView||this._lView)}detach(){this._lView[At]&=-129}reattach(){this._lView[At]|=128}detectChanges(){Gp(this._lView[Be],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function LN(i,e){Vu(i,e,e[St],2,null,null)}(this._lView[Be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=e}}class j6 extends Xu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Gp(e[Be],e,e[Kn],!1)}checkNoChanges(){}get context(){return null}}class a2 extends Np{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Zt(e);return new Zu(t,this.ngModule)}}function l2(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}class Y6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,n){n=Uh(n);const s=this.injector.get(e,Y0,n);return s!==Y0||t===Y0?s:this.parentInjector.get(e,t,n)}}class Zu extends pS{get inputs(){const e=this.componentDef,t=e.inputTransforms,n=l2(e.inputs);if(null!==t)for(const s of n)t.hasOwnProperty(s.propName)&&(s.transform=t[s.propName]);return n}get outputs(){return l2(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Lk(i){return i.map(Ok).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,n,s){let r=(s=s||this.ngModule)instanceof qs?s:s?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);const o=r?new Y6(e,r):e,a=o.get($u,null);if(null===a)throw new se(407,!1);const h={rendererFactory:a,sanitizer:o.get(W5,null),effectManager:o.get(e2,null),afterRenderEventManager:o.get(ev,null)},p=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=n?function _6(i,e,t,n){const r=n.get(AS,!1)||t===Ws.ShadowDom,o=i.selectRootElement(e,r);return function v6(i){zS(i)}(o),o}(p,n,this.componentDef.encapsulation,o):yp(p,f,function q6(i){const e=i.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),g=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let C=null;null!==m&&(C=$0(m,o,!0));const w=ov(0,null,null,1,0,null,null,null,null,null,null),M=Up(null,w,null,g,null,null,h,p,o,null,C);let D,P;X_(M);try{const R=this.componentDef;let N,I=null;R.findHostDirectiveDefs?(N=[],I=new Map,R.findHostDirectiveDefs(R,N,I),N.push(R)):N=[R];const O=function X6(i,e){const t=i[Be],n=Gt;return i[n]=e,Hl(t,n,2,"#host",null)}(M,m),Y=function Z6(i,e,t,n,s,r,o){const a=s[Be];!function Q6(i,e,t,n){for(const s of i)e.mergedAttrs=vu(e.mergedAttrs,s.hostAttrs);null!==e.mergedAttrs&&(zp(e,e.mergedAttrs,!0),null!==t&&BT(n,t,e))}(n,i,e,o);let l=null;null!==e&&(l=$0(e,s[So]));const c=r.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const h=Up(s,HS(t),null,u,s[i.index],i,r,c,null,null,l);return a.firstCreatePass&&lv(a,i,n.length-1),Hp(s,h),s[i.index]=h}(O,m,R,N,M,h,p);P=Tx(w,Gt),m&&function e7(i,e,t,n){if(n)L_(i,t,["ng-version",$5.full]);else{const{attrs:s,classes:r}=function kk(i){const e=[],t=[];let n=1,s=2;for(;n<i.length;){let r=i[n];if("string"==typeof r)2===s?""!==r&&e.push(r,i[++n]):8===s&&t.push(r);else{if(!ir(s))break;s=r}n++}return{attrs:e,classes:t}}(e.selectors[0]);s&&L_(i,t,s),r&&r.length>0&&VT(i,t,r.join(" "))}}(p,R,m,n),void 0!==t&&function t7(i,e,t){const n=i.projection=[];for(let s=0;s<e.length;s++){const r=t[s];n.push(null!=r?Array.from(r):null)}}(P,this.ngContentSelectors,t),D=function J6(i,e,t,n,s,r){const o=Pi(),a=s[Be],l=cs(o,s);$S(a,s,o,t,null,n);for(let u=0;u<t.length;u++)ki(ma(s,a,o.directiveStart+u,o),s);jS(a,s,o),l&&ki(l,s);const c=ma(s,a,o.directiveStart+o.componentOffset,o);if(i[Kn]=s[Kn]=c,null!==r)for(const u of r)u(c,e);return iv(a,o,i),c}(Y,R,N,I,M,[n7]),hv(w,M,null)}finally{Z_()}return new K6(this.componentType,D,Vl(P,M),M,P)}}class K6 extends V5{constructor(e,t,n,s,r){super(),this.location=n,this._rootLView=s,this._tNode=r,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new j6(s),this.componentType=e}setInput(e,t){const n=this._tNode.inputs;let s;if(null!==n&&(s=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const r=this._rootLView;dv(r[Be],r,s,e,t),this.previousInputValues.set(e,t),qu(Ms(this._tNode.index,r))}}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function n7(){const i=Pi();ep(ge()[Be],i)}function ot(i){let e=function c2(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const n=[i];for(;e;){let s;if(rr(i))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new se(903,!1);s=e.\u0275dir}if(s){if(t){n.push(s);const o=i;o.inputs=Wp(i.inputs),o.inputTransforms=Wp(i.inputTransforms),o.declaredInputs=Wp(i.declaredInputs),o.outputs=Wp(i.outputs);const a=s.hostBindings;a&&a7(i,a);const l=s.viewQuery,c=s.contentQueries;if(l&&r7(i,l),c&&o7(i,c),Lh(i.inputs,s.inputs),Lh(i.declaredInputs,s.declaredInputs),Lh(i.outputs,s.outputs),null!==s.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Lh(o.inputTransforms,s.inputTransforms)),rr(s)&&s.data.animation){const u=i.data;u.animation=(u.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(i),a===ot&&(t=!1)}}e=Object.getPrototypeOf(e)}!function s7(i){let e=0,t=null;for(let n=i.length-1;n>=0;n--){const s=i[n];s.hostVars=e+=s.hostVars,s.hostAttrs=vu(s.hostAttrs,t=vu(t,s.hostAttrs))}}(n)}function Wp(i){return i===yr?{}:i===tn?[]:i}function r7(i,e){const t=i.viewQuery;i.viewQuery=t?(n,s)=>{e(n,s),t(n,s)}:e}function o7(i,e){const t=i.contentQueries;i.contentQueries=t?(n,s,r)=>{e(n,s,r),t(n,s,r)}:e}function a7(i,e){const t=i.hostBindings;i.hostBindings=t?(n,s)=>{e(n,s),t(n,s)}:e}function p2(i){const e=i.inputConfig,t={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n];Array.isArray(s)&&s[2]&&(t[n]=s[2])}i.inputTransforms=t}function $p(i){return!!pv(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function pv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Mr(i,e,t){return i[e]=t}function Qu(i,e){return i[e]}function Fi(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function ya(i,e,t,n){const s=Fi(i,e,t);return Fi(i,e+1,n)||s}function jp(i,e,t,n,s){const r=ya(i,e,t,n);return Fi(i,e+2,s)||r}function Ys(i,e,t,n,s,r){const o=ya(i,e,t,n);return ya(i,e+2,s,r)||o}function pe(i,e,t,n){const s=ge();return Fi(s,bl(),e)&&(Qt(),Sr(kn(),s,i,e,t,n)),pe}function Wl(i,e,t,n,s,r){const a=ya(i,function Wr(){return vt.lFrame.bindingIndex}(),t,s);return $r(2),a?e+Tt(t)+n+Tt(s)+r:Et}function x(i,e,t,n,s,r,o,a){const l=ge(),c=Qt(),u=i+Gt,h=c.firstCreatePass?function R7(i,e,t,n,s,r,o,a,l){const c=e.consts,u=Hl(e,i,4,o||null,Io(c,a));av(e,t,u,Io(c,l)),ep(e,u);const h=u.tView=ov(2,u,n,s,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,n,s,r,o):c.data[u];xr(h,!1);const p=M2(c,l,h,i);Jh()&&Cp(c,l,p,h),ki(p,l),Hp(l,l[u]=YS(p,l,p,h)),$h(h)&&sv(c,l,h),null!=o&&rv(l,h,a)}let M2=function E2(i,e,t,n){return Do(!0),e[St].createComment("")};function xn(i){return vl(function yF(){return vt.lFrame.contextLView}(),Gt+i)}function y(i,e,t){const n=ge();return Fi(n,bl(),e)&&function Ds(i,e,t,n,s,r,o,a){const l=cs(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[n])?(dv(i,t,u,n,s),ha(e)&&function S6(i,e){const t=Ms(e,i);16&t[At]||(t[At]|=64)}(t,e.index)):3&e.type&&(n=function T6(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),s=null!=o?o(s,e.value||"",n):s,r.setProperty(l,n,s))}(Qt(),kn(),n,i,e,n[St],t,!1),y}function yv(i,e,t,n,s){const o=s?"class":"style";dv(i,t,e.inputs[o],o,n)}function S(i,e,t,n){const s=ge(),r=Qt(),o=Gt+i,a=s[St],l=r.firstCreatePass?function F7(i,e,t,n,s,r){const o=e.consts,l=Hl(e,i,2,n,Io(o,s));return av(e,t,l,Io(o,r)),null!==l.attrs&&zp(l,l.attrs,!1),null!==l.mergedAttrs&&zp(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,r,s,e,t,n):r.data[o],c=I2(r,s,l,a,e,i);s[o]=c;const u=$h(l);return xr(l,!0),BT(a,c,l),32!=(32&l.flags)&&Jh()&&Cp(r,s,c,l),0===function dF(){return vt.lFrame.elementDepthCount}()&&ki(c,s),function hF(){vt.lFrame.elementDepthCount++}(),u&&(sv(r,s,l),iv(r,l,s)),null!==n&&rv(s,l),S}function E(){let i=Pi();$_()?j_():(i=i.parent,xr(i,!1));const e=i;(function fF(i){return vt.skipHydrationRootTNode===i})(e)&&function vF(){vt.skipHydrationRootTNode=null}(),function pF(){vt.lFrame.elementDepthCount--}();const t=Qt();return t.firstCreatePass&&(ep(t,i),F_(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function RF(i){return 0!=(8&i.flags)}(e)&&yv(t,e,ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function OF(i){return 0!=(16&i.flags)}(e)&&yv(t,e,ge(),e.stylesWithoutHost,!1),E}function ee(i,e,t,n){return S(i,e,t,n),E(),ee}let I2=(i,e,t,n,s,r)=>(Do(!0),yp(n,s,function Hx(){return vt.lFrame.currentNamespace}()));function Oe(i,e,t){const n=ge(),s=Qt(),r=i+Gt,o=s.firstCreatePass?function B7(i,e,t,n,s){const r=e.consts,o=Io(r,n),a=Hl(e,i,8,"ng-container",o);return null!==o&&zp(a,o,!0),av(e,t,a,Io(r,s)),null!==e.queries&&e.queries.elementStart(e,a),a}(r,s,n,e,t):s.data[r];xr(o,!0);const a=D2(s,n,o,i);return n[r]=a,Jh()&&Cp(s,n,a,o),ki(a,n),$h(o)&&(sv(s,n,o),iv(s,o,n)),null!=t&&rv(n,o),Oe}function Le(){let i=Pi();const e=Qt();return $_()?j_():(i=i.parent,xr(i,!1)),e.firstCreatePass&&(ep(e,i),F_(i)&&e.queries.elementEnd(i)),Le}function Ie(i,e,t){return Oe(i,e,t),Le(),Ie}let D2=(i,e,t,n)=>(Do(!0),_0(e[St],""));function Ge(){return ge()}function nd(i){return!!i&&"function"==typeof i.then}function A2(i){return!!i&&"function"==typeof i.subscribe}function ae(i,e,t,n){const s=ge(),r=Qt(),o=Pi();return function R2(i,e,t,n,s,r,o){const a=$h(n),c=i.firstCreatePass&&ZS(i),u=e[Kn],h=XS(e);let p=!0;if(3&n.type||o){const v=cs(n,e),_=o?o(v):v,g=h.length,C=o?M=>o(Mn(M[n.index])):n.index;let w=null;if(!o&&a&&(w=function z7(i,e,t,n){const s=i.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===t&&s[r+1]===n){const a=e[hl],l=s[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(i,e,s,n.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=r,w.__ngLastListenerFn__=r,p=!1;else{r=L2(n,e,u,r,!1);const M=t.listen(_,s,r);h.push(r,M),c&&c.push(s,C,g,g+1)}}else r=L2(n,e,u,r,!1);const f=n.outputs;let m;if(p&&null!==f&&(m=f[s])){const v=m.length;if(v)for(let _=0;_<v;_+=2){const D=e[m[_]][m[_+1]].subscribe(r),P=h.length;h.push(r,D),c&&c.push(s,n.index,P,-(P+1))}}}(r,s,s[St],o,i,e,n),ae}function O2(i,e,t,n){try{return Cr(6,e,t),!1!==t(n)}catch(s){return JS(i,s),!1}finally{Cr(7,e,t)}}function L2(i,e,t,n,s){return function r(o){if(o===Function)return n;qu(i.componentOffset>-1?Ms(i.index,e):e);let l=O2(e,t,n,o),c=r.__ngNextListenerFn__;for(;c;)l=O2(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return s&&!1===l&&o.preventDefault(),l}}function T(i=1){return function TF(i){return(vt.lFrame.contextLView=function SF(i,e){for(;i>0;)e=e[fl],i--;return e}(i,vt.lFrame.contextLView))[Kn]}(i)}function G7(i,e){let t=null;const n=function Dk(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(i);for(let s=0;s<e.length;s++){const r=e[s];if("*"!==r){if(null===n?KC(i,r,!0):Rk(n,r))return s}else t=s}return t}function hs(i){const e=ge()[Xn][Li];if(!e.projection){const n=e.projection=Ou(i?i.length:1,null),s=n.slice();let r=e.child;for(;null!==r;){const o=i?G7(r,i):0;null!==o&&(s[o]?s[o].projectionNext=r:n[o]=r,s[o]=r),r=r.next}}}function zn(i,e=0,t){const n=ge(),s=Qt(),r=Hl(s,Gt+i,16,null,t||null);null===r.projection&&(r.projection=e),j_(),(!n[Gr]||yl())&&32!=(32&r.flags)&&function zN(i,e,t){NT(e[St],0,e,t,b0(i,t,e),PT(t.parent||e[Li],t,e))}(s,n,r)}function Xp(i,e){return i<<17|e<<2}function Ro(i){return i>>17&32767}function wv(i){return 2|i}function ba(i){return(131068&i)>>2}function Cv(i,e){return-131069&i|e<<2}function xv(i){return 1|i}function W2(i,e,t,n,s){const r=i[t+1],o=null===e;let a=n?Ro(r):ba(r),l=!1;for(;0!==a&&(!1===l||o);){const u=i[a+1];K7(i[a],e)&&(l=!0,i[a+1]=n?xv(u):wv(u)),a=n?Ro(u):ba(u)}l&&(i[t+1]=n?wv(r):xv(r))}function K7(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&Il(i,e)>=0}const fi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $2(i){return i.substring(fi.key,fi.keyEnd)}function X7(i){return i.substring(fi.value,fi.valueEnd)}function j2(i,e){const t=fi.textEnd;return t===e?-1:(e=fi.keyEnd=function J7(i,e,t){for(;e<t&&i.charCodeAt(e)>32;)e++;return e}(i,fi.key=e,t),Zl(i,e,t))}function q2(i,e){const t=fi.textEnd;let n=fi.key=Zl(i,e,t);return t===n?-1:(n=fi.keyEnd=function e9(i,e,t){let n;for(;e<t&&(45===(n=i.charCodeAt(e))||95===n||(-33&n)>=65&&(-33&n)<=90||n>=48&&n<=57);)e++;return e}(i,n,t),n=K2(i,n,t),n=fi.value=Zl(i,n,t),n=fi.valueEnd=function t9(i,e,t){let n=-1,s=-1,r=-1,o=e,a=o;for(;o<t;){const l=i.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=X2(i,l,o,t):e===o-4&&85===r&&82===s&&76===n&&40===l?a=o=X2(i,41,o,t):l>32&&(a=o),r=s,s=n,n=-33&l}return a}(i,n,t),K2(i,n,t))}function Y2(i){fi.key=0,fi.keyEnd=0,fi.value=0,fi.valueEnd=0,fi.textEnd=i.length}function Zl(i,e,t){for(;e<t&&i.charCodeAt(e)<=32;)e++;return e}function K2(i,e,t,n){return(e=Zl(i,e,t))<t&&e++,e}function X2(i,e,t,n){let s=-1,r=t;for(;r<n;){const o=i.charCodeAt(r++);if(o==e&&92!==s)return r;s=92==o&&92===s?0:o}throw new Error}function Zp(i,e,t){return or(i,e,t,!1),Zp}function Kr(i,e){return or(i,e,null,!0),Kr}function en(i){ar(J2,n9,i,!1)}function n9(i,e){for(let t=function Q7(i){return Y2(i),q2(i,Zl(i,0,fi.textEnd))}(e);t>=0;t=q2(e,t))J2(i,$2(e),X7(e))}function Ne(i){ar(c9,Er,i,!0)}function Er(i,e){for(let t=function Z7(i){return Y2(i),j2(i,Zl(i,0,fi.textEnd))}(e);t>=0;t=j2(e,t))Es(i,$2(e),!0)}function or(i,e,t,n){const s=ge(),r=Qt(),o=$r(2);r.firstUpdatePass&&Q2(r,i,o,n),e!==Et&&Fi(s,o,e)&&eM(r,r.data[Wi()],s,s[St],i,s[o+1]=function d9(i,e){return null==i||""===i||("string"==typeof e?i+=e:"object"==typeof i&&(i=di(Po(i)))),i}(e,t),n,o)}function ar(i,e,t,n){const s=Qt(),r=$r(2);s.firstUpdatePass&&Q2(s,null,r,n);const o=ge();if(t!==Et&&Fi(o,r,t)){const a=s.data[Wi()];if(nM(a,n)&&!Z2(s,r)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=b_(l,t||"")),yv(s,a,o,t,n)}else!function u9(i,e,t,n,s,r,o,a){s===Et&&(s=tn);let l=0,c=0,u=0<s.length?s[0]:null,h=0<r.length?r[0]:null;for(;null!==u||null!==h;){const p=l<s.length?s[l+1]:void 0,f=c<r.length?r[c+1]:void 0;let v,m=null;u===h?(l+=2,c+=2,p!==f&&(m=h,v=f)):null===h||null!==u&&u<h?(l+=2,m=u):(c+=2,m=h,v=f),null!==m&&eM(i,e,t,n,m,v,o,a),u=l<s.length?s[l]:null,h=c<r.length?r[c]:null}}(s,a,o,o[St],o[r+1],o[r+1]=function l9(i,e,t){if(null==t||""===t)return tn;const n=[],s=Po(t);if(Array.isArray(s))for(let r=0;r<s.length;r++)i(n,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&i(n,r,s[r]);else"string"==typeof s&&e(n,s);return n}(i,e,t),n,r)}}function Z2(i,e){return e>=i.expandoStartIndex}function Q2(i,e,t,n){const s=i.data;if(null===s[t+1]){const r=s[Wi()],o=Z2(i,t);nM(r,n)&&null===e&&!o&&(e=!1),e=function s9(i,e,t,n){const s=function Y_(i){const e=vt.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}(i);let r=n?e.residualClasses:e.residualStyles;if(null===s)0===(n?e.classBindings:e.styleBindings)&&(t=id(t=Tv(null,i,e,t,n),e.attrs,n),r=null);else{const o=e.directiveStylingLast;if(-1===o||i[o]!==s)if(t=Tv(s,i,e,t,n),null===r){let l=function r9(i,e,t){const n=t?e.classBindings:e.styleBindings;if(0!==ba(n))return i[Ro(n)]}(i,e,n);void 0!==l&&Array.isArray(l)&&(l=Tv(null,i,e,l[1],n),l=id(l,e.attrs,n),function o9(i,e,t,n){i[Ro(t?e.classBindings:e.styleBindings)]=n}(i,e,n,l))}else r=function a9(i,e,t){let n;const s=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<s;r++)n=id(n,i[r].hostAttrs,t);return id(n,e.attrs,t)}(i,e,n)}return void 0!==r&&(n?e.residualClasses=r:e.residualStyles=r),t}(s,r,e,n),function q7(i,e,t,n,s,r){let o=r?e.classBindings:e.styleBindings,a=Ro(o),l=ba(o);i[n]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Il(t,u)>0)&&(c=!0)):u=t,s)if(0!==l){const p=Ro(i[a+1]);i[n+1]=Xp(p,a),0!==p&&(i[p+1]=Cv(i[p+1],n)),i[a+1]=function $7(i,e){return 131071&i|e<<17}(i[a+1],n)}else i[n+1]=Xp(a,0),0!==a&&(i[a+1]=Cv(i[a+1],n)),a=n;else i[n+1]=Xp(l,0),0===a?a=n:i[l+1]=Cv(i[l+1],n),l=n;c&&(i[n+1]=wv(i[n+1])),W2(i,u,n,!0),W2(i,u,n,!1),function Y7(i,e,t,n,s){const r=s?i.residualClasses:i.residualStyles;null!=r&&"string"==typeof e&&Il(r,e)>=0&&(t[n+1]=xv(t[n+1]))}(e,u,i,n,r),o=Xp(a,l),r?e.classBindings=o:e.styleBindings=o}(s,r,e,t,o,n)}}function Tv(i,e,t,n,s){let r=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(r=e[a],n=id(n,r.hostAttrs,s),r!==i);)a++;return null!==i&&(t.directiveStylingLast=a),n}function id(i,e,t){const n=t?1:2;let s=-1;if(null!==e)for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?s=o:s===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Es(i,o,!!t||e[++r]))}return void 0===i?null:i}function J2(i,e,t){Es(i,e,Po(t))}function c9(i,e,t){const n=String(e);""!==n&&!n.includes(" ")&&Es(i,n,t)}function eM(i,e,t,n,s,r,o,a){if(!(3&e.type))return;const l=i.data,c=l[a+1],u=function j7(i){return 1==(1&i)}(c)?tM(l,e,t,s,ba(c),o):void 0;Qp(u)||(Qp(r)||function W7(i){return 2==(2&i)}(c)&&(r=tM(l,null,t,s,a,o)),function WN(i,e,t,n,s){if(e)s?i.addClass(t,n):i.removeClass(t,n);else{let r=-1===n.indexOf("-")?void 0:Ao.DashCase;null==s?i.removeStyle(t,n,r):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),r|=Ao.Important),i.setStyle(t,n,s,r))}}(n,o,Qh(Wi(),t),s,r))}function tM(i,e,t,n,s,r){const o=null===e;let a;for(;s>0;){const l=i[s],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let p=t[s+1];p===Et&&(p=h?tn:void 0);let f=h?a0(p,n):u===n?p:void 0;if(c&&!Qp(f)&&(f=a0(l,n)),Qp(f)&&(a=f,o))return a;const m=i[s+1];s=o?Ro(m):ba(m)}if(null!==e){let l=r?e.residualClasses:e.residualStyles;null!=l&&(a=a0(l,n))}return a}function Qp(i){return void 0!==i}function nM(i,e){return 0!=(i.flags&(e?8:16))}function H(i,e=""){const t=ge(),n=Qt(),s=i+Gt,r=n.firstCreatePass?Hl(n,s,1,e,null):n.data[s],o=iM(n,t,r,e,i);t[s]=o,Jh()&&Cp(n,t,o,r),xr(r,!1)}let iM=(i,e,t,n,s)=>(Do(!0),function vp(i,e){return i.createText(e)}(e[St],n));function cn(i){return gn("",i,""),cn}function gn(i,e,t){const n=ge(),s=function Gl(i,e,t,n){return Fi(i,bl(),t)?e+Tt(t)+n:Et}(n,i,e,t);return s!==Et&&Yr(n,Wi(),s),gn}function Sv(i,e,t,n,s){const r=ge(),o=Wl(r,i,e,t,n,s);return o!==Et&&Yr(r,Wi(),o),Sv}const wa=void 0;var O9=["en",[["a","p"],["AM","PM"],wa],[["AM","PM"],wa,wa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wa,"{1} 'at' {0}",wa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function R9(i){const t=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Ql={};function ji(i){const e=function L9(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=xM(e);if(t)return t;const n=e.split("-")[0];if(t=xM(n),t)return t;if("en"===n)return O9;throw new se(701,!1)}function xM(i){return i in Ql||(Ql[i]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[i]),Ql[i]}var En=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(En||{});const Jl="en-US";let TM=Jl;function Iv(i,e,t,n,s){if(i=wt(i),Array.isArray(i))for(let r=0;r<i.length;r++)Iv(i[r],e,t,n,s);else{const r=Qt(),o=ge(),a=Pi();let l=_a(i)?i:wt(i.provide);const c=oS(i),u=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(_a(i)||!i.multi){const f=new Iu(c,s,G),m=Av(l,e,s?u:u+p,h);-1===m?(s0(sp(a,o),r,l),Dv(r,i,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[m]=f,o[m]=f)}else{const f=Av(l,e,u+p,h),m=Av(l,e,u,u+p),_=m>=0&&t[m];if(s&&!_||!s&&!(f>=0&&t[f])){s0(sp(a,o),r,l);const g=function O8(i,e,t,n,s){const r=new Iu(i,t,G);return r.multi=[],r.index=e,r.componentProviders=0,KM(r,s,n&&!t),r}(s?R8:P8,t.length,s,n,c);!s&&_&&(t[m].providerFactory=g),Dv(r,i,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),t.push(g),o.push(g)}else Dv(r,i,f>-1?f:m,KM(t[s?m:f],c,!s&&n));!s&&n&&_&&t[m].componentProviders++}}}function Dv(i,e,t,n){const s=_a(e),r=function w5(i){return!!i.useClass}(e);if(s||r){const l=(r?wt(e.useClass):e).prototype.ngOnDestroy;if(l){const c=i.destroyHooks||(i.destroyHooks=[]);if(!s&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[n,l]):c[u+1].push(n,l)}else c.push(t,l)}}}function KM(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function Av(i,e,t,n){for(let s=t;s<n;s++)if(e[s]===i)return s;return-1}function P8(i,e,t,n){return Pv(this.multi,[])}function R8(i,e,t,n){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ma(t,t[Be],this.providerFactory.index,n);r=a.slice(0,o),Pv(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],Pv(s,r);return r}function Pv(i,e){for(let t=0;t<i.length;t++)e.push((0,i[t])());return e}function Jt(i,e=[]){return t=>{t.providersResolver=(n,s)=>function A8(i,e,t){const n=Qt();if(n.firstCreatePass){const s=rr(i);Iv(t,n.data,n.blueprint,s,!0),Iv(e,n.data,n.blueprint,s,!1)}}(n,s?s(i):i,e)}}class Ca{}class XM{}class Rv extends Ca{constructor(e,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new a2(this);const s=Ss(e);this._bootstrapComponents=qr(s.bootstrap),this._r3Injector=yS(e,t,[{provide:Ca,useValue:this},{provide:Np,useValue:this.componentFactoryResolver},...n],di(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ov extends XM{constructor(e){super(),this.moduleType=e}create(e){return new Rv(this.moduleType,e,[])}}class ZM extends Ca{constructor(e){super(),this.componentFactoryResolver=new a2(this),this.instance=null;const t=new Ap([...e.providers,{provide:Ca,useValue:this},{provide:Np,useValue:this.componentFactoryResolver}],e.parent||Dp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Lv(i,e,t=null){return new ZM({providers:i,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let F8=(()=>{var i;class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const s=nS(0,n.type),r=s.length>0?Lv([s],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(i=e).\u0275prov=Qe({token:i,providedIn:"environment",factory:()=>new i(et(qs))}),e})();function nn(i){i.getStandaloneInjector=e=>e.get(F8).getOrCreateStandaloneInjector(i)}function _n(i,e,t){const n=Gi()+i,s=ge();return s[n]===Et?Mr(s,n,t?e.call(t):e()):Qu(s,n)}function st(i,e,t,n){return function rE(i,e,t,n,s,r){const o=e+t;return Fi(i,o,s)?Mr(i,o+1,r?n.call(r,s):n(s)):cd(i,o+1)}(ge(),Gi(),i,e,t,n)}function vn(i,e,t,n,s){return oE(ge(),Gi(),i,e,t,n,s)}function qi(i,e,t,n,s,r){return function aE(i,e,t,n,s,r,o,a){const l=e+t;return jp(i,l,s,r,o)?Mr(i,l+3,a?n.call(a,s,r,o):n(s,r,o)):cd(i,l+3)}(ge(),Gi(),i,e,t,n,s,r)}function xa(i,e,t,n,s,r,o){return function lE(i,e,t,n,s,r,o,a,l){const c=e+t;return Ys(i,c,s,r,o,a)?Mr(i,c+4,l?n.call(l,s,r,o,a):n(s,r,o,a)):cd(i,c+4)}(ge(),Gi(),i,e,t,n,s,r,o)}function sf(i,e,t,n,s,r,o,a){const l=Gi()+i,c=ge(),u=Ys(c,l,t,n,s,r);return Fi(c,l+4,o)||u?Mr(c,l+5,a?e.call(a,t,n,s,r,o):e(t,n,s,r,o)):Qu(c,l+5)}function ec(i,e,t,n,s,r,o,a,l){const c=Gi()+i,u=ge(),h=Ys(u,c,t,n,s,r);return ya(u,c+4,o,a)||h?Mr(u,c+6,l?e.call(l,t,n,s,r,o,a):e(t,n,s,r,o,a)):Qu(u,c+6)}function Fv(i,e,t,n){return function cE(i,e,t,n,s,r){let o=e+t,a=!1;for(let l=0;l<s.length;l++)Fi(i,o++,s[l])&&(a=!0);return a?Mr(i,o,n.apply(r,s)):cd(i,o)}(ge(),Gi(),i,e,t,n)}function cd(i,e){const t=i[e];return t===Et?void 0:t}function oE(i,e,t,n,s,r,o){const a=e+t;return ya(i,a,s,r)?Mr(i,a+2,o?n.call(o,s,r):n(s,r)):cd(i,a+2)}function tc(i,e){const t=Qt();let n;const s=i+Gt;t.firstCreatePass?(n=function j8(i,e){if(e)for(let t=e.length-1;t>=0;t--){const n=e[t];if(i===n.name)return n}}(e,t.pipeRegistry),t.data[s]=n,n.onDestroy&&(t.destroyHooks??=[]).push(s,n.onDestroy)):n=t.data[s];const r=n.factory||(n.factory=pa(n.type)),a=os(G);try{const l=ip(!1),c=r();return ip(l),function k7(i,e,t,n){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),e[t]=n}(t,ge(),s,c),c}finally{os(a)}}function nc(i,e,t,n){const s=i+Gt,r=ge(),o=vl(r,s);return function ud(i,e){return i[Be].data[e].pure}(r,s)?oE(r,Gi(),e,o.transform,t,n,o):o.transform(t,n)}function Z8(){return this._results[Symbol.iterator]()}class Nv{get changes(){return this._changes||(this._changes=new me)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Nv.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Z8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const s=function js(i){return i.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function qF(i,e,t){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++){let s=i[n],r=e[n];if(t&&(s=t(s),r=t(r)),r!==s)return!1}return!0}(n._results,s,t))&&(n._results=s,n.length=s.length,n.last=s[this.length-1],n.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function J8(i,e,t,n=!0){const s=e[Be];if(function FN(i,e,t,n){const s=Ii+n,r=t.length;n>0&&(t[s-1][sr]=e),n<r-Ii?(e[sr]=t[s],nT(t,Ii+n,e)):(t.push(e),e[sr]=null),e[Rn]=t;const o=e[wu];null!==o&&t!==o&&function NN(i,e){const t=i[gl];e[Xn]!==e[Rn][Rn][Xn]&&(i[nx]=!0),null===t?i[gl]=[e]:t.push(e)}(o,e);const a=e[br];null!==a&&a.insertView(i),e[At]|=128}(s,e,i,t),n){const r=C0(t,i),o=e[St],a=wp(o,i[wr]);null!==a&&function ON(i,e,t,n,s,r){n[Hn]=s,n[Li]=e,Vu(i,n,t,1,s,r)}(s,i[Li],o,e,a,r)}}let lr=(()=>{class e{}return e.__NG_ELEMENT_ID__=nV,e})();const eV=lr,tV=class extends eV{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,n){const s=function Q8(i,e,t,n){const s=e.tView,a=Up(i,s,t,4096&i[At]?4096:16,null,e,null,null,null,n?.injector??null,n?.hydrationInfo??null);a[wu]=i[e.index];const c=i[br];return null!==c&&(a[br]=c.createEmbeddedView(s)),hv(s,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:n});return new Xu(s)}};function nV(){return rf(Pi(),ge())}function rf(i,e){return 4&i.type?new tV(e,i,Vl(i,e)):null}let As=(()=>{class e{}return e.__NG_ELEMENT_ID__=lV,e})();function lV(){return gE(Pi(),ge())}const cV=As,fE=class extends cV{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Vl(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){const e=rp(this._hostTNode,this._hostLView);if(e0(e)){const t=Au(e,this._hostLView),n=Du(e);return new $i(t[Be].data[n+8],t)}return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=mE(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ii}createEmbeddedView(e,t,n){let s,r;"number"==typeof n?s=n:null!=n&&(s=n.index,r=n.injector);const a=e.createEmbeddedViewImpl(t||{},r,null);return this.insertImpl(a,s,false),a}createComponent(e,t,n,s,r){const o=e&&!function Ru(i){return"function"==typeof i}(e);let a;if(o)a=t;else{const v=t||{};a=v.index,n=v.injector,s=v.projectableNodes,r=v.environmentInjector||v.ngModuleRef}const l=o?e:new Zu(Zt(e)),c=n||this.parentInjector;if(!r&&null==l.ngModule){const _=(o?c:this.parentInjector).get(qs,null);_&&(r=_)}Zt(l.componentType??{});const f=l.create(c,s,null,r);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,n){const s=e._lView;if(function lF(i){return zi(i[Rn])}(s)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=s[Rn],u=new fE(c,c[Li],c[Rn]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return J8(a,s,o,!n),e.attachToViewContainerRef(),nT(Vv(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=mE(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=bp(this._lContainer,t);n&&(lp(Vv(this._lContainer),t),v0(n[Be],n))}detach(e){const t=this._adjustIndex(e,-1),n=bp(this._lContainer,t);return n&&null!=lp(Vv(this._lContainer),t)?new Xu(n):null}_adjustIndex(e,t=0){return e??this.length+t}};function mE(i){return i[8]}function Vv(i){return i[8]||(i[8]=[])}function gE(i,e){let t;const n=e[i.index];return zi(n)?t=n:(t=YS(n,e,null,i),e[i.index]=t,Hp(e,t)),_E(t,e,i,n),new fE(t,i,e)}let _E=function vE(i,e,t,n){if(i[wr])return;let s;s=8&t.type?Mn(n):function uV(i,e){const t=i[St],n=t.createComment(""),s=cs(e,i);return ga(t,wp(t,s),n,function HN(i,e){return i.nextSibling(e)}(t,s),!1),n}(e,t),i[wr]=s};class Bv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Bv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,s=[];for(let r=0;r<n;r++){const o=t.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new Uv(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==xE(e,t).matches&&this.queries[t].setDirty()}}class yE{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Hv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const s=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,s);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new Hv(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class zv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new zv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let s=0;s<n.length;s++){const r=n[s];this.matchTNodeWithReadOption(e,t,pV(t,r)),this.matchTNodeWithReadOption(e,t,op(t,e,r,!1,!1))}else n===lr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,op(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const s=this.metadata.read;if(null!==s)if(s===sn||s===As||s===lr&&4&t.type)this.addMatch(t.index,-2);else{const r=op(t,e,s,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function pV(i,e){const t=i.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===e)return t[n+1];return null}function mV(i,e,t,n){return-1===t?function fV(i,e){return 11&i.type?Vl(i,e):4&i.type?rf(i,e):null}(e,i):-2===t?function gV(i,e,t){return t===sn?Vl(e,i):t===lr?rf(e,i):t===As?gE(e,i):void 0}(i,e,n):ma(i,i[Be],t,e)}function bE(i,e,t,n){const s=e[br].queries[n];if(null===s.matches){const r=i.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:mV(e,r[c],o[l+1],t.metadata.read))}s.matches=a}return s.matches}function Gv(i,e,t,n){const s=i.queries.getByIndex(t),r=s.matches;if(null!==r){const o=bE(i,e,s,t);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)n.push(o[a/2]);else{const c=r[a+1],u=e[-l];for(let h=Ii;h<u.length;h++){const p=u[h];p[wu]===p[Rn]&&Gv(p[Be],p,c,n)}if(null!==u[gl]){const h=u[gl];for(let p=0;p<h.length;p++){const f=h[p];Gv(f[Be],f,c,n)}}}}}return n}function We(i){const e=ge(),t=Qt(),n=kx();K_(n+1);const s=xE(t,n);if(i.dirty&&function oF(i){return 4==(4&i[At])}(e)===(2==(2&s.metadata.flags))){if(null===s.matches)i.reset([]);else{const r=s.crossesNgTemplate?Gv(t,e,n,[]):bE(t,e,s,n);i.reset(r,z5),i.notifyOnChanges()}return!0}return!1}function Nt(i,e,t){const n=Qt();n.firstCreatePass&&(CE(n,new yE(i,e,t),-1),2==(2&e)&&(n.staticViewQueries=!0)),wE(n,ge(),e)}function yn(i,e,t,n){const s=Qt();if(s.firstCreatePass){const r=Pi();CE(s,new yE(e,t,n),r.index),function vV(i,e){const t=i.contentQueries||(i.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,e)}(s,i),2==(2&t)&&(s.staticContentQueries=!0)}wE(s,ge(),t)}function $e(){return function _V(i,e){return i[br].queries[e].queryList}(ge(),kx())}function wE(i,e,t){const n=new Nv(4==(4&t));(function w6(i,e,t,n){const s=XS(e);s.push(t),i.firstCreatePass&&ZS(i).push(n,s.length-1)})(i,e,n,n.destroy),null===e[br]&&(e[br]=new Uv),e[br].queries.push(new Bv(n))}function CE(i,e,t){null===i.queries&&(i.queries=new Hv),i.queries.track(new zv(e,t))}function xE(i,e){return i.queries.getByIndex(e)}function bi(i,e){return rf(i,e)}const Kv=new nt("Application Initializer");let Xv=(()=>{var i;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,s)=>{this.resolve=n,this.reject=s}),this.appInits=Ze(Kv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const r of this.appInits){const o=r();if(nd(o))n.push(o);else if(A2(o)){const a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});n.push(a)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{s()}).catch(r=>{this.reject(r)}),0===n.length&&s(),this.initialized=!0}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})(),UE=(()=>{var i;class e{log(n){console.log(n)}warn(n){console.warn(n)}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"platform"}),e})();const Xr=new nt("LocaleId",{providedIn:"root",factory:()=>Ze(Xr,Bt.Optional|Bt.SkipSelf)||function BV(){return typeof $localize<"u"&&$localize.locale||Jl}()});let HE=(()=>{var i;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zs(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();class zV{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let zE=(()=>{var i;class e{compileModuleSync(n){return new Ov(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const s=this.compileModuleSync(n),o=qr(Ss(n).declarations).reduce((a,l)=>{const c=Zt(l);return c&&a.push(new Zu(c)),a},[]);return new zV(s,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();const jE=new nt(""),uf=new nt("");let ty,Jv=(()=>{var i;class e{constructor(n,s,r){this._ngZone=n,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ty||(function lB(i){ty=i}(r),r.addToWindow(s)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(n)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,s,r){let o=-1;s&&s>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,s,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,s,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,s,r){return[]}}return(i=e).\u0275fac=function(n){return new(n||i)(et(Wt),et(ey),et(uf))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})(),ey=(()=>{var i;class e{constructor(){this._applications=new Map}registerApplication(n,s){this._applications.set(n,s)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,s=!0){return ty?.findTestabilityInTree(this,n,s)??null}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"platform"}),e})(),Oo=null;const qE=new nt("AllowMultipleToken"),ny=new nt("PlatformDestroyListeners"),iy=new nt("appBootstrapListener");class KE{constructor(e,t){this.name=e,this.token=t}}function ZE(i,e,t=[]){const n=`Platform: ${e}`,s=new nt(n);return(r=[])=>{let o=sy();if(!o||o.injector.get(qE,!1)){const a=[...t,...r,{provide:s,useValue:!0}];i?i(a):function dB(i){if(Oo&&!Oo.get(qE,!1))throw new se(400,!1);(function YE(){!function qk(i){fx=i}(()=>{throw new se(600,!1)})})(),Oo=i;const e=i.get(JE);(function XE(i){i.get(aS,null)?.forEach(t=>t())})(i)}(function QE(i=[],e){return ds.create({name:e,providers:[{provide:L0,useValue:"platform"},{provide:ny,useValue:new Set([()=>Oo=null])},...i]})}(a,n))}return function pB(i){const e=sy();if(!e)throw new se(401,!1);return e}()}}function sy(){return Oo?.get(JE)??null}let JE=(()=>{var i;class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,s){const r=function fB(i="zone.js",e){return"noop"===i?new s6:"zone.js"===i?new Wt(e):i}(s?.ngZone,function eI(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return r.run(()=>{const o=function k8(i,e,t){return new Rv(i,e,t)}(n.moduleType,this.injector,function rI(i){return[{provide:Wt,useFactory:i},{provide:zu,multi:!0,useFactory:()=>{const e=Ze(gB,{optional:!0});return()=>e.initialize()}},{provide:sI,useFactory:mB},{provide:xS,useFactory:TS}]}(()=>r)),a=o.injector.get(va,null);return r.runOutsideAngular(()=>{const l=r.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{df(this._modules,o),l.unsubscribe()})}),function tI(i,e,t){try{const n=t();return nd(n)?n.catch(s=>{throw e.runOutsideAngular(()=>i.handleError(s)),s}):n}catch(n){throw e.runOutsideAngular(()=>i.handleError(n)),n}}(a,r,()=>{const l=o.injector.get(Xv);return l.runInitializers(),l.donePromise.then(()=>(function SM(i){Gs(i,"Expected localeId to be defined"),"string"==typeof i&&(TM=i.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Xr,Jl)||Jl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,s=[]){const r=nI({},s);return function cB(i,e,t){const n=new Ov(t);return Promise.resolve(n)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(n){const s=n.injector.get(Ta);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>s.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new se(-403,!1);n.instance.ngDoBootstrap(s)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const n=this._injector.get(ny,null);n&&(n.forEach(s=>s()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=e).\u0275fac=function(n){return new(n||i)(et(ds))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"platform"}),e})();function nI(i,e){return Array.isArray(e)?e.reduce(nI,i):{...i,...e}}let Ta=(()=>{var i;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ze(sI),this.zoneIsStable=Ze(xS),this.componentTypes=[],this.components=[],this.isStable=Ze(HE).hasPendingTasks.pipe(vr(n=>n?Ct(!1):this.zoneIsStable),function rk(i,e=Co){return i=i??ok,ii((t,n)=>{let s,r=!0;t.subscribe(Yn(n,o=>{const a=e(o);(r||!i(s,a))&&(r=!1,s=a,n.next(o))}))})}(),RC()),this._injector=Ze(qs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,s){const r=n instanceof pS;if(!this._injector.get(Xv).done)throw!r&&function dl(i){const e=Zt(i)||Ei(i)||Hi(i);return null!==e&&e.standalone}(n),new se(405,!1);let a;a=r?n:this._injector.get(Np).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function uB(i){return i.isBoundToModule}(a)?void 0:this._injector.get(Ca),u=a.create(ds.NULL,[],s||a.selector,l),h=u.location.nativeElement,p=u.injector.get(jE,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),df(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){const s=n;df(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const s=this._injector.get(iy,[]);s.push(...this._bootstrapListeners),s.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>df(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new se(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();function df(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const sI=new nt("",{providedIn:"root",factory:()=>Ze(va).handleError.bind(void 0)});function mB(){const i=Ze(Wt),e=Ze(va);return t=>i.runOutsideAngular(()=>e.handleError(t))}let gB=(()=>{var i;class e{constructor(){this.zone=Ze(Wt),this.applicationRef=Ze(Ta)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();let Zn=(()=>{class e{}return e.__NG_ELEMENT_ID__=vB,e})();function vB(i){return function yB(i,e,t){if(ha(i)&&!t){const n=Ms(i.index,e);return new Xu(n,n)}return 47&i.type?new Xu(e[Xn],e):null}(Pi(),ge(),16==(16&i))}class cI{constructor(){}supports(e){return $p(e)}create(e){return new SB(e)}}const TB=(i,e)=>e;class SB{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||TB}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,s=0,r=null;for(;t||n;){const o=!n||t&&t.currentIndex<dI(n,s,r)?t:n,a=dI(o,s,r),l=o.currentIndex;if(o===n)s--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)s++;else{r||(r=[]);const c=a-s,u=l-s;if(c!=u){for(let p=0;p<c;p++){const f=p<r.length?r[p]:r[p]=0,m=f+p;u<=m&&m<c&&(r[p]=f+1)}r[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!$p(e))throw new se(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,r,o,t=this._itHead,n=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)r=e[a],o=this._trackByFn(a,r),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,r,o,a)),Object.is(t.item,r)||this._addIdentityChange(t,r)):(t=this._mismatch(t,r,o,a),n=!0),t=t._next}else s=0,function f7(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[Symbol.iterator]();let n;for(;!(n=t.next()).done;)e(n.value)}}(e,a=>{o=this._trackByFn(s,a),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,a,o,s)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,s),n=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,s){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,s)):e=this._addAfter(new MB(t,n),r,s),e}_verifyReinsertion(e,t,n,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,r=e._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new uI),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uI),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class MB{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EB{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class uI{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new EB,this.map.set(t,n)),n.add(e)}get(e,t){const s=this.map.get(e);return s?s.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dI(i,e,t){const n=i.previousIndex;if(null===n)return n;let s=0;return t&&n<t.length&&(s=t[n]),n+e+s}class hI{constructor(){}supports(e){return e instanceof Map||pv(e)}create(){return new IB}}class IB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||pv(e)))throw new se(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,s)=>{if(t&&t.key===s)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(s,n);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,t);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const n=new DB(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class DB{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pI(){return new ff([new cI])}let ff=(()=>{var i;class e{constructor(n){this.factories=n}static create(n,s){if(null!=s){const r=s.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||pI()),deps:[[e,new dp,new up]]}}find(n){const s=this.factories.find(r=>r.supports(n));if(null!=s)return s;throw new se(901,!1)}}return(i=e).\u0275prov=Qe({token:i,providedIn:"root",factory:pI}),e})();function fI(){return new pd([new hI])}let pd=(()=>{var i;class e{constructor(n){this.factories=n}static create(n,s){if(s){const r=s.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||fI()),deps:[[e,new dp,new up]]}}find(n){const s=this.factories.find(r=>r.supports(n));if(s)return s;throw new se(901,!1)}}return(i=e).\u0275prov=Qe({token:i,providedIn:"root",factory:fI}),e})();const RB=ZE(null,"core",[]);let OB=(()=>{var i;class e{constructor(n){}}return(i=e).\u0275fac=function(n){return new(n||i)(et(Ta))},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({}),e})();function rc(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}let uy=null;function Lo(){return uy}class qB{}const Fn=new nt("DocumentToken");let dy=(()=>{var i;class e{historyGo(n){throw new Error("Not implemented")}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:function(){return Ze(KB)},providedIn:"platform"}),e})();const YB=new nt("Location Initialized");let KB=(()=>{var i;class e extends dy{constructor(){super(),this._doc=Ze(Fn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lo().getBaseHref(this._doc)}onPopState(n){const s=Lo().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=Lo().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,s,r){this._history.pushState(n,s,r)}replaceState(n,s,r){this._history.replaceState(n,s,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:function(){return new i},providedIn:"platform"}),e})();function hy(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function xI(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function Zr(i){return i&&"?"!==i[0]?"?"+i:i}let ko=(()=>{var i;class e{historyGo(n){throw new Error("Not implemented")}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:function(){return Ze(SI)},providedIn:"root"}),e})();const TI=new nt("appBaseHref");let SI=(()=>{var i;class e extends ko{constructor(n,s){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??Ze(Fn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hy(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+Zr(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${s}${r}`:s}pushState(n,s,r,o){const a=this.prepareExternalUrl(r+Zr(o));this._platformLocation.pushState(n,s,a)}replaceState(n,s,r,o){const a=this.prepareExternalUrl(r+Zr(o));this._platformLocation.replaceState(n,s,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(i=e).\u0275fac=function(n){return new(n||i)(et(dy),et(TI,8))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})(),MI=(()=>{var i;class e extends ko{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=hy(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,r,o){let a=this.prepareExternalUrl(r+Zr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,s,a)}replaceState(n,s,r,o){let a=this.prepareExternalUrl(r+Zr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(i=e).\u0275fac=function(n){return new(n||i)(et(dy),et(TI,8))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})(),py=(()=>{var i;class e{constructor(n){this._subject=new me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const s=this._locationStrategy.getBaseHref();this._basePath=function QB(i){if(new RegExp("^(https?:)?//").test(i)){const[,t]=i.split(/\/\/[^\/]+/);return t}return i}(xI(EI(s))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+Zr(s))}normalize(n){return e.stripTrailingSlash(function ZB(i,e){if(!i||!e.startsWith(i))return e;const t=e.substring(i.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,EI(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,s="",r=null){this._locationStrategy.pushState(r,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zr(s)),r)}replaceState(n,s="",r=null){this._locationStrategy.replaceState(r,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zr(s)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(r=>r(n,s))}subscribe(n,s,r){return this._subject.subscribe({next:n,error:s,complete:r})}}return(i=e).normalizeQueryParams=Zr,i.joinWithSlash=hy,i.stripTrailingSlash=xI,i.\u0275fac=function(n){return new(n||i)(et(ko))},i.\u0275prov=Qe({token:i,factory:function(){return function XB(){return new py(et(ko))}()},providedIn:"root"}),e})();function EI(i){return i.replace(/\/index.html$/,"")}var gf=function(i){return i[i.Decimal=0]="Decimal",i[i.Percent=1]="Percent",i[i.Currency=2]="Currency",i[i.Scientific=3]="Scientific",i}(gf||{}),Qn=function(i){return i[i.Decimal=0]="Decimal",i[i.Group=1]="Group",i[i.List=2]="List",i[i.PercentSign=3]="PercentSign",i[i.PlusSign=4]="PlusSign",i[i.MinusSign=5]="MinusSign",i[i.Exponential=6]="Exponential",i[i.SuperscriptingExponent=7]="SuperscriptingExponent",i[i.PerMille=8]="PerMille",i[i.Infinity=9]="Infinity",i[i.NaN=10]="NaN",i[i.TimeSeparator=11]="TimeSeparator",i[i.CurrencyDecimal=12]="CurrencyDecimal",i[i.CurrencyGroup=13]="CurrencyGroup",i}(Qn||{});function Ks(i,e){const t=ji(i),n=t[En.NumberSymbols][e];if(typeof n>"u"){if(e===Qn.CurrencyDecimal)return t[En.NumberSymbols][Qn.Decimal];if(e===Qn.CurrencyGroup)return t[En.NumberSymbols][Qn.Group]}return n}const SU=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function wy(i){const e=parseInt(i);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+i);return e}const xy=/\s+/,FI=[];let Jn=(()=>{var i;class e{constructor(n,s,r,o){this._iterableDiffers=n,this._keyValueDiffers=s,this._ngEl=r,this._renderer=o,this.initialClasses=FI,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(xy):FI}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(xy):n}ngDoCheck(){for(const s of this.initialClasses)this._updateState(s,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const s of n)this._updateState(s,!0);else if(null!=n)for(const s of Object.keys(n))this._updateState(s,!!n[s]);this._applyStateDiff()}_updateState(n,s){const r=this.stateMap.get(n);void 0!==r?(r.enabled!==s&&(r.changed=!0,r.enabled=s),r.touched=!0):this.stateMap.set(n,{enabled:s,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const s=n[0],r=n[1];r.changed?(this._toggleClass(s,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),r.touched=!1}}_toggleClass(n,s){(n=n.trim()).length>0&&n.split(xy).forEach(r=>{s?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return(i=e).\u0275fac=function(n){return new(n||i)(G(ff),G(pd),G(sn),G(pi))},i.\u0275dir=dt({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class VU{constructor(e,t,n,s){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ir=(()=>{var i;class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,s,r){this._viewContainer=n,this._template=s,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=this._viewContainer;n.forEachOperation((r,o,a)=>{if(null==r.previousIndex)s.createEmbeddedView(this._template,new VU(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)s.remove(null===o?void 0:o);else if(null!==o){const l=s.get(o);s.move(l,a),VI(l,r)}});for(let r=0,o=s.length;r<o;r++){const l=s.get(r).context;l.index=r,l.count=o,l.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{VI(s.get(r.currentIndex),r)})}static ngTemplateContextGuard(n,s){return!0}}return(i=e).\u0275fac=function(n){return new(n||i)(G(As),G(lr),G(ff))},i.\u0275dir=dt({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function VI(i,e){i.context.$implicit=e.item}let On=(()=>{var i;class e{constructor(n,s){this._viewContainer=n,this._context=new BU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){BI("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){BI("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}}return(i=e).\u0275fac=function(n){return new(n||i)(G(As),G(lr))},i.\u0275dir=dt({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class BU{constructor(){this.$implicit=null,this.ngIf=null}}function BI(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${di(e)}'.`)}let ri=(()=>{var i;class e{constructor(n,s,r){this._ngEl=n,this._differs=s,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,s){const[r,o]=n.split("."),a=-1===r.indexOf("-")?void 0:Ao.DashCase;null!=s?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${s}${o}`:s,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(n){n.forEachRemovedItem(s=>this._setStyle(s.key,null)),n.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),n.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return(i=e).\u0275fac=function(n){return new(n||i)(G(sn),G(pd),G(pi))},i.\u0275dir=dt({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),Nn=(()=>{var i;class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const s=this._viewContainerRef;if(this._viewRef&&s.remove(s.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=s.createEmbeddedView(r,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(i=e).\u0275fac=function(n){return new(n||i)(G(As))},i.\u0275dir=dt({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ai]}),e})();let zI=(()=>{var i;class e{constructor(n){this._locale=n}transform(n,s,r){if(!function My(i){return!(null==i||""===i||i!=i)}(n))return null;r=r||this._locale;try{return function PU(i,e,t){return function yy(i,e,t,n,s,r,o=!1){let a="",l=!1;if(isFinite(i)){let c=function OU(i){let n,s,r,o,a,e=Math.abs(i)+"",t=0;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(s<0&&(s=r),s+=+e.slice(r+1),e=e.substring(0,r)):s<0&&(s=e.length),r=0;"0"===e.charAt(r);r++);if(r===(a=e.length))n=[0],s=1;else{for(a--;"0"===e.charAt(a);)a--;for(s-=r,n=[],o=0;r<=a;r++,o++)n[o]=Number(e.charAt(r))}return s>22&&(n=n.splice(0,21),t=s-1,s=1),{digits:n,exponent:t,integerLen:s}}(i);o&&(c=function RU(i){if(0===i.digits[0])return i;const e=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===e?i.digits.push(0,0):1===e&&i.digits.push(0),i.integerLen+=2),i}(c));let u=e.minInt,h=e.minFrac,p=e.maxFrac;if(r){const C=r.match(SU);if(null===C)throw new Error(`${r} is not a valid digit info`);const w=C[1],M=C[3],D=C[5];null!=w&&(u=wy(w)),null!=M&&(h=wy(M)),null!=D?p=wy(D):null!=M&&h>p&&(p=h)}!function LU(i,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let n=i.digits,s=n.length-i.integerLen;const r=Math.min(Math.max(e,s),t);let o=r+i.integerLen,a=n[o];if(o>0){n.splice(Math.max(i.integerLen,o));for(let h=o;h<n.length;h++)n[h]=0}else{s=Math.max(0,s),i.integerLen=1,n.length=Math.max(1,o=r+1),n[0]=0;for(let h=1;h<o;h++)n[h]=0}if(a>=5)if(o-1<0){for(let h=0;h>o;h--)n.unshift(0),i.integerLen++;n.unshift(1),i.integerLen++}else n[o-1]++;for(;s<Math.max(0,r);s++)n.push(0);let l=0!==r;const c=e+i.integerLen,u=n.reduceRight(function(h,p,f,m){return m[f]=(p+=h)<10?p:p-10,l&&(0===m[f]&&f>=c?m.pop():l=!1),p>=10?1:0},0);u&&(n.unshift(u),i.integerLen++)}(c,h,p);let f=c.digits,m=c.integerLen;const v=c.exponent;let _=[];for(l=f.every(C=>!C);m<u;m++)f.unshift(0);for(;m<0;m++)f.unshift(0);m>0?_=f.splice(m,f.length):(_=f,f=[0]);const g=[];for(f.length>=e.lgSize&&g.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)g.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&g.unshift(f.join("")),a=g.join(Ks(t,n)),_.length&&(a+=Ks(t,s)+_.join("")),v&&(a+=Ks(t,Qn.Exponential)+"+"+v)}else a=Ks(t,Qn.Infinity);return a=i<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(i,function by(i,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=i.split(";"),s=n[0],r=n[1],o=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const h=l.charAt(u);"0"===h?t.minFrac=t.maxFrac=u+1:"#"===h?t.maxFrac=u+1:t.posSuf+=h}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,r){const u=s.length-t.posPre.length-t.posSuf.length,h=r.indexOf("#");t.negPre=r.substring(0,h).replace(/'/g,""),t.negSuf=r.slice(h+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function fy(i,e){return ji(i)[En.NumberFormats][e]}(e,gf.Decimal),Ks(e,Qn.MinusSign)),e,Qn.Group,Qn.Decimal,t)}(function Ey(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(n),r,s)}catch(o){throw function ur(i,e){return new se(2100,!1)}()}}}return(i=e).\u0275fac=function(n){return new(n||i)(G(Xr,16))},i.\u0275pipe=as({name:"number",type:i,pure:!0,standalone:!0}),e})();let un=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({}),e})();const GI="browser";function Dr(i){return i===GI}function WI(i){return"server"===i}let pH=(()=>{var i;class e{}return(i=e).\u0275prov=Qe({token:i,providedIn:"root",factory:()=>new fH(et(Fn),window)}),e})();class fH{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function mH(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let s=n.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(e)||r.querySelector(`[name="${e}"]`);if(o)return o}s=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],s-r[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class BH extends qB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ay extends BH{static makeCurrent(){!function jB(i){uy||(uy=i)}(new Ay)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function UH(){return _d=_d||document.querySelector("base"),_d?_d.getAttribute("href"):null}();return null==t?null:function HH(i){If=If||document.createElement("a"),If.setAttribute("href",i);const e=If.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_d=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function FU(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const n=t.indexOf("="),[s,r]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,e)}}let If,_d=null,GH=(()=>{var i;class e{build(){return new XMLHttpRequest}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})();const Py=new nt("EventManagerPlugins");let KI=(()=>{var i;class e{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,s,r){return this._findPluginFor(s).addEventListener(n,s,r)}getZone(){return this._zone}_findPluginFor(n){let s=this._eventNameToPlugin.get(n);if(s)return s;if(s=this._plugins.find(o=>o.supports(n)),!s)throw new se(5101,!1);return this._eventNameToPlugin.set(n,s),s}}return(i=e).\u0275fac=function(n){return new(n||i)(et(Py),et(Wt))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})();class XI{constructor(e){this._doc=e}}const Ry="ng-app-id";let ZI=(()=>{var i;class e{constructor(n,s,r,o={}){this.doc=n,this.appId=s,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=WI(o),this.resetHostNodes()}addStyles(n){for(const s of n)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(n){for(const s of n)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(s=>s.remove()),n.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const s of this.getAllStyles())this.addStyleToHost(n,s)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const s of this.hostNodes)this.addStyleToHost(s,n)}onStyleRemoved(n){const s=this.styleRef;s.get(n)?.elements?.forEach(r=>r.remove()),s.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ry}="${this.appId}"]`);if(n?.length){const s=new Map;return n.forEach(r=>{null!=r.textContent&&s.set(r.textContent,r)}),s}return null}changeUsageCount(n,s){const r=this.styleRef;if(r.has(n)){const o=r.get(n);return o.usage+=s,o.usage}return r.set(n,{usage:s,elements:[]}),s}getStyleElement(n,s){const r=this.styleNodesInDOM,o=r?.get(s);if(o?.parentNode===n)return r.delete(s),o.removeAttribute(Ry),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=s,this.platformIsServer&&a.setAttribute(Ry,this.appId),a}}addStyleToHost(n,s){const r=this.getStyleElement(n,s);n.appendChild(r);const o=this.styleRef,a=o.get(s)?.elements;a?a.push(r):o.set(s,{elements:[r],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(i=e).\u0275fac=function(n){return new(n||i)(et(Fn),et(Pp),et(cS,8),et(Is))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})();const Oy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ly=/%COMP%/g,qH=new nt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function JI(i,e){return e.map(t=>t.replace(Ly,i))}let ky=(()=>{var i;class e{constructor(n,s,r,o,a,l,c,u=null){this.eventManager=n,this.sharedStylesHost=s,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=WI(l),this.defaultRenderer=new Fy(n,a,c,this.platformIsServer)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Ws.ShadowDom&&(s={...s,encapsulation:Ws.Emulated});const r=this.getOrCreateRenderer(n,s);return r instanceof tD?r.applyToHost(n):r instanceof Ny&&r.applyStyles(),r}getOrCreateRenderer(n,s){const r=this.rendererByCompId;let o=r.get(s.id);if(!o){const a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(s.encapsulation){case Ws.Emulated:o=new tD(c,u,s,this.appId,h,a,l,p);break;case Ws.ShadowDom:return new ZH(c,u,n,s,a,l,this.nonce,p);default:o=new Ny(c,u,s,h,a,l,p)}r.set(s.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(i=e).\u0275fac=function(n){return new(n||i)(et(KI),et(ZI),et(Pp),et(qH),et(Fn),et(Is),et(Wt),et(cS))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})();class Fy{constructor(e,t,n,s){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Oy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(eD(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(eD(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?this.doc.querySelector(e):e;if(!n)throw new se(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,s){if(s){t=s+":"+t;const r=Oy[s];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const s=Oy[n];s?e.removeAttributeNS(s,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,s){s&(Ao.DashCase|Ao.Important)?e.style.setProperty(t,n,s&Ao.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Ao.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){if("string"==typeof e&&!(e=Lo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function eD(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class ZH extends Fy{constructor(e,t,n,s,r,o,a,l){super(e,r,o,l),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=JI(s.id,s.styles);for(const u of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ny extends Fy{constructor(e,t,n,s,r,o,a,l){super(e,r,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=l?JI(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tD extends Ny{constructor(e,t,n,s,r,o,a,l){const c=s+"-"+n.id;super(e,t,n,r,o,a,l,c),this.contentAttr=function YH(i){return"_ngcontent-%COMP%".replace(Ly,i)}(c),this.hostAttr=function KH(i){return"_nghost-%COMP%".replace(Ly,i)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}let QH=(()=>{var i;class e extends XI{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,r){return n.addEventListener(s,r,!1),()=>this.removeEventListener(n,s,r)}removeEventListener(n,s,r){return n.removeEventListener(s,r)}}return(i=e).\u0275fac=function(n){return new(n||i)(et(Fn))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})();const nD=["alt","control","meta","shift"],JH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ez={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let tz=(()=>{var i;class e extends XI{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,s,r){const o=e.parseEventName(s),a=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lo().onAndCancel(n,o.domEventName,a))}static parseEventName(n){const s=n.toLowerCase().split("."),r=s.shift();if(0===s.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(s.pop());let a="",l=s.indexOf("code");if(l>-1&&(s.splice(l,1),a="code."),nD.forEach(u=>{const h=s.indexOf(u);h>-1&&(s.splice(h,1),a+=u+".")}),a+=o,0!=s.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(n,s){let r=JH[n.key]||n.key,o="";return s.indexOf("code.")>-1&&(r=n.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),nD.forEach(a=>{a!==r&&(0,ez[a])(n)&&(o+=a+".")}),o+=r,o===s)}static eventCallback(n,s,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>s(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(i=e).\u0275fac=function(n){return new(n||i)(et(Fn))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})();const rz=ZE(RB,"browser",[{provide:Is,useValue:GI},{provide:aS,useValue:function nz(){Ay.makeCurrent()},multi:!0},{provide:Fn,useFactory:function sz(){return function KN(i){S0=i}(document),document},deps:[]}]),oz=new nt(""),rD=[{provide:uf,useClass:class zH{addToWindow(e){Sn.getAngularTestability=(n,s=!0)=>{const r=e.findTestabilityInTree(n,s);if(null==r)throw new se(5103,!1);return r},Sn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Sn.getAllAngularRootElements=()=>e.getAllRootElements(),Sn.frameworkStabilizers||(Sn.frameworkStabilizers=[]),Sn.frameworkStabilizers.push(n=>{const s=Sn.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(l){o=o||l,r--,0==r&&n(o)};s.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,n){return null==t?null:e.getTestability(t)??(n?Lo().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:jE,useClass:Jv,deps:[Wt,ey,uf]},{provide:Jv,useClass:Jv,deps:[Wt,ey,uf]}],oD=[{provide:L0,useValue:"root"},{provide:va,useFactory:function iz(){return new va},deps:[]},{provide:Py,useClass:QH,multi:!0,deps:[Fn,Wt,Is]},{provide:Py,useClass:tz,multi:!0,deps:[Fn]},ky,ZI,KI,{provide:$u,useExisting:ky},{provide:class gH{},useClass:GH,deps:[]},[]];let aD=(()=>{var i;class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Pp,useValue:n.appId}]}}}return(i=e).\u0275fac=function(n){return new(n||i)(et(oz,12))},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({providers:[...oD,...rD],imports:[un,OB]}),e})(),lD=(()=>{var i;class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(i=e).\u0275fac=function(n){return new(n||i)(et(Fn))},i.\u0275prov=Qe({token:i,factory:function(n){let s=null;return s=n?new n:function lz(){return new lD(et(Fn))}(),s},providedIn:"root"}),e})();typeof window<"u"&&window;class hD{}class pz{}const eo="*";function ac(i,e){return{type:7,name:i,definitions:e,options:{}}}function Rs(i,e=null){return{type:4,styles:e,timings:i}}function pD(i,e=null){return{type:2,steps:i,options:e}}function wi(i){return{type:6,styles:i,offset:null}}function vd(i,e,t){return{type:0,name:i,styles:e,options:t}}function ms(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function Df(i,e=null){return{type:8,animation:i,options:e}}function fz(i=null){return{type:9,options:i}}function Af(i,e=null){return{type:10,animation:i,options:e}}function mz(i,e,t=null){return{type:11,selector:i,animation:e,options:t}}class yd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class fD{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,s=0;const r=this.players.length;0==r?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==r&&this._onFinish()}),o.onDestroy(()=>{++n==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(n=>{const s=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(s)})}getPosition(){const e=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}function mD(i){return new se(3e3,!1)}function No(i){switch(i.length){case 0:return new yd;case 1:return i[0];default:return new fD(i)}}function gD(i,e,t=new Map,n=new Map){const s=[],r=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((p,f)=>{let m=f,v=p;if("offset"!==f)switch(m=i.normalizePropertyName(m,s),v){case"!":v=t.get(f);break;case eo:v=n.get(f);break;default:v=i.normalizeStyleValue(f,m,v,s)}h.set(m,v)}),u||r.push(h),a=h,o=c}),s.length)throw function Vz(i){return new se(3502,!1)}();return r}function Uy(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&Hy(t,"start",i)));break;case"done":i.onDone(()=>n(t&&Hy(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&Hy(t,"destroy",i)))}}function Hy(i,e,t){const r=zy(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,t.totalTime??i.totalTime,!!t.disabled),o=i._data;return null!=o&&(r._data=o),r}function zy(i,e,t,n,s="",r=0,o){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:s,totalTime:r,disabled:!!o}}function Os(i,e,t){let n=i.get(e);return n||i.set(e,n=t),n}function _D(i){const e=i.indexOf(":");return[i.substring(1,e),i.slice(e+1)]}const Xz=(()=>typeof document>"u"?null:document.documentElement)();function Gy(i){const e=i.parentNode||i.host||null;return e===Xz?null:e}let Ma=null,vD=!1;function yD(i,e){for(;e;){if(e===i)return!0;e=Gy(e)}return!1}function bD(i,e,t){if(t)return Array.from(i.querySelectorAll(e));const n=i.querySelector(e);return n?[n]:[]}let wD=(()=>{var i;class e{validateStyleProperty(n){return function Qz(i){Ma||(Ma=function Jz(){return typeof document<"u"?document.body:null}()||{},vD=!!Ma.style&&"WebkitAppearance"in Ma.style);let e=!0;return Ma.style&&!function Zz(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in Ma.style,!e&&vD&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Ma.style)),e}(n)}matchesElement(n,s){return!1}containsElement(n,s){return yD(n,s)}getParentElement(n){return Gy(n)}query(n,s,r){return bD(n,s,r)}computeStyle(n,s,r){return r||""}animate(n,s,r,o,a,l=[],c){return new yd(r,o)}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})(),Wy=(()=>{class e{}return e.NOOP=new wD,e})();const eG=1e3,$y="ng-enter",Pf="ng-leave",Rf="ng-trigger",Of=".ng-trigger",xD="ng-animating",jy=".ng-animating";function to(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qy(parseFloat(e[1]),e[2])}function qy(i,e){return"s"===e?i*eG:i}function Lf(i,e,t){return i.hasOwnProperty("duration")?i:function nG(i,e,t){let s,r=0,o="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(mD()),{duration:0,delay:0,easing:""};s=qy(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=qy(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else s=i;if(!t){let a=!1,l=e.length;s<0&&(e.push(function gz(){return new se(3100,!1)}()),a=!0),r<0&&(e.push(function _z(){return new se(3101,!1)}()),a=!0),a&&e.splice(l,0,mD())}return{duration:s,delay:r,easing:o}}(i,e,t)}function bd(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function TD(i){const e=new Map;return Object.keys(i).forEach(t=>{e.set(t,i[t])}),e}function Vo(i,e=new Map,t){if(t)for(let[n,s]of t)e.set(n,s);for(let[n,s]of i)e.set(n,s);return e}function Ar(i,e,t){e.forEach((n,s)=>{const r=Ky(s);t&&!t.has(s)&&t.set(s,i.style[r]),i.style[r]=n})}function Ea(i,e){e.forEach((t,n)=>{const s=Ky(n);i.style[s]=""})}function wd(i){return Array.isArray(i)?1==i.length?i[0]:pD(i):i}const Yy=new RegExp("{{\\s*(.+?)\\s*}}","g");function MD(i){let e=[];if("string"==typeof i){let t;for(;t=Yy.exec(i);)e.push(t[1]);Yy.lastIndex=0}return e}function Cd(i,e,t){const n=i.toString(),s=n.replace(Yy,(r,o)=>{let a=e[o];return null==a&&(t.push(function yz(i){return new se(3003,!1)}()),a=""),a.toString()});return s==n?i:s}function kf(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const rG=/-+([a-z0-9])/g;function Ky(i){return i.replace(rG,(...e)=>e[1].toUpperCase())}function Ls(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw function bz(i){return new se(3004,!1)}()}}function ED(i,e){return window.getComputedStyle(i)[e]}const Ff="*";function lG(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function cG(i,e,t){if(":"==i[0]){const l=function uG(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(function Lz(i){return new se(3016,!1)}()),"* => *"}}(i,t);if("function"==typeof l)return void e.push(l);i=l}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function Oz(i){return new se(3015,!1)}()),e;const s=n[1],r=n[2],o=n[3];e.push(ID(s,o));"<"==r[0]&&!(s==Ff&&o==Ff)&&e.push(ID(o,s))}(n,t,e)):t.push(i),t}const Nf=new Set(["true","1"]),Vf=new Set(["false","0"]);function ID(i,e){const t=Nf.has(i)||Vf.has(i),n=Nf.has(e)||Vf.has(e);return(s,r)=>{let o=i==Ff||i==s,a=e==Ff||e==r;return!o&&t&&"boolean"==typeof s&&(o=s?Nf.has(i):Vf.has(i)),!a&&n&&"boolean"==typeof r&&(a=r?Nf.has(e):Vf.has(e)),o&&a}}const dG=new RegExp("s*:selfs*,?","g");function Xy(i,e,t,n){return new hG(i).build(e,t,n)}class hG{constructor(e){this._driver=e}build(e,t,n){const s=new mG(t);return this._resetContextStyleTimingState(s),Ls(this,wd(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,s=t.depCount=0;const r=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Cz(){return new se(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,r.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);n+=l.queryCount,s+=l.depCount,o.push(l)}else t.errors.push(function xz(){return new se(3007,!1)}())}),{type:7,name:e.name,states:r,transitions:o,queryCount:n,depCount:s,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=s||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{MD(l).forEach(c=>{o.hasOwnProperty(c)||r.add(c)})})}),r.size&&(kf(r.values()),t.errors.push(function Tz(i,e){return new se(3008,!1)}()))}return{type:0,name:e.name,style:n,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Ls(this,wd(e.animation),t);return{type:1,matchers:lG(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Ia(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>Ls(this,n,t)),options:Ia(e.options)}}visitGroup(e,t){const n=t.currentTime;let s=0;const r=e.steps.map(o=>{t.currentTime=n;const a=Ls(this,o,t);return s=Math.max(s,t.currentTime),a});return t.currentTime=s,{type:3,steps:r,options:Ia(e.options)}}visitAnimate(e,t){const n=function _G(i,e){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return Zy(Lf(i,e).duration,0,"");const t=i;if(t.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=Zy(0,0,"");return r.dynamic=!0,r.strValue=t,r}const s=Lf(t,e);return Zy(s.duration,s.delay,s.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let s,r=e.styles?e.styles:wi({});if(5==r.type)s=this.visitKeyframes(r,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};n.easing&&(c.easing=n.easing),o=wi(c)}t.currentTime+=n.duration+n.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,s=l}return t.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of s)"string"==typeof a?a===eo?n.push(a):t.errors.push(new se(3002,!1)):n.push(TD(a));let r=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r))for(let l of a.values())if(l.toString().indexOf("{{")>=0){r=!0;break}}),{type:6,styles:n,easing:o,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let s=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let h=!0;u&&(r!=s&&r>=u.startTime&&s<=u.endTime&&(t.errors.push(function Mz(i,e,t,n,s){return new se(3010,!1)}()),h=!1),r=u.startTime),h&&c.set(l,{startTime:r,endTime:s}),t.options&&function sG(i,e,t){const n=e.params||{},s=MD(i);s.length&&s.forEach(r=>{n.hasOwnProperty(r)||t.push(function vz(i){return new se(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ez(){return new se(3011,!1)}()),n;let r=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(g=>{const C=this._makeStyleAst(g,t);let w=null!=C.offset?C.offset:function gG(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(C.styles),M=0;return null!=w&&(r++,M=C.offset=w),l=l||M<0||M>1,a=a||M<c,c=M,o.push(M),C});l&&t.errors.push(function Iz(){return new se(3012,!1)}()),a&&t.errors.push(function Dz(){return new se(3200,!1)}());const h=e.steps.length;let p=0;r>0&&r<h?t.errors.push(function Az(){return new se(3202,!1)}()):0==r&&(p=1/(h-1));const f=h-1,m=t.currentTime,v=t.currentAnimateTimings,_=v.duration;return u.forEach((g,C)=>{const w=p>0?C==f?1:p*C:o[C],M=w*_;t.currentTime=m+v.delay+M,v.duration=M,this._validateStyleAst(g,t),g.offset=w,n.styles.push(g)}),n}visitReference(e,t){return{type:8,animation:Ls(this,wd(e.animation),t),options:Ia(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ia(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ia(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[r,o]=function pG(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(dG,"")),i=i.replace(/@\*/g,Of).replace(/@\w+/g,t=>Of+"-"+t.slice(1)).replace(/:animating/g,jy),[i,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,Os(t.collectedStyles,t.currentQuerySelector,new Map);const a=Ls(this,wd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ia(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Pz(){return new se(3013,!1)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Lf(e.timings,t.errors,!0);return{type:12,animation:Ls(this,wd(e.animation),t),timings:n,options:null}}}class mG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ia(i){return i?(i=bd(i)).params&&(i.params=function fG(i){return i?bd(i):null}(i.params)):i={},i}function Zy(i,e,t){return{duration:i,delay:e,easing:t}}function Qy(i,e,t,n,s,r,o=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class Bf{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const bG=new RegExp(":enter","g"),CG=new RegExp(":leave","g");function Jy(i,e,t,n,s,r=new Map,o=new Map,a,l,c=[]){return(new xG).buildKeyframes(i,e,t,n,s,r,o,a,l,c)}class xG{buildKeyframes(e,t,n,s,r,o,a,l,c,u=[]){c=c||new Bf;const h=new e1(e,t,c,s,r,u,[]);h.options=l;const p=l.delay?to(l.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([o],null,h.errors,l),Ls(this,n,h);const f=h.timelines.filter(m=>m.containsAnimation());if(f.length&&a.size){let m;for(let v=f.length-1;v>=0;v--){const _=f[v];if(_.element===t){m=_;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,h.errors,l)}return f.length?f.map(m=>m.buildKeyframes()):[Qy(t,[],[],[],0,p,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const s=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,s,s.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(const s of e){const r=s?.delay;if(r){const o="number"==typeof r?r:to(Cd(r,s?.params??{},t.errors));n.delayNextStep(o)}}}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const o=null!=n.duration?to(n.duration):null,a=null!=n.delay?to(n.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),Ls(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let s=t;const r=e.options;if(r&&(r.params||r.delay)&&(s=t.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Uf);const o=to(r.delay);s.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ls(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let s=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?to(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);r&&a.delayNextStep(r),Ls(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Lf(t.params?Cd(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),s.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,s=t.currentAnimateTimings;!s&&n.hasCurrentStyleProperties()&&n.forwardFrame();const r=s&&s.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,s=t.currentTimeline.duration,r=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(s+r),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,s=e.options||{},r=s.delay?to(s.delay):0;r&&(6===t.previousNode.type||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Uf);let o=n;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);r&&h.delayNextStep(r),c===t.element&&(l=h.currentTimeline),Ls(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,s=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;Ls(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=s.currentTime-h+(s.startTime-n.currentTimeline.startTime)}}const Uf={};class e1{constructor(e,t,n,s,r,o,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Uf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Hf(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let s=this.options;null!=n.duration&&(s.duration=to(n.duration)),null!=n.delay&&(s.delay=to(n.delay));const r=n.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Cd(r[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(s=>{n[s]=t[s]})}}return e}createSubContext(e=null,t,n){const s=t||this.element,r=new e1(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=Uf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},r=new TG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,s,r,o){let a=[];if(s&&a.push(this.element),e.length>0){e=(e=e.replace(bG,"."+this._enterClassName)).replace(CG,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!r&&0==a.length&&o.push(function Rz(i){return new se(3014,!1)}()),a}}class Hf{constructor(e,t,n,s){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Hf(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||eo),this._currentKeyframe.set(t,eo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,s){t&&this._previousKeyframe.set("easing",t);const r=s&&s.params||{},o=function SG(i,e){const t=new Map;let n;return i.forEach(s=>{if("*"===s){n=n||e.keys();for(let r of n)t.set(r,eo)}else Vo(s,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Cd(l,r,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??eo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{const s=this._styleSummary.get(n);(!s||t.time>s.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const c=Vo(a,new Map,this._backFill);c.forEach((u,h)=>{"!"===u?e.add(h):u===eo&&t.add(h)}),n||c.set("offset",l/this.duration),s.push(c)});const r=e.size?kf(e.values()):[],o=t.size?kf(t.values()):[];if(n){const a=s[0],l=new Map(a);a.set("offset",0),l.set("offset",1),s=[a,l]}return Qy(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class TG extends Hf{constructor(e,t,n,s,r,o,a=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],o=n+t,a=t/o,l=Vo(e[0]);l.set("offset",0),r.push(l);const c=Vo(e[0]);c.set("offset",PD(a)),r.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let p=Vo(e[h]);const f=p.get("offset");p.set("offset",PD((t+f*n)/o)),r.push(p)}n=o,t=0,s="",e=r}return Qy(this.element,e,this.preStyleProps,this.postStyleProps,n,t,s,!0)}}function PD(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class t1{}const MG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class EG extends t1{normalizePropertyName(e,t){return Ky(e)}normalizeStyleValue(e,t,n,s){let r="";const o=n.toString().trim();if(MG.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(function wz(i,e){return new se(3005,!1)}())}return o+r}}function RD(i,e,t,n,s,r,o,a,l,c,u,h,p){return{type:0,element:i,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:r,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:p}}const n1={};class OD{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,s){return function IG(i,e,t,n,s){return i.some(r=>r(e,t,n,s))}(this.ast.matchers,e,t,n,s)}buildStyles(e,t,n){let s=this._stateStyles.get("*");return void 0!==e&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,n):new Map}build(e,t,n,s,r,o,a,l,c,u){const h=[],p=this.ast.options&&this.ast.options.params||n1,m=this.buildStyles(n,a&&a.params||n1,h),v=l&&l.params||n1,_=this.buildStyles(s,v,h),g=new Set,C=new Map,w=new Map,M="void"===s,D={params:DG(v,p),delay:this.ast.options?.delay},P=u?[]:Jy(e,t,this.ast.animation,r,o,m,_,D,c,h);let R=0;if(P.forEach(I=>{R=Math.max(I.duration+I.delay,R)}),h.length)return RD(t,this._triggerName,n,s,M,m,_,[],[],C,w,R,h);P.forEach(I=>{const O=I.element,Y=Os(C,O,new Set);I.preStyleProps.forEach(fe=>Y.add(fe));const le=Os(w,O,new Set);I.postStyleProps.forEach(fe=>le.add(fe)),O!==t&&g.add(O)});const N=kf(g.values());return RD(t,this._triggerName,n,s,M,m,_,P,N,C,w,R)}}function DG(i,e){const t=bd(e);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(t[n]=i[n]);return t}class AG{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n=new Map,s=bd(this.defaultParams);return Object.keys(e).forEach(r=>{const o=e[r];null!==o&&(s[r]=o)}),this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((o,a)=>{o&&(o=Cd(o,s,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),n.set(a,o)})}),n}}class RG{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new AG(s.style,s.options&&s.options.params||{},n))}),LD(this.states,"true","1"),LD(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new OD(e,s,this.states))}),this.fallbackTransition=function OG(i,e,t){return new OD(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,s){return this.transitionFactories.find(o=>o.match(e,t,n,s))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function LD(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}const LG=new Bf;class kG{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const n=[],r=Xy(this._driver,t,n,[]);if(n.length)throw function Bz(i){return new se(3503,!1)}();this._animations.set(e,r)}_buildPlayer(e,t,n){const s=e.element,r=gD(this._normalizer,e.keyframes,t,n);return this._driver.animate(s,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const s=[],r=this._animations.get(e);let o;const a=new Map;if(r?(o=Jy(this._driver,t,r,$y,Pf,new Map,new Map,n,LG,s),o.forEach(u=>{const h=Os(a,u.element,new Map);u.postStyleProps.forEach(p=>h.set(p,null))})):(s.push(function Uz(){return new se(3300,!1)}()),o=[]),s.length)throw function Hz(i){return new se(3504,!1)}();a.forEach((u,h)=>{u.forEach((p,f)=>{u.set(f,this._driver.computeStyle(h,f,eo))})});const c=No(o.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,new Map,h)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function zz(i){return new se(3301,!1)}();return t}listen(e,t,n,s){const r=zy(t,"","","");return Uy(this._getPlayer(e),n,r,s),()=>{}}command(e,t,n,s){if("register"==n)return void this.register(e,s[0]);if("create"==n)return void this.create(e,t,s[0]||{});const r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const kD="ng-animate-queued",s1="ng-animate-disabled",UG=[],FD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dr="__ng_removed";class r1{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function $G(i){return i??null}(n?e.value:e),n){const r=bd(e);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(s=>{null==n[s]&&(n[s]=t[s])})}}}const xd="void",o1=new r1(xd);class zG{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zs(t,this._hostClassName)}listen(e,t,n,s){if(!this._triggers.has(t))throw function Gz(i,e){return new se(3302,!1)}();if(null==n||0==n.length)throw function Wz(i){return new se(3303,!1)}();if(!function jG(i){return"start"==i||"done"==i}(n))throw function $z(i,e){return new se(3400,!1)}();const r=Os(this._elementListeners,e,[]),o={name:t,phase:n,callback:s};r.push(o);const a=Os(this._engine.statesByElement,e,new Map);return a.has(t)||(Zs(e,Rf),Zs(e,Rf+"-"+t),a.set(t,o1)),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function jz(i){return new se(3401,!1)}();return t}trigger(e,t,n,s=!0){const r=this._getTrigger(t),o=new a1(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Zs(e,Rf),Zs(e,Rf+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new r1(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=o1),c.value!==xd&&l.value===c.value){if(!function KG(i,e){const t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let s=0;s<t.length;s++){const r=t[s];if(!e.hasOwnProperty(r)||i[r]!==e[r])return!1}return!0}(l.params,c.params)){const v=[],_=r.matchStyles(l.value,l.params,v),g=r.matchStyles(c.value,c.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Ea(e,_),Ar(e,g)})}return}const p=Os(this._engine.playersByElement,e,[]);p.forEach(v=>{v.namespaceId==this.id&&v.triggerName==t&&v.queued&&v.destroy()});let f=r.matchTransition(l.value,c.value,e,c.params),m=!1;if(!f){if(!s)return;f=r.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:m}),m||(Zs(e,kD),o.onStart(()=>{lc(e,kD)})),o.onDone(()=>{let v=this.players.indexOf(o);v>=0&&this.players.splice(v,1);const _=this._engine.playersByElement.get(e);if(_){let g=_.indexOf(o);g>=0&&_.splice(g,1)}}),this.players.push(o),p.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,Of,!0);n.forEach(s=>{if(s[dr])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,n,s){const r=this._engine.statesByElement.get(e),o=new Map;if(r){const a=[];if(r.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,xd,s);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),n&&No(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const s=new Set;t.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const l=this._triggers.get(o).fallbackTransition,c=n.get(o)||o1,u=new r1(xd),h=new a1(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(n.totalAnimations){const r=n.players.length?n.playersByQueriedElement.get(e):[];if(r&&r.length)s=!0;else{let o=e;for(;o=o.parentNode;)if(n.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e[dr];(!r||r===FD)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Zs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==n.triggerName){const l=zy(r,n.triggerName,n.fromState.value,n.toState.value);l._data=e,Uy(n.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(n)}),this._queue=[],t.sort((n,s)=>{const r=n.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(n.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class GG{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new zG(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList,s=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=s.get(a);if(l){const c=n.indexOf(l);n.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(e)}else n.push(e);return s.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let s=this._namespaceLookup[e];s&&s.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);const s=this._namespaceList.indexOf(n);s>=0&&this._namespaceList.splice(s,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n)for(let s of n.values())if(s.namespaceId){const r=this._fetchNamespace(s.namespaceId);r&&t.add(r)}return t}trigger(e,t,n,s){if(zf(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,n,s),!0}return!1}insertNode(e,t,n,s){if(!zf(t))return;const r=t[dr];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,n)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zs(e,s1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),lc(e,s1))}removeNode(e,t,n){if(zf(t)){const s=e?this._fetchNamespace(e):null;s?s.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);const r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,s,r){this.collectedLeaveElements.push(t),t[dr]={namespaceId:e,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,n,s,r){return zf(t)?this._fetchNamespace(e).listen(t,n,s,r):()=>{}}_buildInstruction(e,t,n,s,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,s,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,Of,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,jy,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return No(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[dr];if(t&&t.setForRemoval){if(e[dr]=FD,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(s1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,s)=>this._balanceNamespaceList(n,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Zs(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let s=0;s<n.length;s++)n[s]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?No(t).onDone(()=>{n.forEach(s=>s())}):n.forEach(s=>s())}}reportError(e){throw function qz(i){return new se(3402,!1)}()}_flushAnimations(e,t){const n=new Bf,s=[],r=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(q=>{u.add(q);const K=this.driver.query(q,".ng-animate-queued",!0);for(let Q=0;Q<K.length;Q++)u.add(K[Q])});const h=this.bodyNode,p=Array.from(this.statesByElement.keys()),f=BD(p,this.collectedEnterElements),m=new Map;let v=0;f.forEach((q,K)=>{const Q=$y+v++;m.set(K,Q),q.forEach(X=>Zs(X,Q))});const _=[],g=new Set,C=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){const K=this.collectedLeaveElements[q],Q=K[dr];Q&&Q.setForRemoval&&(_.push(K),g.add(K),Q.hasAnimation?this.driver.query(K,".ng-star-inserted",!0).forEach(X=>g.add(X)):C.add(K))}const w=new Map,M=BD(p,Array.from(g));M.forEach((q,K)=>{const Q=Pf+v++;w.set(K,Q),q.forEach(X=>Zs(X,Q))}),e.push(()=>{f.forEach((q,K)=>{const Q=m.get(K);q.forEach(X=>lc(X,Q))}),M.forEach((q,K)=>{const Q=w.get(K);q.forEach(X=>lc(X,Q))}),_.forEach(q=>{this.processLeaveNode(q)})});const D=[],P=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(t).forEach(Q=>{const X=Q.player,he=Q.element;if(D.push(X),this.collectedEnterElements.length){const He=he[dr];if(He&&He.setForMove){if(He.previousTriggersValues&&He.previousTriggersValues.has(Q.triggerName)){const mt=He.previousTriggersValues.get(Q.triggerName),Ue=this.statesByElement.get(Q.element);if(Ue&&Ue.has(Q.triggerName)){const It=Ue.get(Q.triggerName);It.value=mt,Ue.set(Q.triggerName,It)}}return void X.destroy()}}const _e=!h||!this.driver.containsElement(h,he),Z=w.get(he),we=m.get(he),be=this._buildInstruction(Q,n,we,Z,_e);if(be.errors&&be.errors.length)return void P.push(be);if(_e)return X.onStart(()=>Ea(he,be.fromStyles)),X.onDestroy(()=>Ar(he,be.toStyles)),void s.push(X);if(Q.isFallbackTransition)return X.onStart(()=>Ea(he,be.fromStyles)),X.onDestroy(()=>Ar(he,be.toStyles)),void s.push(X);const Ke=[];be.timelines.forEach(He=>{He.stretchStartingKeyframe=!0,this.disabledNodes.has(He.element)||Ke.push(He)}),be.timelines=Ke,n.append(he,be.timelines),o.push({instruction:be,player:X,element:he}),be.queriedElements.forEach(He=>Os(a,He,[]).push(X)),be.preStyleProps.forEach((He,mt)=>{if(He.size){let Ue=l.get(mt);Ue||l.set(mt,Ue=new Set),He.forEach((It,pt)=>Ue.add(pt))}}),be.postStyleProps.forEach((He,mt)=>{let Ue=c.get(mt);Ue||c.set(mt,Ue=new Set),He.forEach((It,pt)=>Ue.add(pt))})});if(P.length){const q=[];P.forEach(K=>{q.push(function Yz(i,e){return new se(3505,!1)}())}),D.forEach(K=>K.destroy()),this.reportError(q)}const R=new Map,N=new Map;o.forEach(q=>{const K=q.element;n.has(K)&&(N.set(K,K),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,R))}),s.forEach(q=>{const K=q.element;this._getPreviousPlayers(K,!1,q.namespaceId,q.triggerName,null).forEach(X=>{Os(R,K,[]).push(X),X.destroy()})});const I=_.filter(q=>HD(q,l,c)),O=new Map;VD(O,this.driver,C,c,eo).forEach(q=>{HD(q,l,c)&&I.push(q)});const le=new Map;f.forEach((q,K)=>{VD(le,this.driver,new Set(q),l,"!")}),I.forEach(q=>{const K=O.get(q),Q=le.get(q);O.set(q,new Map([...K?.entries()??[],...Q?.entries()??[]]))});const fe=[],z=[],te={};o.forEach(q=>{const{element:K,player:Q,instruction:X}=q;if(n.has(K)){if(u.has(K))return Q.onDestroy(()=>Ar(K,X.toStyles)),Q.disabled=!0,Q.overrideTotalTime(X.totalTime),void s.push(Q);let he=te;if(N.size>1){let Z=K;const we=[];for(;Z=Z.parentNode;){const be=N.get(Z);if(be){he=be;break}we.push(Z)}we.forEach(be=>N.set(be,he))}const _e=this._buildAnimation(Q.namespaceId,X,R,r,le,O);if(Q.setRealPlayer(_e),he===te)fe.push(Q);else{const Z=this.playersByElement.get(he);Z&&Z.length&&(Q.parentPlayer=No(Z)),s.push(Q)}}else Ea(K,X.fromStyles),Q.onDestroy(()=>Ar(K,X.toStyles)),z.push(Q),u.has(K)&&s.push(Q)}),z.forEach(q=>{const K=r.get(q.element);if(K&&K.length){const Q=No(K);q.setRealPlayer(Q)}}),s.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<_.length;q++){const K=_[q],Q=K[dr];if(lc(K,Pf),Q&&Q.hasAnimation)continue;let X=[];if(a.size){let _e=a.get(K);_e&&_e.length&&X.push(..._e);let Z=this.driver.query(K,jy,!0);for(let we=0;we<Z.length;we++){let be=a.get(Z[we]);be&&be.length&&X.push(...be)}}const he=X.filter(_e=>!_e.destroyed);he.length?qG(this,K,he):this.processLeaveNode(K)}return _.length=0,fe.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();const K=this.players.indexOf(q);this.players.splice(K,1)}),q.play()}),fe}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,s,r){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!r||r==xd;a.forEach(c=>{c.queued||!l&&c.triggerName!=s||o.push(c)})}}return(n||s)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(e,t,n){const r=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==r,h=Os(n,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),h.push(f)})}Ea(r,t.fromStyles)}_buildAnimation(e,t,n,s,r,o){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,p=t.timelines.map(m=>{const v=m.element;u.add(v);const _=v[dr];if(_&&_.removedBeforeQueried)return new yd(m.duration,m.delay);const g=v!==l,C=function YG(i){const e=[];return UD(i,e),e}((n.get(v)||UG).map(R=>R.getRealPlayer())).filter(R=>!!R.element&&R.element===v),w=r.get(v),M=o.get(v),D=gD(this._normalizer,m.keyframes,w,M),P=this._buildPlayer(m,D,C);if(m.subTimeline&&s&&h.add(v),g){const R=new a1(e,a,v);R.setRealPlayer(P),c.push(R)}return P});c.forEach(m=>{Os(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function WG(i,e,t){let n=i.get(e);if(n){if(n.length){const s=n.indexOf(t);n.splice(s,1)}0==n.length&&i.delete(e)}return n}(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>Zs(m,xD));const f=No(p);return f.onDestroy(()=>{u.forEach(m=>lc(m,xD)),Ar(l,t.toStyles)}),h.forEach(m=>{Os(s,m,[]).push(f)}),f}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new yd(e.duration,e.delay)}}class a1{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new yd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(s=>Uy(e,n,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Os(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function zf(i){return i&&1===i.nodeType}function ND(i,e){const t=i.style.display;return i.style.display=e??"none",t}function VD(i,e,t,n,s){const r=[];t.forEach(l=>r.push(ND(l)));const o=[];n.forEach((l,c)=>{const u=new Map;l.forEach(h=>{const p=e.computeStyle(c,h,s);u.set(h,p),(!p||0==p.length)&&(c[dr]=HG,o.push(c))}),i.set(c,u)});let a=0;return t.forEach(l=>ND(l,r[a++])),o}function BD(i,e){const t=new Map;if(i.forEach(a=>t.set(a,[])),0==e.length)return t;const s=new Set(e),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:s.has(c)?1:o(c),r.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Zs(i,e){i.classList?.add(e)}function lc(i,e){i.classList?.remove(e)}function qG(i,e,t){No(t).onDone(()=>i.processLeaveNode(e))}function UD(i,e){for(let t=0;t<i.length;t++){const n=i[t];n instanceof fD?UD(n.players,e):e.push(n)}}function HD(i,e,t){const n=t.get(i);if(!n)return!1;let s=e.get(i);return s?n.forEach(r=>s.add(r)):e.set(i,n),t.delete(i),!0}class Gf{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new GG(e,t,n),this._timelineEngine=new kG(e,t,n),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(e,t,n,s,r){const o=e+"-"+s;let a=this._triggerCache[o];if(!a){const l=[],u=Xy(this._driver,r,l,[]);if(l.length)throw function Nz(i,e){return new se(3404,!1)}();a=function PG(i,e,t){return new RG(i,e,t)}(s,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,s,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,s){this._transitionEngine.insertNode(e,t,n,s)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,s){if("@"==n.charAt(0)){const[r,o]=_D(n);this._timelineEngine.command(r,t,o,s)}else this._transitionEngine.trigger(e,t,n,s)}listen(e,t,n,s,r){if("@"==n.charAt(0)){const[o,a]=_D(n);return this._timelineEngine.listen(o,t,a,r)}return this._transitionEngine.listen(e,t,n,s,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let ZG=(()=>{class e{constructor(n,s,r){this._element=n,this._startStyles=s,this._endStyles=r,this._state=0;let o=e.initialStylesByElement.get(n);o||e.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ar(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ar(this._element,this._initialStyles),this._endStyles&&(Ar(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ea(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ea(this._element,this._endStyles),this._endStyles=null),Ar(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function l1(i){let e=null;return i.forEach((t,n)=>{(function QG(i){return"display"===i||"position"===i})(n)&&(e=e||new Map,e.set(n,t))}),e}class zD{constructor(e,t,n,s){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,s)=>{"offset"!==s&&e.set(s,this._finished?n:ED(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class JG{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return yD(e,t)}getParentElement(e){return Gy(e)}query(e,t,n){return bD(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}animate(e,t,n,s,r,o=[]){const l={duration:n,delay:s,fill:0==s?"both":"forwards"};r&&(l.easing=r);const c=new Map,u=o.filter(f=>f instanceof zD);(function oG(i,e){return 0===i||0===e})(n,s)&&u.forEach(f=>{f.currentSnapshot.forEach((m,v)=>c.set(v,m))});let h=function iG(i){return i.length?i[0]instanceof Map?i:i.map(e=>TD(e)):[]}(t).map(f=>Vo(f));h=function aG(i,e,t){if(t.size&&e.length){let n=e[0],s=[];if(t.forEach((r,o)=>{n.has(o)||s.push(o),n.set(o,r)}),s.length)for(let r=1;r<e.length;r++){let o=e[r];s.forEach(a=>o.set(a,ED(i,a)))}}return e}(e,h,c);const p=function XG(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=l1(e[0]),e.length>1&&(n=l1(e[e.length-1]))):e instanceof Map&&(t=l1(e)),t||n?new ZG(i,t,n):null}(e,h);return new zD(e,h,l,p)}}let eW=(()=>{var i;class e extends hD{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:Ws.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(n)?pD(n):n;return GD(this._renderer,null,s,"register",[r]),new tW(s,this._renderer)}}return(i=e).\u0275fac=function(n){return new(n||i)(et($u),et(Fn))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})();class tW extends pz{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new nW(this._id,e,t||{},this._renderer)}}class nW{constructor(e,t,n,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return GD(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function GD(i,e,t,n,s){return i.setProperty(e,`@@${t}:${n}`,s)}const WD="@.disabled";let iW=(()=>{var i;class e{constructor(n,s,r){this.delegate=n,this.engine=s,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,s.onRemovalComplete=(o,a)=>{const l=a?.parentNode(o);l&&a.removeChild(l,o)}}createRenderer(n,s){const o=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let h=this._rendererCache.get(o);return h||(h=new $D("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const a=s.id,l=s.id+"-"+this._currentId;this._currentId++,this.engine.register(l,n);const c=h=>{Array.isArray(h)?h.forEach(c):this.engine.registerTrigger(a,l,n,h.name,h)};return s.data.animation.forEach(c),new sW(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,r){n>=0&&n<this._microtaskId?this._zone.run(()=>s(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(i=e).\u0275fac=function(n){return new(n||i)(et($u),et(Gf),et(Wt))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})();class $D{constructor(e,t,n,s){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,s=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,s){this.delegate.setAttribute(e,t,n,s)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,s){this.delegate.setStyle(e,t,n,s)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==WD?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class sW extends $D{constructor(e,t,n,s,r){super(t,n,s,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==WD?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const s=function rW(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let r=t.slice(1),o="";return"@"!=r.charAt(0)&&([r,o]=function oW(i){const e=i.indexOf(".");return[i.substring(0,e),i.slice(e+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(e,t,n)}}const jD=[{provide:hD,useClass:eW},{provide:t1,useFactory:function lW(){return new EG}},{provide:Gf,useClass:(()=>{var i;class e extends Gf{constructor(n,s,r,o){super(n.body,s,r)}ngOnDestroy(){this.flush()}}return(i=e).\u0275fac=function(n){return new(n||i)(et(Fn),et(Wy),et(t1),et(Ta))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})()},{provide:$u,useFactory:function cW(i,e,t){return new iW(i,e,t)},deps:[ky,Gf,Wt]}],c1=[{provide:Wy,useFactory:()=>new JG},{provide:lS,useValue:"BrowserAnimations"},...jD],qD=[{provide:Wy,useClass:wD},{provide:lS,useValue:"NoopAnimations"},...jD];let uW=(()=>{var i;class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?qD:c1}}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({providers:c1,imports:[aD]}),e})();const{isArray:hW}=Array,{getPrototypeOf:pW,prototype:fW,keys:mW}=Object;function YD(i){if(1===i.length){const e=i[0];if(hW(e))return{args:e,keys:null};if(function gW(i){return i&&"object"==typeof i&&pW(i)===fW}(e)){const t=mW(e);return{args:t.map(n=>e[n]),keys:t}}}return{args:i,keys:null}}const{isArray:_W}=Array;function KD(i){return Cn(e=>function vW(i,e){return _W(e)?i(...e):i(e)}(i,e))}function XD(i,e){return i.reduce((t,n,s)=>(t[n]=e[s],t),{})}function u1(...i){const e=fu(i),t=IC(i),{args:n,keys:s}=YD(i);if(0===n.length)return yi([],e);const r=new ni(function yW(i,e,t=Co){return n=>{ZD(e,()=>{const{length:s}=i,r=new Array(s);let o=s,a=s;for(let l=0;l<s;l++)ZD(e,()=>{const c=yi(i[l],e);let u=!1;c.subscribe(Yn(n,h=>{r[l]=h,u||(u=!0,a--),a||n.next(t(r.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,e,s?o=>XD(s,o):Co));return t?r.pipe(KD(t)):r}function ZD(i,e,t){i?Ur(t,i,e):e()}const $f=hu(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function d1(...i){return function bW(){return cl(1)}()(yi(i,fu(i)))}function QD(i){return new ni(e=>{xs(i()).subscribe(e)})}function Td(i,e){const t=mn(i)?i:()=>i,n=s=>s.error(t());return new ni(e?s=>e.schedule(n,0,s):n)}function h1(){return ii((i,e)=>{let t=null;i._refCount++;const n=Yn(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(t=null);const s=i._connection,r=t;t=null,s&&(!r||s===r)&&s.unsubscribe(),e.unsubscribe()});i.subscribe(n),n.closed||(t=i.connect())})}class JD extends ni{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,pC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rs;const t=this.getSubject();e.add(this.source.subscribe(Yn(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rs.EMPTY)}return e}refCount(){return h1()(this)}}function cc(i){return i<=0?()=>_r:ii((e,t)=>{let n=0;e.subscribe(Yn(t,s=>{++n<=i&&(t.next(s),i<=n&&t.complete())}))})}function Bo(i,e){return ii((t,n)=>{let s=0;t.subscribe(Yn(n,r=>i.call(e,r,s++)&&n.next(r)))})}function jf(i){return ii((e,t)=>{let n=!1;e.subscribe(Yn(t,s=>{n=!0,t.next(s)},()=>{n||t.next(i),t.complete()}))})}function eA(i=CW){return ii((e,t)=>{let n=!1;e.subscribe(Yn(t,s=>{n=!0,t.next(s)},()=>n?t.complete():t.error(i())))})}function CW(){return new $f}function Da(i,e){const t=arguments.length>=2;return n=>n.pipe(i?Bo((s,r)=>i(s,r,n)):Co,cc(1),t?jf(e):eA(()=>new $f))}function Sd(i,e){return mn(e)?Mi(i,e,1):Mi(i,1)}function Ni(i,e,t){const n=mn(i)||e||t?{next:i,error:e,complete:t}:i;return n?ii((s,r)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let a=!0;s.subscribe(Yn(r,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),r.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),r.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),r.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):Co}function Aa(i){return ii((e,t)=>{let r,n=null,s=!1;n=e.subscribe(Yn(t,void 0,void 0,o=>{r=xs(i(o,Aa(i)(e))),n?(n.unsubscribe(),n=null,r.subscribe(t)):s=!0})),s&&(n.unsubscribe(),n=null,r.subscribe(t))})}function p1(i){return i<=0?()=>_r:ii((e,t)=>{let n=[];e.subscribe(Yn(t,s=>{n.push(s),i<n.length&&n.shift()},()=>{for(const s of n)t.next(s);t.complete()},void 0,()=>{n=null}))})}function f1(i){return ii((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}const Ot="primary",Md=Symbol("RouteTitle");class IW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function uc(i){return new IW(i)}function DW(i,e,t){const n=t.path.split("/");if(n.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||n.length<i.length))return null;const s={};for(let r=0;r<n.length;r++){const o=n[r],a=i[r];if(o.startsWith(":"))s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:s}}function Pr(i,e){const t=i?Object.keys(i):void 0,n=e?Object.keys(e):void 0;if(!t||!n||t.length!=n.length)return!1;let s;for(let r=0;r<t.length;r++)if(s=t[r],!tA(i[s],e[s]))return!1;return!0}function tA(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),n=[...e].sort();return t.every((s,r)=>n[r]===s)}return i===e}function nA(i){return i.length>0?i[i.length-1]:null}function Uo(i){return function dW(i){return!!i&&(i instanceof ni||mn(i.lift)&&mn(i.subscribe))}(i)?i:nd(i)?yi(Promise.resolve(i)):Ct(i)}const PW={exact:function rA(i,e,t){if(!Pa(i.segments,e.segments)||!qf(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!i.children[n]||!rA(i.children[n],e.children[n],t))return!1;return!0},subset:oA},iA={exact:function RW(i,e){return Pr(i,e)},subset:function OW(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>tA(i[t],e[t]))},ignored:()=>!0};function sA(i,e,t){return PW[t.paths](i.root,e.root,t.matrixParams)&&iA[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function oA(i,e,t){return aA(i,e,e.segments,t)}function aA(i,e,t,n){if(i.segments.length>t.length){const s=i.segments.slice(0,t.length);return!(!Pa(s,t)||e.hasChildren()||!qf(s,t,n))}if(i.segments.length===t.length){if(!Pa(i.segments,t)||!qf(i.segments,t,n))return!1;for(const s in e.children)if(!i.children[s]||!oA(i.children[s],e.children[s],n))return!1;return!0}{const s=t.slice(0,i.segments.length),r=t.slice(i.segments.length);return!!(Pa(i.segments,s)&&qf(i.segments,s,n)&&i.children[Ot])&&aA(i.children[Ot],e,r,n)}}function qf(i,e,t){return e.every((n,s)=>iA[t](i[s].parameters,n.parameters))}class dc{constructor(e=new hn([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return FW.serialize(this)}}class hn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yf(this)}}class Ed{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=uc(this.parameters)),this._parameterMap}toString(){return uA(this)}}function Pa(i,e){return i.length===e.length&&i.every((t,n)=>t.path===e[n].path)}let Id=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:function(){return new m1},providedIn:"root"}),e})();class m1{parse(e){const t=new qW(e);return new dc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Dd(e.root,!0)}`,n=function BW(i){const e=Object.keys(i).map(t=>{const n=i[t];return Array.isArray(n)?n.map(s=>`${Kf(t)}=${Kf(s)}`).join("&"):`${Kf(t)}=${Kf(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${n}${"string"==typeof e.fragment?`#${function NW(i){return encodeURI(i)}(e.fragment)}`:""}`}}const FW=new m1;function Yf(i){return i.segments.map(e=>uA(e)).join("/")}function Dd(i,e){if(!i.hasChildren())return Yf(i);if(e){const t=i.children[Ot]?Dd(i.children[Ot],!1):"",n=[];return Object.entries(i.children).forEach(([s,r])=>{s!==Ot&&n.push(`${s}:${Dd(r,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function kW(i,e){let t=[];return Object.entries(i.children).forEach(([n,s])=>{n===Ot&&(t=t.concat(e(s,n)))}),Object.entries(i.children).forEach(([n,s])=>{n!==Ot&&(t=t.concat(e(s,n)))}),t}(i,(n,s)=>s===Ot?[Dd(i.children[Ot],!1)]:[`${s}:${Dd(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Ot]?`${Yf(i)}/${t[0]}`:`${Yf(i)}/(${t.join("//")})`}}function lA(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kf(i){return lA(i).replace(/%3B/gi,";")}function g1(i){return lA(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xf(i){return decodeURIComponent(i)}function cA(i){return Xf(i.replace(/\+/g,"%20"))}function uA(i){return`${g1(i.path)}${function VW(i){return Object.keys(i).map(e=>`;${g1(e)}=${g1(i[e])}`).join("")}(i.parameters)}`}const UW=/^[^\/()?;#]+/;function _1(i){const e=i.match(UW);return e?e[0]:""}const HW=/^[^\/()?;=#]+/,GW=/^[^=?&#]+/,$W=/^[^&#]+/;class qW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Ot]=new hn(e,t)),n}parseSegment(){const e=_1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new se(4009,!1);return this.capture(e),new Ed(Xf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function zW(i){const e=i.match(HW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const s=_1(this.remaining);s&&(n=s,this.capture(n))}e[Xf(t)]=Xf(n)}parseQueryParam(e){const t=function WW(i){const e=i.match(GW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function jW(i){const e=i.match($W);return e?e[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const s=cA(t),r=cA(n);if(e.hasOwnProperty(s)){let o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(r)}else e[s]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=_1(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new se(4010,!1);let r;n.indexOf(":")>-1?(r=n.slice(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=Ot);const o=this.parseChildren();t[r]=1===Object.keys(o).length?o[Ot]:new hn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new se(4011,!1)}}function dA(i){return i.segments.length>0?new hn([],{[Ot]:i}):i}function hA(i){const e={};for(const n of Object.keys(i.children)){const r=hA(i.children[n]);if(n===Ot&&0===r.segments.length&&r.hasChildren())for(const[o,a]of Object.entries(r.children))e[o]=a;else(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function YW(i){if(1===i.numberOfChildren&&i.children[Ot]){const e=i.children[Ot];return new hn(i.segments.concat(e.segments),e.children)}return i}(new hn(i.segments,e))}function Ra(i){return i instanceof dc}function pA(i){let e;const s=dA(function t(r){const o={};for(const l of r.children){const c=t(l);o[l.outlet]=c}const a=new hn(r.url,o);return r===i&&(e=a),a}(i.root));return e??s}function fA(i,e,t,n){let s=i;for(;s.parent;)s=s.parent;if(0===e.length)return v1(s,s,s,t,n);const r=function XW(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new gA(!0,0,i);let e=0,t=!1;const n=i.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new gA(t,e,n)}(e);if(r.toRoot())return v1(s,s,new hn([],{}),t,n);const o=function ZW(i,e,t){if(i.isAbsolute)return new Qf(e,!0,0);if(!t)return new Qf(e,!1,NaN);if(null===t.parent)return new Qf(t,!0,0);const n=Zf(i.commands[0])?0:1;return function QW(i,e,t){let n=i,s=e,r=t;for(;r>s;){if(r-=s,n=n.parent,!n)throw new se(4005,!1);s=n.segments.length}return new Qf(n,!1,s-r)}(t,t.segments.length-1+n,i.numberOfDoubleDots)}(r,s,i),a=o.processChildren?Pd(o.segmentGroup,o.index,r.commands):_A(o.segmentGroup,o.index,r.commands);return v1(s,o.segmentGroup,a,t,n)}function Zf(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Ad(i){return"object"==typeof i&&null!=i&&i.outlets}function v1(i,e,t,n,s){let o,r={};n&&Object.entries(n).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=i===e?t:mA(i,e,t);const a=dA(hA(o));return new dc(a,r,s)}function mA(i,e,t){const n={};return Object.entries(i.children).forEach(([s,r])=>{n[s]=r===e?t:mA(r,e,t)}),new hn(i.segments,n)}class gA{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Zf(n[0]))throw new se(4003,!1);const s=n.find(Ad);if(s&&s!==nA(n))throw new se(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qf{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function _A(i,e,t){if(i||(i=new hn([],{})),0===i.segments.length&&i.hasChildren())return Pd(i,e,t);const n=function e$(i,e,t){let n=0,s=e;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(n>=t.length)return r;const o=i.segments[s],a=t[n];if(Ad(a))break;const l=`${a}`,c=n<t.length-1?t[n+1]:null;if(s>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!yA(l,c,o))return r;n+=2}else{if(!yA(l,{},o))return r;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(i,e,t),s=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const r=new hn(i.segments.slice(0,n.pathIndex),{});return r.children[Ot]=new hn(i.segments.slice(n.pathIndex),i.children),Pd(r,0,s)}return n.match&&0===s.length?new hn(i.segments,{}):n.match&&!i.hasChildren()?y1(i,e,t):n.match?Pd(i,0,s):y1(i,e,t)}function Pd(i,e,t){if(0===t.length)return new hn(i.segments,{});{const n=function JW(i){return Ad(i[0])?i[0].outlets:{[Ot]:i}}(t),s={};if(Object.keys(n).some(r=>r!==Ot)&&i.children[Ot]&&1===i.numberOfChildren&&0===i.children[Ot].segments.length){const r=Pd(i.children[Ot],e,t);return new hn(i.segments,r.children)}return Object.entries(n).forEach(([r,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(s[r]=_A(i.children[r],e,o))}),Object.entries(i.children).forEach(([r,o])=>{void 0===n[r]&&(s[r]=o)}),new hn(i.segments,s)}}function y1(i,e,t){const n=i.segments.slice(0,e);let s=0;for(;s<t.length;){const r=t[s];if(Ad(r)){const l=t$(r.outlets);return new hn(n,l)}if(0===s&&Zf(t[0])){n.push(new Ed(i.segments[e].path,vA(t[0]))),s++;continue}const o=Ad(r)?r.outlets[Ot]:`${r}`,a=s<t.length-1?t[s+1]:null;o&&a&&Zf(a)?(n.push(new Ed(o,vA(a))),s+=2):(n.push(new Ed(o,{})),s++)}return new hn(n,{})}function t$(i){const e={};return Object.entries(i).forEach(([t,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(e[t]=y1(new hn([],{}),0,n))}),e}function vA(i){const e={};return Object.entries(i).forEach(([t,n])=>e[t]=`${n}`),e}function yA(i,e,t){return i==t.path&&Pr(e,t.parameters)}const Rd="imperative";class Rr{constructor(e,t){this.id=e,this.url=t}}class Jf extends Rr{constructor(e,t,n="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ho extends Rr{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Od extends Rr{constructor(e,t,n,s){super(e,t),this.reason=n,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hc extends Rr{constructor(e,t,n,s){super(e,t),this.reason=n,this.code=s,this.type=16}}class em extends Rr{constructor(e,t,n,s){super(e,t),this.error=n,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bA extends Rr{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n$ extends Rr{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i$ extends Rr{constructor(e,t,n,s,r){super(e,t),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=r,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s$ extends Rr{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r$ extends Rr{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o${constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class a${constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class l${constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c${constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u${constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d${constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wA{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class b1{}class w1{constructor(e){this.url=e}}class h${constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ld,this.attachRef=null}}let Ld=(()=>{var i;class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,s){const r=this.getOrCreateContext(n);r.outlet=s,this.contexts.set(n,r)}onChildOutletDestroyed(n){const s=this.getContext(n);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let s=this.getContext(n);return s||(s=new h$,this.contexts.set(n,s)),s}getContext(n){return this.contexts.get(n)||null}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();class CA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=C1(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){const t=C1(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=x1(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return x1(e,this._root).map(t=>t.value)}}function C1(i,e){if(i===e.value)return e;for(const t of e.children){const n=C1(i,t);if(n)return n}return null}function x1(i,e){if(i===e.value)return[e];for(const t of e.children){const n=x1(i,t);if(n.length)return n.unshift(e),n}return[]}class no{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pc(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class xA extends CA{constructor(e,t){super(e),this.snapshot=t,T1(this,e)}toString(){return this.snapshot.toString()}}function TA(i,e){const t=function p$(i,e){const o=new tm([],{},{},"",{},Ot,e,null,{});return new MA("",new no(o,[]))}(0,e),n=new zs([new Ed("",{})]),s=new zs({}),r=new zs({}),o=new zs({}),a=new zs(""),l=new fc(n,s,o,a,r,Ot,e,t.root);return l.snapshot=t.root,new xA(new no(l,[]),t)}class fc{constructor(e,t,n,s,r,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=s,this.dataSubject=r,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Cn(c=>c[Md]))??Ct(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=s,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Cn(e=>uc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Cn(e=>uc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function SA(i,e="emptyOnly"){const t=i.pathFromRoot;let n=0;if("always"!==e)for(n=t.length-1;n>=1;){const s=t[n],r=t[n-1];if(s.routeConfig&&""===s.routeConfig.path)n--;else{if(r.component)break;n--}}return function f$(i){return i.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(n))}class tm{get title(){return this.data?.[Md]}constructor(e,t,n,s,r,o,a,l,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class MA extends CA{constructor(e,t){super(t),this.url=e,T1(this,t)}toString(){return EA(this._root)}}function T1(i,e){e.value._routerState=i,e.children.forEach(t=>T1(i,t))}function EA(i){const e=i.children.length>0?` { ${i.children.map(EA).join(", ")} } `:"";return`${i.value}${e}`}function S1(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Pr(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),Pr(e.params,t.params)||i.paramsSubject.next(t.params),function AW(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Pr(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.urlSubject.next(t.url),Pr(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function M1(i,e){const t=Pr(i.params,e.params)&&function LW(i,e){return Pa(i,e)&&i.every((t,n)=>Pr(t.parameters,e[n].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||M1(i.parent,e.parent))}let E1=(()=>{var i;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new me,this.deactivateEvents=new me,this.attachEvents=new me,this.detachEvents=new me,this.parentContexts=Ze(Ld),this.location=Ze(As),this.changeDetector=Ze(Zn),this.environmentInjector=Ze(qs),this.inputBinder=Ze(nm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:s,previousValue:r}=n.name;if(s)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new se(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new se(4013,!1);this._activatedRoute=n;const r=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new m$(n,l,r.injector);this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275dir=dt({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ai]}),e})();class m${constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===fc?this.route:e===Ld?this.childContexts:this.parent.get(e,t)}}const nm=new nt("");let IA=(()=>{var i;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:s}=n,r=u1([s.queryParams,s.params,s.data]).pipe(vr(([o,a,l],c)=>(l={...o,...a,...l},0===c?Ct(l):Promise.resolve(l)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(n);const a=function $B(i){const e=Zt(i);if(!e)return null;const t=new Zu(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(s.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,o[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,r)}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})();function kd(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=e.value;const s=function _$(i,e,t){return e.children.map(n=>{for(const s of t.children)if(i.shouldReuseRoute(n.value,s.value.snapshot))return kd(i,n,s);return kd(i,n)})}(i,e,t);return new no(n,s)}{if(i.shouldAttach(e.value)){const r=i.retrieve(e.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>kd(i,a)),o}}const n=function v$(i){return new fc(new zs(i.url),new zs(i.params),new zs(i.queryParams),new zs(i.fragment),new zs(i.data),i.outlet,i.component,i)}(e.value),s=e.children.map(r=>kd(i,r));return new no(n,s)}}const I1="ngNavigationCancelingError";function DA(i,e){const{redirectTo:t,navigationBehaviorOptions:n}=Ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=AA(!1,0,e);return s.url=t,s.navigationBehaviorOptions=n,s}function AA(i,e,t){const n=new Error("NavigationCancelingError: "+(i||""));return n[I1]=!0,n.cancellationCode=e,t&&(n.url=t),n}function PA(i){return i&&i[I1]}let RA=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275cmp=tt({type:i,selectors:[["ng-component"]],standalone:!0,features:[nn],decls:1,vars:0,template:function(n,s){1&n&&ee(0,"router-outlet")},dependencies:[E1],encapsulation:2}),e})();function D1(i){const e=i.children&&i.children.map(D1),t=e?{...i,children:e}:{...i};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=RA),t}function hr(i){return i.outlet||Ot}function Fd(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class M${constructor(e,t,n,s,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=s,this.inputBindingEnabled=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),S1(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const s=pc(t);e.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],n),delete s[o]}),Object.values(s).forEach(r=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(e,t,n){const s=e.value,r=t?t.value:null;if(s===r)if(s.component){const o=n.getContext(s.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet),s=n&&e.value.component?n.children:t,r=pc(e);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),s=n&&e.value.component?n.children:t,r=pc(e);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){const s=pc(t);e.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],n),this.forwardEvent(new d$(r.value.snapshot))}),e.children.length&&this.forwardEvent(new c$(e.value.snapshot))}activateRoutes(e,t,n){const s=e.value,r=t?t.value:null;if(S1(s),s===r)if(s.component){const o=n.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(s.component){const o=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),S1(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Fd(s.snapshot);o.attachRef=null,o.route=s,o.injector=a,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}class OA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class im{constructor(e,t){this.component=e,this.route=t}}function E$(i,e,t){const n=i._root;return Nd(n,e?e._root:null,t,[n.value])}function mc(i,e){const t=Symbol(),n=e.get(i,t);return n===t?"function"!=typeof i||function pk(i){return null!==Fh(i)}(i)?e.get(i):i:n}function Nd(i,e,t,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=pc(e);return i.children.forEach(o=>{(function D$(i,e,t,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=i.value,o=e?e.value:null,a=t?t.getContext(i.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const l=function A$(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!Pa(i.url,e.url);case"pathParamsOrQueryParamsChange":return!Pa(i.url,e.url)||!Pr(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M1(i,e)||!Pr(i.queryParams,e.queryParams);default:return!M1(i,e)}}(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new OA(n)):(r.data=o.data,r._resolvedData=o._resolvedData),Nd(i,e,r.component?a?a.children:null:t,n,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new im(a.outlet.component,o))}else o&&Vd(e,a,s),s.canActivateChecks.push(new OA(n)),Nd(i,null,r.component?a?a.children:null:t,n,s)})(o,r[o.value.outlet],t,n.concat([o.value]),s),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,a])=>Vd(a,t.getContext(o),s)),s}function Vd(i,e,t){const n=pc(i),s=i.value;Object.entries(n).forEach(([r,o])=>{Vd(o,s.component?e?e.children.getContext(r):null:e,t)}),t.canDeactivateChecks.push(new im(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Bd(i){return"function"==typeof i}function LA(i){return i instanceof $f||"EmptyError"===i?.name}const sm=Symbol("INITIAL_VALUE");function gc(){return vr(i=>u1(i.map(e=>e.pipe(cc(1),function wW(...i){const e=fu(i);return ii((t,n)=>{(e?d1(i,t,e):d1(i,t)).subscribe(n)})}(sm)))).pipe(Cn(e=>{for(const t of e)if(!0!==t){if(t===sm)return sm;if(!1===t||t instanceof dc)return t}return!0}),Bo(e=>e!==sm),cc(1)))}function kA(i){return function m4(...i){return uC(i)}(Ni(e=>{if(Ra(e))throw DA(0,e)}),Cn(e=>!0===e))}class rm{constructor(e){this.segmentGroup=e||null}}class FA{constructor(e){this.urlTree=e}}function _c(i){return Td(new rm(i))}function NA(i){return Td(new FA(i))}class X${constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new se(4002,!1)}lineralizeSegments(e,t){let n=[],s=t.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return Ct(n);if(s.numberOfChildren>1||!s.children[Ot])return Td(new se(4e3,!1));s=s.children[Ot]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreateUrlTree(e,t,n,s){const r=this.createSegmentGroup(e,t.root,n,s);return new dc(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Object.entries(e).forEach(([s,r])=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);n[s]=t[a]}else n[s]=r}),n}createSegmentGroup(e,t,n,s){const r=this.createSegments(e,t.segments,n,s);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,n,s)}),new hn(r,o)}createSegments(e,t,n,s){return t.map(r=>r.path.startsWith(":")?this.findPosParam(e,r,s):this.findOrReturn(r,n))}findPosParam(e,t,n){const s=n[t.path.substring(1)];if(!s)throw new se(4001,!1);return s}findOrReturn(e,t){let n=0;for(const s of t){if(s.path===e.path)return t.splice(n),s;n++}return e}}const A1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Z$(i,e,t,n,s){const r=P1(i,e,t);return r.matched?(n=function b$(i,e){return i.providers&&!i._injector&&(i._injector=Lv(i.providers,e,`Route: ${i.path}`)),i._injector??e}(e,n),function q$(i,e,t,n){const s=e.canMatch;return s&&0!==s.length?Ct(s.map(o=>{const a=mc(o,i);return Uo(function F$(i){return i&&Bd(i.canMatch)}(a)?a.canMatch(e,t):i.runInContext(()=>a(e,t)))})).pipe(gc(),kA()):Ct(!0)}(n,e,t).pipe(Cn(o=>!0===o?r:{...A1}))):Ct(r)}function P1(i,e,t){if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?{...A1}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||DW)(t,i,e);if(!s)return{...A1};const r={};Object.entries(s.posParams??{}).forEach(([a,l])=>{r[a]=l.path});const o=s.consumed.length>0?{...r,...s.consumed[s.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function VA(i,e,t,n){return t.length>0&&function ej(i,e,t){return t.some(n=>om(i,e,n)&&hr(n)!==Ot)}(i,t,n)?{segmentGroup:new hn(e,J$(n,new hn(t,i.children))),slicedSegments:[]}:0===t.length&&function tj(i,e,t){return t.some(n=>om(i,e,n))}(i,t,n)?{segmentGroup:new hn(i.segments,Q$(i,0,t,n,i.children)),slicedSegments:t}:{segmentGroup:new hn(i.segments,i.children),slicedSegments:t}}function Q$(i,e,t,n,s){const r={};for(const o of n)if(om(i,t,o)&&!s[hr(o)]){const a=new hn([],{});r[hr(o)]=a}return{...s,...r}}function J$(i,e){const t={};t[Ot]=e;for(const n of i)if(""===n.path&&hr(n)!==Ot){const s=new hn([],{});t[hr(n)]=s}return t}function om(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class rj{constructor(e,t,n,s,r,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=s,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new X$(this.urlSerializer,this.urlTree)}noMatchError(e){return new se(4002,!1)}recognize(){const e=VA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe(Aa(t=>{if(t instanceof FA)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof rm?this.noMatchError(t):t}),Cn(t=>{const n=new tm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,{}),s=new no(n,t),r=new MA("",s),o=function KW(i,e,t=null,n=null){return fA(pA(i),e,t,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(r._root),{state:r,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ot).pipe(Aa(n=>{throw n instanceof rm?this.noMatchError(n):n}))}inheritParamsAndData(e){const t=e.value,n=SA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,t,n):this.processSegment(e,t,n,n.segments,s,!0)}processChildren(e,t,n){const s=[];for(const r of Object.keys(n.children))"primary"===r?s.unshift(r):s.push(r);return yi(s).pipe(Sd(r=>{const o=n.children[r],a=function T$(i,e){const t=i.filter(n=>hr(n)===e);return t.push(...i.filter(n=>hr(n)!==e)),t}(t,r);return this.processSegmentGroup(e,a,o,r)}),function TW(i,e){return ii(function xW(i,e,t,n,s){return(r,o)=>{let a=t,l=e,c=0;r.subscribe(Yn(o,u=>{const h=c++;l=a?i(l,u,h):(a=!0,u),n&&o.next(l)},s&&(()=>{a&&o.next(l),o.complete()})))}}(i,e,arguments.length>=2,!0))}((r,o)=>(r.push(...o),r)),jf(null),function SW(i,e){const t=arguments.length>=2;return n=>n.pipe(i?Bo((s,r)=>i(s,r,n)):Co,p1(1),t?jf(e):eA(()=>new $f))}(),Mi(r=>{if(null===r)return _c(n);const o=BA(r);return function oj(i){i.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(o),Ct(o)}))}processSegment(e,t,n,s,r,o){return yi(t).pipe(Sd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,n,s,r,o).pipe(Aa(l=>{if(l instanceof rm)return Ct(null);throw l}))),Da(a=>!!a),Aa(a=>{if(LA(a))return function ij(i,e,t){return 0===e.length&&!i.children[t]}(n,s,r)?Ct([]):_c(n);throw a}))}processSegmentAgainstRoute(e,t,n,s,r,o,a){return function nj(i,e,t,n){return!!(hr(i)===n||n!==Ot&&om(e,t,i))&&("**"===i.path||P1(e,i,t).matched)}(n,s,r,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,s,n,r,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,n,r,o):_c(s):_c(s)}expandSegmentAgainstRouteUsingRedirect(e,t,n,s,r,o){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,s,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,s,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,s){const r=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?NA(r):this.applyRedirects.lineralizeSegments(n,r).pipe(Mi(o=>{const a=new hn(o,{});return this.processSegment(e,t,a,o,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,s,r,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=P1(t,s,r);if(!a)return _c(t);const h=this.applyRedirects.applyRedirectCommands(l,s.redirectTo,u);return s.redirectTo.startsWith("/")?NA(h):this.applyRedirects.lineralizeSegments(s,h).pipe(Mi(p=>this.processSegment(e,n,t,p.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,n,s,r,o){let a;if("**"===n.path){const l=s.length>0?nA(s).parameters:{};a=Ct({snapshot:new tm(s,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UA(n),hr(n),n.component??n._loadedComponent??null,n,HA(n)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Z$(t,n,s,e).pipe(Cn(({matched:l,consumedSegments:c,remainingSegments:u,parameters:h})=>l?{snapshot:new tm(c,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UA(n),hr(n),n.component??n._loadedComponent??null,n,HA(n)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(vr(l=>null===l?_c(t):this.getChildConfig(e=n._injector??e,n,s).pipe(vr(({routes:c})=>{const u=n._loadedInjector??e,{snapshot:h,consumedSegments:p,remainingSegments:f}=l,{segmentGroup:m,slicedSegments:v}=VA(t,p,f,c);if(0===v.length&&m.hasChildren())return this.processChildren(u,c,m).pipe(Cn(g=>null===g?null:[new no(h,g)]));if(0===c.length&&0===v.length)return Ct([new no(h,[])]);const _=hr(n)===r;return this.processSegment(u,c,m,v,_?Ot:r,!0).pipe(Cn(g=>[new no(h,g)]))}))))}getChildConfig(e,t,n){return t.children?Ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function j$(i,e,t,n){const s=e.canLoad;return void 0===s||0===s.length?Ct(!0):Ct(s.map(o=>{const a=mc(o,i);return Uo(function R$(i){return i&&Bd(i.canLoad)}(a)?a.canLoad(e,t):i.runInContext(()=>a(e,t)))})).pipe(gc(),kA())}(e,t,n).pipe(Mi(s=>s?this.configLoader.loadChildren(e,t).pipe(Ni(r=>{t._loadedRoutes=r.routes,t._loadedInjector=r.injector})):function K$(i){return Td(AA(!1,3))}())):Ct({routes:[],injector:e})}}function aj(i){const e=i.value.routeConfig;return e&&""===e.path}function BA(i){const e=[],t=new Set;for(const n of i){if(!aj(n)){e.push(n);continue}const s=e.find(r=>n.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...n.children),t.add(s)):e.push(n)}for(const n of t){const s=BA(n.children);e.push(new no(n.value,s))}return e.filter(n=>!t.has(n))}function UA(i){return i.data||{}}function HA(i){return i.resolve||{}}function zA(i){return"string"==typeof i.title||null===i.title}function R1(i){return vr(e=>{const t=i(e);return t?yi(t).pipe(Cn(()=>e)):Ct(e)})}const vc=new nt("ROUTES");let O1=(()=>{var i;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ze(zE)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ct(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const s=Uo(n.loadComponent()).pipe(Cn(GA),Ni(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),f1(()=>{this.componentLoaders.delete(n)})),r=new JD(s,()=>new qn).pipe(h1());return this.componentLoaders.set(n,r),r}loadChildren(n,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Ct({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const o=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe(Cn(l=>{this.onLoadEndListener&&this.onLoadEndListener(s);let c,u;return Array.isArray(l)?u=l:(c=l.create(n).injector,u=c.get(vc,[],Bt.Self|Bt.Optional).flat()),{routes:u.map(D1),injector:c}}),f1(()=>{this.childrenLoaders.delete(s)})),a=new JD(o,()=>new qn).pipe(h1());return this.childrenLoaders.set(s,a),a}loadModuleFactoryOrRoutes(n){return Uo(n()).pipe(Cn(GA),Mi(s=>s instanceof XM||Array.isArray(s)?Ct(s):yi(this.compiler.compileModuleAsync(s))))}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();function GA(i){return function fj(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let am=(()=>{var i;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qn,this.transitionAbortSubject=new qn,this.configLoader=Ze(O1),this.environmentInjector=Ze(qs),this.urlSerializer=Ze(Id),this.rootContexts=Ze(Ld),this.inputBindingEnabled=null!==Ze(nm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ct(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new a$(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new o$(r))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:s})}setupNavigations(n,s,r){return this.transitions=new zs({id:0,currentUrlTree:s,currentRawUrl:s,currentBrowserUrl:s,extractedUrl:n.urlHandlingStrategy.extract(s),urlAfterRedirects:n.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rd,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bo(o=>0!==o.id),Cn(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),vr(o=>{this.currentTransition=o;let a=!1,l=!1;return Ct(o).pipe(Ni(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vr(c=>{const u=c.currentBrowserUrl.toString(),h=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!h&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new hc(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),_r}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ct(c).pipe(vr(f=>{const m=this.transitions?.getValue();return this.events.next(new Jf(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?_r:Promise.resolve(f)}),function lj(i,e,t,n,s,r){return Mi(o=>function sj(i,e,t,n,s,r,o="emptyOnly"){return new rj(i,e,t,n,s,o,r).recognize()}(i,e,t,n,o.extractedUrl,s,r).pipe(Cn(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ni(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const m=new bA(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(h&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:m,source:v,restoredState:_,extras:g}=c,C=new Jf(f,this.urlSerializer.serialize(m),v,_);this.events.next(C);const w=TA(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:w,urlAfterRedirects:m,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},Ct(o)}{const f="";return this.events.next(new hc(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),_r}}),Ni(c=>{const u=new n$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Cn(c=>(this.currentTransition=o={...c,guards:E$(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function V$(i,e){return Mi(t=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=t;return 0===o.length&&0===r.length?Ct({...t,guardsResult:!0}):function B$(i,e,t,n){return yi(i).pipe(Mi(s=>function $$(i,e,t,n,s){const r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Ct(r.map(a=>{const l=Fd(e)??s,c=mc(a,l);return Uo(function k$(i){return i&&Bd(i.canDeactivate)}(c)?c.canDeactivate(i,e,t,n):l.runInContext(()=>c(i,e,t,n))).pipe(Da())})).pipe(gc()):Ct(!0)}(s.component,s.route,t,e,n)),Da(s=>!0!==s,!0))}(o,n,s,i).pipe(Mi(a=>a&&function P$(i){return"boolean"==typeof i}(a)?function U$(i,e,t,n){return yi(e).pipe(Sd(s=>d1(function z$(i,e){return null!==i&&e&&e(new l$(i)),Ct(!0)}(s.route.parent,n),function H$(i,e){return null!==i&&e&&e(new u$(i)),Ct(!0)}(s.route,n),function W$(i,e,t){const n=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(o=>function I$(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(o)).filter(o=>null!==o).map(o=>QD(()=>Ct(o.guards.map(l=>{const c=Fd(o.node)??t,u=mc(l,c);return Uo(function L$(i){return i&&Bd(i.canActivateChild)}(u)?u.canActivateChild(n,i):c.runInContext(()=>u(n,i))).pipe(Da())})).pipe(gc())));return Ct(r).pipe(gc())}(i,s.path,t),function G$(i,e,t){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return Ct(!0);const s=n.map(r=>QD(()=>{const o=Fd(e)??t,a=mc(r,o);return Uo(function O$(i){return i&&Bd(i.canActivate)}(a)?a.canActivate(e,i):o.runInContext(()=>a(e,i))).pipe(Da())}));return Ct(s).pipe(gc())}(i,s.route,t))),Da(s=>!0!==s,!0))}(n,r,i,e):Ct(a)),Cn(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ni(c=>{if(o.guardsResult=c.guardsResult,Ra(c.guardsResult))throw DA(0,c.guardsResult);const u=new i$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Bo(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),R1(c=>{if(c.guards.canActivateChecks.length)return Ct(c).pipe(Ni(u=>{const h=new s$(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),vr(u=>{let h=!1;return Ct(u).pipe(function cj(i,e){return Mi(t=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=t;if(!s.length)return Ct(t);let r=0;return yi(s).pipe(Sd(o=>function uj(i,e,t,n){const s=i.routeConfig,r=i._resolve;return void 0!==s?.title&&!zA(s)&&(r[Md]=s.title),function dj(i,e,t,n){const s=function hj(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===s.length)return Ct({});const r={};return yi(s).pipe(Mi(o=>function pj(i,e,t,n){const s=Fd(e)??n,r=mc(i,s);return Uo(r.resolve?r.resolve(e,t):s.runInContext(()=>r(e,t)))}(i[o],e,t,n).pipe(Da(),Ni(a=>{r[o]=a}))),p1(1),function MW(i){return Cn(()=>i)}(r),Aa(o=>LA(o)?_r:Td(o)))}(r,i,e,n).pipe(Cn(o=>(i._resolvedData=o,i.data=SA(i,t).resolve,s&&zA(s)&&(i.data[Md]=s.title),null)))}(o.route,n,i,e)),Ni(()=>r++),p1(1),Mi(o=>r===s.length?Ct(t):_r))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ni({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",2)}}))}),Ni(u=>{const h=new r$(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),R1(c=>{const u=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ni(f=>{h.component=f}),Cn(()=>{})));for(const f of h.children)p.push(...u(f));return p};return u1(u(c.targetSnapshot.root)).pipe(jf(),cc(1))}),R1(()=>this.afterPreactivation()),Cn(c=>{const u=function g$(i,e,t){const n=kd(i,e._root,t?t._root:void 0);return new xA(n,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),Ni(()=>{this.events.next(new b1)}),((i,e,t,n)=>Cn(s=>(new M$(e,s.targetRouterState,s.currentRouterState,t,n).activate(i),s)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),cc(1),Ni({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ho(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function EW(i){return ii((e,t)=>{xs(i).subscribe(Yn(t,()=>t.complete(),l_)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Ni(c=>{throw c}))),f1(()=>{a||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Aa(c=>{if(l=!0,PA(c))this.events.next(new Od(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function y$(i){return PA(i)&&Ra(i.url)}(c)?this.events.next(new w1(c.url)):o.resolve(!1);else{this.events.next(new em(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){o.reject(u)}}return _r}))}))}cancelNavigationTransition(n,s,r){const o=new Od(n.id,this.urlSerializer.serialize(n.extractedUrl),s,r);this.events.next(o),n.resolve(!1)}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();function WA(i){return i!==Rd}let $A=(()=>{var i;class e{buildTitle(n){let s,r=n.root;for(;void 0!==r;)s=this.getResolvedTitleForRoute(r)??s,r=r.children.find(o=>o.outlet===Ot);return s}getResolvedTitleForRoute(n){return n.data[Md]}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:function(){return Ze(mj)},providedIn:"root"}),e})(),mj=(()=>{var i;class e extends $A{constructor(n){super(),this.title=n}updateTitle(n){const s=this.buildTitle(n);void 0!==s&&this.title.setTitle(s)}}return(i=e).\u0275fac=function(n){return new(n||i)(et(lD))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})(),gj=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:function(){return Ze(vj)},providedIn:"root"}),e})();class _j{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let vj=(()=>{var i;class e extends _j{}return(i=e).\u0275fac=function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}(),i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();const lm=new nt("",{providedIn:"root",factory:()=>({})});let yj=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:function(){return Ze(bj)},providedIn:"root"}),e})(),bj=(()=>{var i;class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,s){return n}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();var Ud=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Ud||{});function jA(i,e){i.events.pipe(Bo(t=>t instanceof Ho||t instanceof Od||t instanceof em||t instanceof hc),Cn(t=>t instanceof Ho||t instanceof hc?Ud.COMPLETE:t instanceof Od&&(0===t.code||1===t.code)?Ud.REDIRECTING:Ud.FAILED),Bo(t=>t!==Ud.REDIRECTING),cc(1)).subscribe(()=>{e()})}function wj(i){throw i}function Cj(i,e,t){return e.parse("/")}const xj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qs=(()=>{var i;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ze(UE),this.isNgZoneEnabled=!1,this._events=new qn,this.options=Ze(lm,{optional:!0})||{},this.pendingTasks=Ze(HE),this.errorHandler=this.options.errorHandler||wj,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Cj,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ze(yj),this.routeReuseStrategy=Ze(gj),this.titleStrategy=Ze($A),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ze(vc,{optional:!0})?.flat()??[],this.navigationTransitions=Ze(am),this.urlSerializer=Ze(Id),this.location=Ze(py),this.componentInputBindingEnabled=!!Ze(nm,{optional:!0}),this.eventsSubscription=new rs,this.isNgZoneEnabled=Ze(Wt)instanceof Wt&&Wt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new dc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=TA(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(s=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(qA(s)&&this._events.next(s));if(s instanceof Jf)WA(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(s instanceof hc)this.rawUrlTree=r.rawUrl;else if(s instanceof bA){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(s instanceof b1)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(s instanceof Od)0!==s.code&&1!==s.code&&(this.navigated=!0),(3===s.code||2===s.code)&&this.restoreHistory(r);else if(s instanceof w1){const o=this.urlHandlingStrategy.merge(s.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||WA(r.source)};this.scheduleNavigation(o,Rd,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}s instanceof em&&this.restoreHistory(r,!0),s instanceof Ho&&(this.navigated=!0),qA(s)&&this._events.next(s)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rd,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const s="popstate"===n.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,s,n.state)},0)}))}navigateToSyncWithBrowser(n,s,r){const o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,s,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(D1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,s={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=s,u=c?this.currentUrlTree.fragment:a;let p,h=null;switch(l){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=pA(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return fA(p,n,h,u??null)}navigateByUrl(n,s={skipLocationChange:!1}){const r=Ra(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Rd,null,s)}navigate(n,s={skipLocationChange:!1}){return function Sj(i){for(let e=0;e<i.length;e++)if(null==i[e])throw new se(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let s;try{s=this.urlSerializer.parse(n)}catch(r){s=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return s}isActive(n,s){let r;if(r=!0===s?{...xj}:!1===s?{...Tj}:s,Ra(n))return sA(this.currentUrlTree,n,r);const o=this.parseUrl(n);return sA(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.keys(n).reduce((s,r)=>{const o=n[r];return null!=o&&(s[r]=o),s},{})}scheduleNavigation(n,s,r,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((p,f)=>{l=p,c=f});const h=this.pendingTasks.add();return jA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}setBrowserUrl(n,s){const r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||s.extras.replaceUrl){const a={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const o={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(n,s=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();function qA(i){return!(i instanceof b1||i instanceof w1)}let cm=(()=>{var i;class e{constructor(n,s,r,o,a,l){this.router=n,this.route=s,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new qn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Ho&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,s,r,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||s||r||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function QT(i,e,t){return function v5(i,e){return"src"===e&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===e&&("base"===i||"link"===i)?ZT:XT}(e,t)(i)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,s){const r=this.renderer,o=this.el.nativeElement;null!==s?r.setAttribute(o,n,s):r.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(i=e).\u0275fac=function(n){return new(n||i)(G(Qs),G(fc),function ap(i){return function NF(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const n=t.length;let s=0;for(;s<n;){const r=t[s];if(WC(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<n&&"string"==typeof t[s];)s++;else{if(r===e)return t[s+1];s+=2}}}return null}(Pi(),i)}("tabindex"),G(pi),G(sn),G(ko))},i.\u0275dir=dt({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,s){1&n&&ae("click",function(o){return s.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&pe("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",rc],skipLocationChange:["skipLocationChange","skipLocationChange",rc],replaceUrl:["replaceUrl","replaceUrl",rc],routerLink:"routerLink"},standalone:!0,features:[p2,Ai]}),e})();class YA{}let Ij=(()=>{var i;class e{constructor(n,s,r,o,a){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Bo(n=>n instanceof Ho),Sd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const r=[];for(const o of s){o.providers&&!o._injector&&(o._injector=Lv(o.providers,n,`Route: ${o.path}`));const a=o._injector??n,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(l,o.children??o._loadedRoutes))}return yi(r).pipe(cl())}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>{let r;r=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(n,s):Ct(null);const o=r.pipe(Mi(a=>null===a?Ct(void 0):(s._loadedRoutes=a.routes,s._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return s.loadComponent&&!s._loadedComponent?yi([o,this.loader.loadComponent(s)]).pipe(cl()):o})}}return(i=e).\u0275fac=function(n){return new(n||i)(et(Qs),et(zE),et(qs),et(YA),et(O1))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();const L1=new nt("");let KA=(()=>{var i;class e{constructor(n,s,r,o,a={}){this.urlSerializer=n,this.transitions=s,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Jf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ho?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof hc&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wA&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wA(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(i=e).\u0275fac=function(n){!function BS(){throw new Error("invalid")}()},i.\u0275prov=Qe({token:i,factory:i.\u0275fac}),e})();function io(i,e){return{\u0275kind:i,\u0275providers:e}}function ZA(){const i=Ze(ds);return e=>{const t=i.get(Ta);if(e!==t.components[0])return;const n=i.get(Qs),s=i.get(QA);1===i.get(k1)&&n.initialNavigation(),i.get(JA,null,Bt.Optional)?.setUpPreloading(),i.get(L1,null,Bt.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const QA=new nt("",{factory:()=>new qn}),k1=new nt("",{providedIn:"root",factory:()=>1}),JA=new nt("");function Rj(i){return io(0,[{provide:JA,useExisting:Ij},{provide:YA,useExisting:i}])}const e3=new nt("ROUTER_FORROOT_GUARD"),Lj=[py,{provide:Id,useClass:m1},Qs,Ld,{provide:fc,useFactory:function XA(i){return i.routerState.root},deps:[Qs]},O1,[]];function kj(){return new KE("Router",Qs)}let yc=(()=>{var i;class e{constructor(n){}static forRoot(n,s){return{ngModule:e,providers:[Lj,[],{provide:vc,multi:!0,useValue:n},{provide:e3,useFactory:Bj,deps:[[Qs,new up,new dp]]},{provide:lm,useValue:s||{}},s?.useHash?{provide:ko,useClass:MI}:{provide:ko,useClass:SI},{provide:L1,useFactory:()=>{const i=Ze(pH),e=Ze(Wt),t=Ze(lm),n=Ze(am),s=Ze(Id);return t.scrollOffset&&i.setOffset(t.scrollOffset),new KA(s,n,i,e,t)}},s?.preloadingStrategy?Rj(s.preloadingStrategy).\u0275providers:[],{provide:KE,multi:!0,useFactory:kj},s?.initialNavigation?Uj(s):[],s?.bindToComponentInputs?io(8,[IA,{provide:nm,useExisting:IA}]).\u0275providers:[],[{provide:t3,useFactory:ZA},{provide:iy,multi:!0,useExisting:t3}]]}}static forChild(n){return{ngModule:e,providers:[{provide:vc,multi:!0,useValue:n}]}}}return(i=e).\u0275fac=function(n){return new(n||i)(et(e3,8))},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({}),e})();function Bj(i){return"guarded"}function Uj(i){return["disabled"===i.initialNavigation?io(3,[{provide:Kv,multi:!0,useFactory:()=>{const e=Ze(Qs);return()=>{e.setUpLocationChangeListener()}}},{provide:k1,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?io(2,[{provide:k1,useValue:0},{provide:Kv,multi:!0,deps:[ds],useFactory:e=>{const t=e.get(YB,Promise.resolve());return()=>t.then(()=>new Promise(n=>{const s=e.get(Qs),r=e.get(QA);jA(s,()=>{n(!0)}),e.get(am).afterPreactivation=()=>(n(!0),r.closed?Ct(void 0):r),s.initialNavigation()}))}}]).\u0275providers:[]]}const t3=new nt("");let n3=(()=>{var i;class e{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(i=e).\u0275fac=function(n){return new(n||i)(G(pi),G(sn))},i.\u0275dir=dt({type:i}),e})(),Oa=(()=>{var i;class e extends n3{}return(i=e).\u0275fac=function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}(),i.\u0275dir=dt({type:i,features:[ot]}),e})();const mi=new nt("NgValueAccessor"),Wj={provide:mi,useExisting:qt(()=>F1),multi:!0},jj=new nt("CompositionEventMode");let F1=(()=>{var i;class e extends n3{constructor(n,s,r){super(n,s),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $j(){const i=Lo()?Lo().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(i=e).\u0275fac=function(n){return new(n||i)(G(pi),G(sn),G(jj,8))},i.\u0275dir=dt({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&ae("input",function(o){return s._handleInput(o.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(o){return s._compositionEnd(o.target.value)})},features:[Jt([Wj]),ot]}),e})();function zo(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function r3(i){return null!=i&&"number"==typeof i.length}const Vi=new nt("NgValidators"),Go=new nt("NgAsyncValidators"),qj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $t{static min(e){return function o3(i){return e=>{if(zo(e.value)||zo(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}(e)}static max(e){return function a3(i){return e=>{if(zo(e.value)||zo(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}(e)}static required(e){return function l3(i){return zo(i.value)?{required:!0}:null}(e)}static requiredTrue(e){return function c3(i){return!0===i.value?null:{required:!0}}(e)}static email(e){return function u3(i){return zo(i.value)||qj.test(i.value)?null:{email:!0}}(e)}static minLength(e){return function d3(i){return e=>zo(e.value)||!r3(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function h3(i){return e=>r3(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static pattern(e){return function p3(i){if(!i)return um;let e,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),n=>{if(zo(n.value))return null;const s=n.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return y3(e)}static composeAsync(e){return b3(e)}}function um(i){return null}function f3(i){return null!=i}function m3(i){return nd(i)?yi(i):i}function g3(i){let e={};return i.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function _3(i,e){return e.map(t=>t(i))}function v3(i){return i.map(e=>function Yj(i){return!i.validate}(e)?e:t=>e.validate(t))}function y3(i){if(!i)return null;const e=i.filter(f3);return 0==e.length?null:function(t){return g3(_3(t,e))}}function N1(i){return null!=i?y3(v3(i)):null}function b3(i){if(!i)return null;const e=i.filter(f3);return 0==e.length?null:function(t){return function zj(...i){const e=IC(i),{args:t,keys:n}=YD(i),s=new ni(r=>{const{length:o}=t;if(!o)return void r.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;xs(t[u]).subscribe(Yn(r,p=>{h||(h=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!h)&&(c||r.next(n?XD(n,a):a),r.complete())}))}});return e?s.pipe(KD(e)):s}(_3(t,e).map(m3)).pipe(Cn(g3))}}function V1(i){return null!=i?b3(v3(i)):null}function w3(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function C3(i){return i._rawValidators}function x3(i){return i._rawAsyncValidators}function B1(i){return i?Array.isArray(i)?i:[i]:[]}function dm(i,e){return Array.isArray(i)?i.includes(e):i===e}function T3(i,e){const t=B1(e);return B1(i).forEach(s=>{dm(t,s)||t.push(s)}),t}function S3(i,e){return B1(e).filter(t=>!dm(i,t))}class M3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=N1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=V1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Xi extends M3{get formDirective(){return null}get path(){return null}}class so extends M3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class E3{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hm=(()=>{var i;class e extends E3{constructor(n){super(n)}}return(i=e).\u0275fac=function(n){return new(n||i)(G(so,2))},i.\u0275dir=dt({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&Kr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[ot]}),e})(),U1=(()=>{var i;class e extends E3{constructor(n){super(n)}}return(i=e).\u0275fac=function(n){return new(n||i)(G(Xi,10))},i.\u0275dir=dt({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&Kr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[ot]}),e})();const Hd="VALID",fm="INVALID",bc="PENDING",zd="DISABLED";function G1(i){return(mm(i)?i.validators:i)||null}function W1(i,e){return(mm(e)?e.asyncValidators:i)||null}function mm(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function D3(i,e,t){const n=i.controls;if(!(e?Object.keys(n):n).length)throw new se(1e3,"");if(!n[t])throw new se(1001,"")}function A3(i,e,t){i._forEachChild((n,s)=>{if(void 0===t[s])throw new se(1002,"")})}class gm{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hd}get invalid(){return this.status===fm}get pending(){return this.status==bc}get disabled(){return this.status===zd}get enabled(){return this.status!==zd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(T3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(T3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(S3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(S3(e,this._rawAsyncValidators))}hasValidator(e){return dm(this._rawValidators,e)}hasAsyncValidator(e){return dm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zd,this.errors=null,this._forEachChild(n=>{n.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hd,this._forEachChild(n=>{n.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hd||this.status===bc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zd:Hd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bc,this._hasOwnPendingAsyncValidator=!0;const t=m3(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((n,s)=>n&&n._find(s),this)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?zd:this.errors?fm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bc)?bc:this._anyControlsHaveStatus(fm)?fm:Hd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Qj(i){return Array.isArray(i)?N1(i):i||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Jj(i){return Array.isArray(i)?V1(i):i||null}(this._rawAsyncValidators)}}class wc extends gm{constructor(e,t,n){super(G1(t),W1(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){A3(this,0,e),Object.keys(e).forEach(n=>{D3(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{const s=this.controls[n];s&&s.patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,s)=>{n.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,n]of Object.entries(this.controls))if(this.contains(t)&&e(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,n,s)=>((n.enabled||this.disabled)&&(t[s]=n.value),t))}_reduceChildren(e,t){let n=e;return this._forEachChild((s,r)=>{n=t(n,s,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class P3 extends wc{}const La=new nt("CallSetDisabledState",{providedIn:"root",factory:()=>Gd}),Gd="always";function _m(i,e){return[...e.path,i]}function Wd(i,e,t=Gd){$1(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(i.disabled),function tq(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&R3(i,e)})}(i,e),function iq(i,e){const t=(n,s)=>{e.valueAccessor.writeValue(n),s&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function nq(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&R3(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function eq(i,e){if(e.valueAccessor.setDisabledState){const t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function vm(i,e,t=!0){const n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),bm(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function ym(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $1(i,e){const t=C3(i);null!==e.validator?i.setValidators(w3(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const n=x3(i);null!==e.asyncValidator?i.setAsyncValidators(w3(n,e.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const s=()=>i.updateValueAndValidity();ym(e._rawValidators,s),ym(e._rawAsyncValidators,s)}function bm(i,e){let t=!1;if(null!==i){if(null!==e.validator){const s=C3(i);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==e.validator);r.length!==s.length&&(t=!0,i.setValidators(r))}}if(null!==e.asyncValidator){const s=x3(i);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==e.asyncValidator);r.length!==s.length&&(t=!0,i.setAsyncValidators(r))}}}const n=()=>{};return ym(e._rawValidators,n),ym(e._rawAsyncValidators,n),t}function R3(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function q1(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Y1(i,e){if(!e)return null;let t,n,s;return Array.isArray(e),e.forEach(r=>{r.constructor===F1?t=r:function oq(i){return Object.getPrototypeOf(i.constructor)===Oa}(r)?n=r:s=r}),s||n||t||null}function k3(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}function F3(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const jd=class extends gm{constructor(e=null,t,n){super(G1(t),W1(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=F3(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){k3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){k3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){F3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let N3=(()=>{var i;class e extends Xi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return _m(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return(i=e).\u0275fac=function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}(),i.\u0275dir=dt({type:i,features:[ot]}),e})();const dq={provide:so,useExisting:qt(()=>wm)},B3=(()=>Promise.resolve())();let wm=(()=>{var i;class e extends so{constructor(n,s,r,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new jd,this._registered=!1,this.name="",this.update=new me,this._parent=n,this._setValidators(s),this._setAsyncValidators(r),this.valueAccessor=Y1(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const s=n.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),q1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){B3.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const s=n.isDisabled.currentValue,r=0!==s&&rc(s);B3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?_m(n,this._parent):[n]}}return(i=e).\u0275fac=function(n){return new(n||i)(G(Xi,9),G(Vi,10),G(Go,10),G(mi,10),G(Zn,8),G(La,8))},i.\u0275dir=dt({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jt([dq]),ot,Ai]}),e})(),H3=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({}),e})();const X1=new nt("NgModelWithFormControlWarning"),vq={provide:Xi,useExisting:qt(()=>qd)};let qd=(()=>{var i;class e extends Xi{constructor(n,s,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new me,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return Wd(s,n,this.callSetDisabledState),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){vm(n.control||null,n,!1),function aq(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this.submitted=!0,function L3(i,e){i._syncPendingControls(),e.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,r=this.form.get(n.path);s!==r&&(vm(s||null,n),(i=>i instanceof jd)(r)&&(Wd(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);(function O3(i,e){$1(i,e)})(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function sq(i,e){return bm(i,e)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$1(this.form,this),this._oldForm&&bm(this._oldForm,this)}_checkFormPresent(){}}return(i=e).\u0275fac=function(n){return new(n||i)(G(Vi,10),G(Go,10),G(La,8))},i.\u0275dir=dt({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&ae("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jt([vq]),ot,Ai]}),e})();const yq={provide:Xi,useExisting:qt(()=>Z1)};let Z1=(()=>{var i;class e extends N3{constructor(n,s,r){super(),this.name=null,this._parent=n,this._setValidators(s),this._setAsyncValidators(r)}_checkParentType(){$3(this._parent)}}return(i=e).\u0275fac=function(n){return new(n||i)(G(Xi,13),G(Vi,10),G(Go,10))},i.\u0275dir=dt({type:i,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Jt([yq]),ot]}),e})();const bq={provide:Xi,useExisting:qt(()=>Yd)};let Yd=(()=>{var i;class e extends Xi{constructor(n,s,r){super(),this.name=null,this._parent=n,this._setValidators(s),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return _m(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$3(this._parent)}}return(i=e).\u0275fac=function(n){return new(n||i)(G(Xi,13),G(Vi,10),G(Go,10))},i.\u0275dir=dt({type:i,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Jt([bq]),ot]}),e})();function $3(i){return!(i instanceof Z1||i instanceof qd||i instanceof Yd)}const wq={provide:so,useExisting:qt(()=>Cm)};let Cm=(()=>{var i;class e extends so{set isDisabled(n){}constructor(n,s,r,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new me,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(s),this._setAsyncValidators(r),this.valueAccessor=Y1(0,o)}ngOnChanges(n){this._added||this._setUpControl(),q1(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return _m(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(i=e)._ngModelWarningSentOnce=!1,i.\u0275fac=function(n){return new(n||i)(G(Xi,13),G(Vi,10),G(Go,10),G(mi,10),G(X1,8))},i.\u0275dir=dt({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Jt([wq]),ot,Ai]}),e})(),iP=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({imports:[H3]}),e})();class sP extends gm{constructor(e,t,n){super(G1(t),W1(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){let s=this._adjustIndex(e);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),t&&(this.controls.splice(s,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){A3(this,0,e),e.forEach((n,s)=>{D3(this,!1,s),this.at(s).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((n,s)=>{this.at(s)&&this.at(s).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,s)=>{n.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function rP(i){return!!i&&(void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn)}let oP=(()=>{var i;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,s=null){const r=this._reduceControls(n);let o={};return rP(s)?o=s:null!==s&&(o.validators=s.validator,o.asyncValidators=s.asyncValidator),new wc(r,o)}record(n,s=null){const r=this._reduceControls(n);return new P3(r,s)}control(n,s,r){let o={};return this.useNonNullable?(rP(s)?o=s:(o.validators=s,o.asyncValidators=r),new jd(n,{...o,nonNullable:!0})):new jd(n,s,r)}array(n,s,r){const o=n.map(a=>this._createControl(a));return new sP(o,s,r)}_reduceControls(n){const s={};return Object.keys(n).forEach(r=>{s[r]=this._createControl(n[r])}),s}_createControl(n){return n instanceof jd||n instanceof gm?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})(),xm=(()=>{var i;class e{static withConfig(n){return{ngModule:e,providers:[{provide:La,useValue:n.callSetDisabledState??Gd}]}}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({imports:[iP]}),e})(),Fq=(()=>{var i;class e{static withConfig(n){return{ngModule:e,providers:[{provide:X1,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:La,useValue:n.callSetDisabledState??Gd}]}}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({imports:[iP]}),e})();function Kd(i){return(Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(i)}function d(i,e,t){return(e=function Vq(i){var e=function Nq(i,e){if("object"!==Kd(i)||null===i)return i;var t=i[Symbol.toPrimitive];if(void 0!==t){var n=t.call(i,e||"default");if("object"!==Kd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(i)}(i,"string");return"symbol"===Kd(e)?e:String(e)}(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}class Se{static equals(e,t,n){return n?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,o,a,n=Array.isArray(e),s=Array.isArray(t);if(n&&s){if((o=e.length)!=t.length)return!1;for(r=o;0!=r--;)if(!this.equalsByValue(e[r],t[r]))return!1;return!0}if(n!=s)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var p=Object.keys(e);if((o=p.length)!==Object.keys(t).length)return!1;for(r=o;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,p[r]))return!1;for(r=o;0!=r--;)if(!this.equalsByValue(e[a=p[r]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let n=t.split("."),s=e;for(let r=0,o=n.length;r<o;++r){if(null==s)return null;s=s[n[r]]}return s}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,n,s){if(n.length>0){let r=!1;for(let o=0;o<n.length;o++)if(this.findIndexInList(n[o],s)>t){n.splice(o,0,e),r=!0;break}r||n.push(e)}else n.push(e)}static findIndexInList(e,t){let n=-1;if(t)for(let s=0;s<t.length;s++)if(t[s]==e){n=s;break}return n}static contains(e,t){if(null!=e&&t&&t.length)for(let n of t)if(this.equals(e,n))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,n,s=1){let r=-1;const o=this.isEmpty(e),a=this.isEmpty(t);return r=o&&a?0:o?s:a?-s:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,n,{numeric:!0}):e<t?-1:e>t?1:0,r}static sort(e,t,n=1,s,r=1){return(1===r?n:r)*Se.compare(e,t,s,n)}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let n=-1;if(this.isNotEmpty(e))try{n=e.findLastIndex(t)}catch{n=e.lastIndexOf([...e].reverse().find(t))}return n}static findLast(e,t){let n;if(this.isNotEmpty(e))try{n=e.findLast(t)}catch{n=[...e].reverse().find(t)}return n}}var aP=0;function Vn(i="pn_id_"){return`${i}${++aP}`}var Zi=function Bq(){let i=[];const s=r=>r&&parseInt(r.style.zIndex,10)||0;return{get:s,set:(r,o,a)=>{o&&(o.style.zIndex=String(((r,o)=>{let a=i.length>0?i[i.length-1]:{key:r,value:o},l=a.value+(a.key===r?0:o)+1;return i.push({key:r,value:l}),l})(r,a)))},clear:r=>{r&&((r=>{i=i.filter(o=>o.value!==r)})(s(r)),r.style.zIndex="")},getCurrent:()=>i.length>0?i[i.length-1].value:0}}();const lP=["*"];let Ri=(()=>{class i{}return d(i,"STARTS_WITH","startsWith"),d(i,"CONTAINS","contains"),d(i,"NOT_CONTAINS","notContains"),d(i,"ENDS_WITH","endsWith"),d(i,"EQUALS","equals"),d(i,"NOT_EQUALS","notEquals"),d(i,"IN","in"),d(i,"LESS_THAN","lt"),d(i,"LESS_THAN_OR_EQUAL_TO","lte"),d(i,"GREATER_THAN","gt"),d(i,"GREATER_THAN_OR_EQUAL_TO","gte"),d(i,"BETWEEN","between"),d(i,"IS","is"),d(i,"IS_NOT","isNot"),d(i,"BEFORE","before"),d(i,"AFTER","after"),d(i,"DATE_IS","dateIs"),d(i,"DATE_IS_NOT","dateIsNot"),d(i,"DATE_BEFORE","dateBefore"),d(i,"DATE_AFTER","dateAfter"),i})(),cP=(()=>{class i{}return d(i,"AND","and"),d(i,"OR","or"),i})(),tb=(()=>{var i;class e{constructor(){d(this,"filters",{startsWith:(n,s,r)=>{if(null==s||""===s.trim())return!0;if(null==n)return!1;let o=Se.removeAccents(s.toString()).toLocaleLowerCase(r);return Se.removeAccents(n.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(n,s,r)=>{if(null==s||"string"==typeof s&&""===s.trim())return!0;if(null==n)return!1;let o=Se.removeAccents(s.toString()).toLocaleLowerCase(r);return-1!==Se.removeAccents(n.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(n,s,r)=>{if(null==s||"string"==typeof s&&""===s.trim())return!0;if(null==n)return!1;let o=Se.removeAccents(s.toString()).toLocaleLowerCase(r);return-1===Se.removeAccents(n.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(n,s,r)=>{if(null==s||""===s.trim())return!0;if(null==n)return!1;let o=Se.removeAccents(s.toString()).toLocaleLowerCase(r),a=Se.removeAccents(n.toString()).toLocaleLowerCase(r);return-1!==a.indexOf(o,a.length-o.length)},equals:(n,s,r)=>null==s||"string"==typeof s&&""===s.trim()||null!=n&&(n.getTime&&s.getTime?n.getTime()===s.getTime():Se.removeAccents(n.toString()).toLocaleLowerCase(r)==Se.removeAccents(s.toString()).toLocaleLowerCase(r)),notEquals:(n,s,r)=>!(null==s||"string"==typeof s&&""===s.trim()||null!=n&&(n.getTime&&s.getTime?n.getTime()===s.getTime():Se.removeAccents(n.toString()).toLocaleLowerCase(r)==Se.removeAccents(s.toString()).toLocaleLowerCase(r))),in:(n,s)=>{if(null==s||0===s.length)return!0;for(let r=0;r<s.length;r++)if(Se.equals(n,s[r]))return!0;return!1},between:(n,s)=>null==s||null==s[0]||null==s[1]||null!=n&&(n.getTime?s[0].getTime()<=n.getTime()&&n.getTime()<=s[1].getTime():s[0]<=n&&n<=s[1]),lt:(n,s,r)=>null==s||null!=n&&(n.getTime&&s.getTime?n.getTime()<s.getTime():n<s),lte:(n,s,r)=>null==s||null!=n&&(n.getTime&&s.getTime?n.getTime()<=s.getTime():n<=s),gt:(n,s,r)=>null==s||null!=n&&(n.getTime&&s.getTime?n.getTime()>s.getTime():n>s),gte:(n,s,r)=>null==s||null!=n&&(n.getTime&&s.getTime?n.getTime()>=s.getTime():n>=s),is:(n,s,r)=>this.filters.equals(n,s,r),isNot:(n,s,r)=>this.filters.notEquals(n,s,r),before:(n,s,r)=>this.filters.lt(n,s,r),after:(n,s,r)=>this.filters.gt(n,s,r),dateIs:(n,s)=>null==s||null!=n&&n.toDateString()===s.toDateString(),dateIsNot:(n,s)=>null==s||null!=n&&n.toDateString()!==s.toDateString(),dateBefore:(n,s)=>null==s||null!=n&&n.getTime()<s.getTime(),dateAfter:(n,s)=>null==s||null!=n&&n.getTime()>s.getTime()})}filter(n,s,r,o,a){let l=[];if(n)for(let c of n)for(let u of s){let h=Se.resolveFieldData(c,u);if(this.filters[o](h,r,a)){l.push(c);break}}return l}register(n,s){this.filters[n]=s}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275prov",Qe({token:i,factory:i.\u0275fac,providedIn:"root"})),e})(),nb=(()=>{var i;class e{constructor(){d(this,"messageSource",new qn),d(this,"clearSource",new qn),d(this,"messageObserver",this.messageSource.asObservable()),d(this,"clearObserver",this.clearSource.asObservable())}add(n){n&&this.messageSource.next(n)}addAll(n){n&&n.length&&this.messageSource.next(n)}clear(n){this.clearSource.next(n||null)}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275prov",Qe({token:i,factory:i.\u0275fac})),e})(),ib=(()=>{var i;class e{constructor(){d(this,"clickSource",new qn),d(this,"clickObservable",this.clickSource.asObservable())}add(n){n&&this.clickSource.next(n)}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275prov",Qe({token:i,factory:i.\u0275fac,providedIn:"root"})),e})(),Wo=(()=>{var i;class e{constructor(){d(this,"ripple",!1),d(this,"overlayOptions",{}),d(this,"filterMatchModeOptions",{text:[Ri.STARTS_WITH,Ri.CONTAINS,Ri.NOT_CONTAINS,Ri.ENDS_WITH,Ri.EQUALS,Ri.NOT_EQUALS],numeric:[Ri.EQUALS,Ri.NOT_EQUALS,Ri.LESS_THAN,Ri.LESS_THAN_OR_EQUAL_TO,Ri.GREATER_THAN,Ri.GREATER_THAN_OR_EQUAL_TO],date:[Ri.DATE_IS,Ri.DATE_IS_NOT,Ri.DATE_BEFORE,Ri.DATE_AFTER]}),d(this,"translation",{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}}),d(this,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}),d(this,"translationSource",new qn),d(this,"translationObserver",this.translationSource.asObservable())}getTranslation(n){return this.translation[n]}setTranslation(n){this.translation={...this.translation,...n},this.translationSource.next(this.translation)}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275prov",Qe({token:i,factory:i.\u0275fac,providedIn:"root"})),e})(),sb=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-header"]],ngContentSelectors:lP,decls:1,vars:0,template:function(n,s){1&n&&(hs(),zn(0))},encapsulation:2})),e})(),Tm=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-footer"]],ngContentSelectors:lP,decls:1,vars:0,template:function(n,s){1&n&&(hs(),zn(0))},encapsulation:2})),e})(),Bn=(()=>{var i;class e{constructor(n){d(this,"template",void 0),d(this,"type",void 0),d(this,"name",void 0),this.template=n}getType(){return this.name}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(lr))}),d(e,"\u0275dir",dt({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})),e})(),pn=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un]})),e})(),gs=(()=>{class i{}return d(i,"STARTS_WITH","startsWith"),d(i,"CONTAINS","contains"),d(i,"NOT_CONTAINS","notContains"),d(i,"ENDS_WITH","endsWith"),d(i,"EQUALS","equals"),d(i,"NOT_EQUALS","notEquals"),d(i,"NO_FILTER","noFilter"),d(i,"LT","lt"),d(i,"LTE","lte"),d(i,"GT","gt"),d(i,"GTE","gte"),d(i,"IS","is"),d(i,"IS_NOT","isNot"),d(i,"BEFORE","before"),d(i,"AFTER","after"),d(i,"CLEAR","clear"),d(i,"APPLY","apply"),d(i,"MATCH_ALL","matchAll"),d(i,"MATCH_ANY","matchAny"),d(i,"ADD_RULE","addRule"),d(i,"REMOVE_RULE","removeRule"),d(i,"ACCEPT","accept"),d(i,"REJECT","reject"),d(i,"CHOOSE","choose"),d(i,"UPLOAD","upload"),d(i,"CANCEL","cancel"),d(i,"DAY_NAMES","dayNames"),d(i,"DAY_NAMES_SHORT","dayNamesShort"),d(i,"DAY_NAMES_MIN","dayNamesMin"),d(i,"MONTH_NAMES","monthNames"),d(i,"MONTH_NAMES_SHORT","monthNamesShort"),d(i,"FIRST_DAY_OF_WEEK","firstDayOfWeek"),d(i,"TODAY","today"),d(i,"WEEK_HEADER","weekHeader"),d(i,"WEAK","weak"),d(i,"MEDIUM","medium"),d(i,"STRONG","strong"),d(i,"PASSWORD_PROMPT","passwordPrompt"),d(i,"EMPTY_MESSAGE","emptyMessage"),d(i,"EMPTY_FILTER_MESSAGE","emptyFilterMessage"),i})(),V=(()=>{class i{static addClass(t,n){t&&n&&(t.classList?t.classList.add(n):t.className+=" "+n)}static addMultipleClasses(t,n){if(t&&n)if(t.classList){let s=n.trim().split(" ");for(let r=0;r<s.length;r++)t.classList.add(s[r])}else{let s=n.split(" ");for(let r=0;r<s.length;r++)t.className+=" "+s[r]}}static removeClass(t,n){t&&n&&(t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(t,n){return!(!t||!n)&&(t.classList?t.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(n){return n!==t})}static find(t,n){return Array.from(t.querySelectorAll(n))}static findSingle(t,n){return this.isElement(t)?t.querySelector(n):null}static index(t){let n=t.parentNode.childNodes,s=0;for(var r=0;r<n.length;r++){if(n[r]==t)return s;1==n[r].nodeType&&s++}return-1}static indexWithinGroup(t,n){let s=t.parentNode?t.parentNode.childNodes:[],r=0;for(var o=0;o<s.length;o++){if(s[o]==t)return r;s[o].attributes&&s[o].attributes[n]&&1==s[o].nodeType&&r++}return-1}static appendOverlay(t,n,s="self"){"self"!==s&&t&&n&&this.appendChild(t,n)}static alignOverlay(t,n,s="self",r=!0){t&&n&&(r&&(t.style.minWidth=`${i.getOuterWidth(n)}px`),"self"===s?this.relativePosition(t,n):this.absolutePosition(t,n))}static relativePosition(t,n){const s=g=>{if(g)return"relative"===getComputedStyle(g).getPropertyValue("position")?g:s(g.parentElement)},r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=n.offsetHeight,a=n.getBoundingClientRect(),l=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),u=this.getViewport(),p=s(t)?.getBoundingClientRect()||{top:-1*l,left:-1*c};let f,m;a.top+o+r.height>u.height?(f=a.top-p.top-r.height,t.style.transformOrigin="bottom",a.top+f<0&&(f=-1*a.top)):(f=o+a.top-p.top,t.style.transformOrigin="top");const v=a.left+r.width-u.width;m=r.width>u.width?-1*(a.left-p.left):v>0?a.left-p.left-v:a.left-p.left,t.style.top=f+"px",t.style.left=m+"px"}static absolutePosition(t,n){const s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),r=s.height,o=s.width,a=n.offsetHeight,l=n.offsetWidth,c=n.getBoundingClientRect(),u=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),p=this.getViewport();let f,m;c.top+a+r>p.height?(f=c.top+u-r,t.style.transformOrigin="bottom",f<0&&(f=u)):(f=a+c.top+u,t.style.transformOrigin="top"),m=c.left+o>p.width?Math.max(0,c.left+h+l-o):c.left+h,t.style.top=f+"px",t.style.left=m+"px"}static getParents(t,n=[]){return null===t.parentNode?n:this.getParents(t.parentNode,n.concat([t.parentNode]))}static getScrollableParents(t){let n=[];if(t){let s=this.getParents(t);const r=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return r.test(l.getPropertyValue("overflow"))||r.test(l.getPropertyValue("overflowX"))||r.test(l.getPropertyValue("overflowY"))};for(let a of s){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let h=this.findSingle(a,u);h&&o(h)&&n.push(h)}}9!==a.nodeType&&o(a)&&n.push(a)}}return n}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let n=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",n}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let n=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",n}static getHiddenElementDimensions(t){let n={};return t.style.visibility="hidden",t.style.display="block",n.width=t.offsetWidth,n.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",n}static scrollInView(t,n){let s=getComputedStyle(t).getPropertyValue("borderTopWidth"),r=s?parseFloat(s):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),u=n.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-r-a,h=t.scrollTop,p=t.clientHeight,f=this.getOuterHeight(n);u<0?t.scrollTop=h+u:u+f>p&&(t.scrollTop=h+u-p+f)}static fadeIn(t,n){t.style.opacity=0;let s=+new Date,r=0,o=function(){r=+t.style.opacity.replace(",",".")+((new Date).getTime()-s)/n,t.style.opacity=r,s=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,n){var s=1,a=50/n;let l=setInterval(()=>{(s-=a)<=0&&(s=0,clearInterval(l)),t.style.opacity=s},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,n){var s=Element.prototype;return(s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(t,n)}static getOuterWidth(t,n){let s=t.offsetWidth;if(n){let r=getComputedStyle(t);s+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return s}static getHorizontalPadding(t){let n=getComputedStyle(t);return parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}static getHorizontalMargin(t){let n=getComputedStyle(t);return parseFloat(n.marginLeft)+parseFloat(n.marginRight)}static innerWidth(t){let n=t.offsetWidth,s=getComputedStyle(t);return n+=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),n}static width(t){let n=t.offsetWidth,s=getComputedStyle(t);return n-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),n}static getInnerHeight(t){let n=t.offsetHeight,s=getComputedStyle(t);return n+=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),n}static getOuterHeight(t,n){let s=t.offsetHeight;if(n){let r=getComputedStyle(t);s+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return s}static getHeight(t){let n=t.offsetHeight,s=getComputedStyle(t);return n-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),n}static getWidth(t){let n=t.offsetWidth,s=getComputedStyle(t);return n-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth),n}static getViewport(){let t=window,n=document,s=n.documentElement,r=n.getElementsByTagName("body")[0];return{width:t.innerWidth||s.clientWidth||r.clientWidth,height:t.innerHeight||s.clientHeight||r.clientHeight}}static getOffset(t){var n=t.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,n){let s=t.parentNode;if(!s)throw"Can't replace element";return s.replaceChild(n,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,n){if(this.isElement(n))n.appendChild(t);else{if(!(n&&n.el&&n.el.nativeElement))throw"Cannot append "+n+" to "+t;n.el.nativeElement.appendChild(t)}}static removeChild(t,n){if(this.isElement(n))n.removeChild(t);else{if(!n.el||!n.el.nativeElement)throw"Cannot remove "+t+" from "+n;n.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let n=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);let s=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=s,s}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let n=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=n,n}static invokeElementMethod(t,n,s){t[n].apply(t,s)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:n[1]||"",version:n[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,n){t&&document.activeElement!==t&&t.focus(n)}static getFocusableElements(t){let n=i.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),s=[];for(let r of n)(r.offsetWidth||r.offsetHeight||r.getClientRects().length)&&s.push(r);return s}static getNextFocusableElement(t,n=!1){const s=i.getFocusableElements(t);let r=0;if(s&&s.length>0){const o=s.indexOf(s[0].ownerDocument.activeElement);n?r=-1==o||0===o?s.length-1:o-1:-1!=o&&o!==s.length-1&&(r=o+1)}return s[r]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,n){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return n?.nextElementSibling;case"@prev":return n?.previousElementSibling;case"@parent":return n?.parentElement;case"@grandparent":return n?.parentElement.parentElement;default:const s=typeof t;if("string"===s)return document.querySelector(t);if("object"===s&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const o=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,n){if(t){const s=t.getAttribute(n);return isNaN(s)?"true"===s||"false"===s?"true"===s:s:+s}}}return d(i,"zindex",1e3),d(i,"calculatedScrollbarWidth",null),d(i,"calculatedScrollbarHeight",null),d(i,"browser",void 0),i})();class rb{constructor(e,t=(()=>{})){d(this,"element",void 0),d(this,"listener",void 0),d(this,"scrollableParents",void 0),this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=V.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}const Hq=["*"];let fn=(()=>{var i;class e{constructor(){d(this,"label",void 0),d(this,"spin",!1),d(this,"styleClass",void 0),d(this,"role",void 0),d(this,"ariaLabel",void 0),d(this,"ariaHidden",void 0)}ngOnInit(){this.getAttributes()}getAttributes(){const n=Se.isEmpty(this.label);this.role=n?void 0:"img",this.ariaLabel=n?void 0:this.label,this.ariaHidden=n}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275cmp",tt({type:i,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[nn],ngContentSelectors:Hq,decls:1,vars:0,template:function(n,s){1&n&&(hs(),zn(0))},encapsulation:2,changeDetection:0})),e})(),Cc=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["SpinnerIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})(),pr=(()=>{var i;class e{constructor(n,s,r,o,a,l){d(this,"document",void 0),d(this,"platformId",void 0),d(this,"renderer",void 0),d(this,"el",void 0),d(this,"zone",void 0),d(this,"config",void 0),d(this,"animationListener",void 0),d(this,"mouseDownListener",void 0),d(this,"timeout",void 0),this.document=n,this.platformId=s,this.renderer=r,this.el=o,this.zone=a,this.config=l}ngAfterViewInit(){Dr(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(n){let s=this.getInk();if(!s||"none"===this.document.defaultView?.getComputedStyle(s,null).display)return;if(V.removeClass(s,"p-ink-active"),!V.getHeight(s)&&!V.getWidth(s)){let l=Math.max(V.getOuterWidth(this.el.nativeElement),V.getOuterHeight(this.el.nativeElement));s.style.height=l+"px",s.style.width=l+"px"}let r=V.getOffset(this.el.nativeElement),o=n.pageX-r.left+this.document.body.scrollTop-V.getWidth(s)/2,a=n.pageY-r.top+this.document.body.scrollLeft-V.getHeight(s)/2;this.renderer.setStyle(s,"top",a+"px"),this.renderer.setStyle(s,"left",o+"px"),V.addClass(s,"p-ink-active"),this.timeout=setTimeout(()=>{let l=this.getInk();l&&V.removeClass(l,"p-ink-active")},401)}getInk(){const n=this.el.nativeElement.children;for(let s=0;s<n.length;s++)if("string"==typeof n[s].className&&-1!==n[s].className.indexOf("p-ink"))return n[s];return null}resetInk(){let n=this.getInk();n&&V.removeClass(n,"p-ink-active")}onAnimationEnd(n){this.timeout&&clearTimeout(this.timeout),V.removeClass(n.currentTarget,"p-ink-active")}create(){let n=this.renderer.createElement("span");this.renderer.addClass(n,"p-ink"),this.renderer.appendChild(this.el.nativeElement,n),this.renderer.setAttribute(n,"aria-hidden","true"),this.renderer.setAttribute(n,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(n,"animationend",this.onAnimationEnd.bind(this)))}remove(){let n=this.getInk();n&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,V.removeElement(n))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Fn),G(Is),G(pi),G(sn),G(Wt),G(Wo,8))}),d(e,"\u0275dir",dt({type:i,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})),e})(),ks=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un]})),e})();function zq(i,e){1&i&&Ie(0)}function Gq(i,e){if(1&i&&ee(0,"span",8),2&i){const t=T(3);Ne("p-button-loading-icon pi-spin "+t.loadingIcon),y("ngClass",t.iconClass()),pe("aria-hidden",!0)("data-pc-section","loadingicon")}}function Wq(i,e){1&i&&ee(0,"SpinnerIcon",9),2&i&&(y("styleClass",T(3).spinnerIconClass())("spin",!0),pe("aria-hidden",!0)("data-pc-section","loadingicon"))}function $q(i,e){if(1&i&&(Oe(0),x(1,Gq,1,5,"span",6),x(2,Wq,1,4,"SpinnerIcon",7),Le()),2&i){const t=T(2);b(1),y("ngIf",t.loadingIcon),b(1),y("ngIf",!t.loadingIcon)}}function jq(i,e){}function qq(i,e){1&i&&x(0,jq,0,0,"ng-template")}function Yq(i,e){if(1&i&&(S(0,"span",10),x(1,qq,1,0,null,1),E()),2&i){const t=T(2);y("ngClass",t.iconClass()),pe("aria-hidden",!0)("data-pc-section","loadingicon"),b(1),y("ngTemplateOutlet",t.loadingIconTemplate)}}function Kq(i,e){if(1&i&&(Oe(0),x(1,$q,3,2,"ng-container",2),x(2,Yq,2,4,"span",5),Le()),2&i){const t=T();b(1),y("ngIf",!t.loadingIconTemplate),b(1),y("ngIf",t.loadingIconTemplate)}}function Xq(i,e){if(1&i&&ee(0,"span",8),2&i){const t=T(2);Ne(t.icon),y("ngClass",t.iconClass()),pe("data-pc-section","icon")}}function Zq(i,e){}function Qq(i,e){1&i&&x(0,Zq,0,0,"ng-template",12),2&i&&y("ngIf",!T(3).icon)}function Jq(i,e){if(1&i&&(S(0,"span",8),x(1,Qq,1,1,null,1),E()),2&i){const t=T(2);y("ngClass",t.iconClass()),pe("data-pc-section","icon"),b(1),y("ngTemplateOutlet",t.iconTemplate)}}function eY(i,e){if(1&i&&(Oe(0),x(1,Xq,1,4,"span",6),x(2,Jq,2,3,"span",11),Le()),2&i){const t=T();b(1),y("ngIf",t.icon&&!t.iconTemplate),b(1),y("ngIf",!t.icon&&t.iconTemplate)}}function tY(i,e){if(1&i&&(S(0,"span",13),H(1),E()),2&i){const t=T();pe("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),b(1),cn(t.label)}}function nY(i,e){if(1&i&&(S(0,"span",8),H(1),E()),2&i){const t=T();Ne(t.badgeClass),y("ngClass",t.badgeStyleClass()),pe("data-pc-section","badge"),b(1),cn(t.badge)}}const iY=["*"],$o={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let uP=(()=>{var i;class e{get label(){return this._label}set label(n){this._label=n,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(n){this._icon=n,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(n){this._loading=n,this.initialized&&(this.updateIcon(),this.setStyleClass())}get htmlElement(){return this.el.nativeElement}constructor(n,s){d(this,"el",void 0),d(this,"document",void 0),d(this,"iconPos","left"),d(this,"loadingIcon",void 0),d(this,"_label",void 0),d(this,"_icon",void 0),d(this,"_loading",!1),d(this,"initialized",void 0),d(this,"_internalClasses",Object.values($o)),d(this,"spinnerIcon",'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">\n        <g clip-path="url(#clip0_417_21408)">\n            <path\n                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"\n                fill="currentColor"\n            />\n        </g>\n        <defs>\n            <clipPath id="clip0_417_21408">\n                <rect width="14" height="14" fill="white" />\n            </clipPath>\n        </defs>\n    </svg>'),this.el=n,this.document=s}ngAfterViewInit(){V.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const n=[$o.button,$o.component];return this.icon&&!this.label&&Se.isEmpty(this.htmlElement.textContent)&&n.push($o.iconOnly),this.loading&&(n.push($o.disabled,$o.loading),!this.icon&&this.label&&n.push($o.labelOnly),this.icon&&!this.label&&!Se.isEmpty(this.htmlElement.textContent)&&n.push($o.iconOnly)),n}setStyleClass(){const n=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...n)}createLabel(){if(this.label){let n=this.document.createElement("span");this.icon&&!this.label&&n.setAttribute("aria-hidden","true"),n.className="p-button-label",n.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(n)}}createIcon(){if(this.icon||this.loading){let n=this.document.createElement("span");n.className="p-button-icon",n.setAttribute("aria-hidden","true");let s=this.label?"p-button-icon-"+this.iconPos:null;s&&V.addClass(n,s);let r=this.getIconClass();r&&V.addMultipleClasses(n,r),!this.loadingIcon&&this.loading&&(n.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(n,this.htmlElement.firstChild)}}updateLabel(){let n=V.findSingle(this.htmlElement,".p-button-label");this.label?n?n.textContent=this.label:this.createLabel():n&&this.htmlElement.removeChild(n)}updateIcon(){let n=V.findSingle(this.htmlElement,".p-button-icon"),s=V.findSingle(this.htmlElement,".p-button-label");this.icon||this.loading?(this.loading&&!this.loadingIcon&&n&&(n.innerHTML=this.spinnerIcon),n?n.className=this.iconPos?"p-button-icon "+(s?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()):n&&this.htmlElement.removeChild(n)}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon}ngOnDestroy(){this.initialized=!1}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(sn),G(Fn))}),d(e,"\u0275dir",dt({type:i,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}})),e})(),ob=(()=>{var i;class e{constructor(){d(this,"type","button"),d(this,"iconPos","left"),d(this,"icon",void 0),d(this,"badge",void 0),d(this,"label",void 0),d(this,"disabled",void 0),d(this,"loading",!1),d(this,"loadingIcon",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"badgeClass",void 0),d(this,"ariaLabel",void 0),d(this,"onClick",new me),d(this,"onFocus",new me),d(this,"onBlur",new me),d(this,"contentTemplate",void 0),d(this,"loadingIconTemplate",void 0),d(this,"iconTemplate",void 0),d(this,"templates",void 0)}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,n])=>!!n).reduce((n,[s])=>n+` ${s}`,"p-button-loading-icon")}iconClass(){return{"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label}}buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-disabled":this.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos}}ngAfterContentInit(){this.templates?.forEach(n=>{switch(n.getType()){case"content":default:this.contentTemplate=n.template;break;case"icon":this.iconTemplate=n.template;break;case"loadingicon":this.loadingIconTemplate=n.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-button"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(n,s){2&n&&Kr("p-disabled",s.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:iY,decls:7,vars:14,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],["class","p-button-loading-icon",3,"ngClass",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[1,"p-button-loading-icon",3,"ngClass"],[3,"ngClass",4,"ngIf"],[3,"ngIf"],[1,"p-button-label"]],template:function(n,s){1&n&&(hs(),S(0,"button",0),ae("click",function(o){return s.onClick.emit(o)})("focus",function(o){return s.onFocus.emit(o)})("blur",function(o){return s.onBlur.emit(o)}),zn(1),x(2,zq,1,0,"ng-container",1),x(3,Kq,3,2,"ng-container",2),x(4,eY,3,2,"ng-container",2),x(5,tY,2,3,"span",3),x(6,nY,2,5,"span",4),E()),2&n&&(Ne(s.styleClass),y("ngStyle",s.style)("disabled",s.disabled||s.loading)("ngClass",s.buttonClass()),pe("type",s.type)("aria-label",s.ariaLabel)("data-pc-name","button")("data-pc-section","root"),b(2),y("ngTemplateOutlet",s.contentTemplate),b(1),y("ngIf",s.loading),b(1),y("ngIf",!s.loading),b(1),y("ngIf",!s.contentTemplate&&s.label),b(1),y("ngIf",!s.contentTemplate&&s.badge))},dependencies:function(){return[Jn,On,Nn,ri,pr,Cc]},encapsulation:2,changeDetection:0})),e})(),xc=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,ks,pn,Cc,pn]})),e})();function sY(i,e){1&i&&Ie(0)}function rY(i,e){if(1&i&&(S(0,"div",8),zn(1,1),x(2,sY,1,0,"ng-container",6),E()),2&i){const t=T();b(2),y("ngTemplateOutlet",t.headerTemplate)}}function oY(i,e){1&i&&Ie(0)}function aY(i,e){if(1&i&&(S(0,"div",9),H(1),x(2,oY,1,0,"ng-container",6),E()),2&i){const t=T();b(1),gn(" ",t.header," "),b(1),y("ngTemplateOutlet",t.titleTemplate)}}function lY(i,e){1&i&&Ie(0)}function cY(i,e){if(1&i&&(S(0,"div",10),H(1),x(2,lY,1,0,"ng-container",6),E()),2&i){const t=T();b(1),gn(" ",t.subheader," "),b(1),y("ngTemplateOutlet",t.subtitleTemplate)}}function uY(i,e){1&i&&Ie(0)}function dY(i,e){1&i&&Ie(0)}function hY(i,e){if(1&i&&(S(0,"div",11),zn(1,2),x(2,dY,1,0,"ng-container",6),E()),2&i){const t=T();b(2),y("ngTemplateOutlet",t.footerTemplate)}}const pY=["*",[["p-header"]],[["p-footer"]]],fY=["*","p-header","p-footer"];let dP=(()=>{var i;class e{constructor(n){d(this,"el",void 0),d(this,"header",void 0),d(this,"subheader",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"headerFacet",void 0),d(this,"footerFacet",void 0),d(this,"templates",void 0),d(this,"headerTemplate",void 0),d(this,"titleTemplate",void 0),d(this,"subtitleTemplate",void 0),d(this,"contentTemplate",void 0),d(this,"footerTemplate",void 0),this.el=n}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"header":this.headerTemplate=n.template;break;case"title":this.titleTemplate=n.template;break;case"subtitle":this.subtitleTemplate=n.template;break;case"content":default:this.contentTemplate=n.template;break;case"footer":this.footerTemplate=n.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(sn))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-card"]],contentQueries:function(n,s,r){if(1&n&&(yn(r,sb,5),yn(r,Tm,5),yn(r,Bn,4)),2&n){let o;We(o=$e())&&(s.headerFacet=o.first),We(o=$e())&&(s.footerFacet=o.first),We(o=$e())&&(s.templates=o)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:fY,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(n,s){1&n&&(hs(pY),S(0,"div",0),x(1,rY,3,1,"div",1),S(2,"div",2),x(3,aY,3,2,"div",3),x(4,cY,3,2,"div",4),S(5,"div",5),zn(6),x(7,uY,1,0,"ng-container",6),E(),x(8,hY,3,1,"div",7),E()()),2&n&&(Ne(s.styleClass),y("ngClass","p-card p-component")("ngStyle",s.style),pe("data-pc-name","card"),b(1),y("ngIf",s.headerFacet||s.headerTemplate),b(2),y("ngIf",s.header||s.titleTemplate),b(1),y("ngIf",s.subheader||s.subtitleTemplate),b(3),y("ngTemplateOutlet",s.contentTemplate),b(1),y("ngIf",s.footerFacet||s.footerTemplate))},dependencies:[Jn,On,Nn,ri],styles:[".p-card-header img{width:100%}\n"],encapsulation:2,changeDetection:0})),e})(),mY=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,pn]})),e})(),Or=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["CheckIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})();const gY=["cb"];function _Y(i,e){1&i&&ee(0,"span",10),2&i&&y("ngClass",T(3).checkboxIcon)}function vY(i,e){1&i&&ee(0,"CheckIcon",11),2&i&&y("styleClass","p-checkbox-icon")}function yY(i,e){if(1&i&&(Oe(0),x(1,_Y,1,1,"span",8),x(2,vY,1,1,"CheckIcon",9),Le()),2&i){const t=T(2);b(1),y("ngIf",t.checkboxIcon),b(1),y("ngIf",!t.checkboxIcon)}}function bY(i,e){}function wY(i,e){1&i&&x(0,bY,0,0,"ng-template")}function CY(i,e){if(1&i&&(S(0,"span",12),x(1,wY,1,0,null,13),E()),2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.checkboxIconTemplate)}}function xY(i,e){if(1&i&&(Oe(0),x(1,yY,3,2,"ng-container",5),x(2,CY,2,1,"span",7),Le()),2&i){const t=T();b(1),y("ngIf",!t.checkboxIconTemplate),b(1),y("ngIf",t.checkboxIconTemplate)}}const TY=function(i,e,t){return{"p-checkbox-label":!0,"p-checkbox-label-active":i,"p-disabled":e,"p-checkbox-label-focus":t}};function SY(i,e){if(1&i){const t=Ge();S(0,"label",14),ae("click",function(s){$(t);const r=T(),o=xn(3);return j(r.onClick(s,o,!0))}),H(1),E()}if(2&i){const t=T();Ne(t.labelStyleClass),y("ngClass",qi(5,TY,t.checked(),t.disabled,t.focused)),pe("for",t.inputId),b(1),cn(t.label)}}const MY=function(i,e,t){return{"p-checkbox p-component":!0,"p-checkbox-checked":i,"p-checkbox-disabled":e,"p-checkbox-focused":t}},EY=function(i,e,t){return{"p-highlight":i,"p-disabled":e,"p-focus":t}},IY={provide:mi,useExisting:qt(()=>hP),multi:!0};let hP=(()=>{var i;class e{constructor(n){d(this,"cd",void 0),d(this,"value",void 0),d(this,"name",void 0),d(this,"disabled",void 0),d(this,"binary",void 0),d(this,"label",void 0),d(this,"ariaLabelledBy",void 0),d(this,"ariaLabel",void 0),d(this,"tabindex",void 0),d(this,"inputId",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"labelStyleClass",void 0),d(this,"formControl",void 0),d(this,"checkboxIcon",void 0),d(this,"readonly",void 0),d(this,"required",void 0),d(this,"trueValue",!0),d(this,"falseValue",!1),d(this,"onChange",new me),d(this,"inputViewChild",void 0),d(this,"templates",void 0),d(this,"checkboxIconTemplate",void 0),d(this,"model",void 0),d(this,"onModelChange",()=>{}),d(this,"onModelTouched",()=>{}),d(this,"focused",!1),this.cd=n}ngAfterContentInit(){this.templates.forEach(n=>{"icon"===n.getType()&&(this.checkboxIconTemplate=n.template)})}onClick(n,s,r){n.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(n),r&&s.focus())}updateModel(n){let s;this.binary?(s=this.checked()?this.falseValue:this.trueValue,this.model=s,this.onModelChange(s)):(s=this.checked()?this.model.filter(r=>!Se.equals(r,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(s),this.model=s,this.formControl&&this.formControl.setValue(s)),this.onChange.emit({checked:s,originalEvent:n})}handleChange(n){this.readonly||this.updateModel(n)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild?.nativeElement.focus()}writeValue(n){this.model=n,this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:Se.contains(this.value,this.model)}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Zn))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-checkbox"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&Nt(gY,5),2&n){let r;We(r=$e())&&(s.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[Jt([IY])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(n,s){if(1&n){const r=Ge();S(0,"div",0)(1,"div",1)(2,"input",2,3),ae("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()})("change",function(a){return s.handleChange(a)}),E()(),S(4,"div",4),ae("click",function(a){$(r);const l=xn(3);return j(s.onClick(a,l,!0))}),x(5,xY,3,2,"ng-container",5),E()(),x(6,SY,2,9,"label",6)}2&n&&(Ne(s.styleClass),y("ngStyle",s.style)("ngClass",qi(18,MY,s.checked(),s.disabled,s.focused)),b(2),y("readonly",s.readonly)("value",s.value)("checked",s.checked())("disabled",s.disabled),pe("id",s.inputId)("name",s.name)("tabindex",s.tabindex)("aria-labelledby",s.ariaLabelledBy)("aria-label",s.ariaLabel)("aria-checked",s.checked())("required",s.required),b(2),y("ngClass",qi(22,EY,s.checked(),s.disabled,s.focused)),b(1),y("ngIf",s.checked()),b(1),y("ngIf",s.label))},dependencies:function(){return[Jn,On,Nn,ri,Or]},styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0})),e})(),DY=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,Or,pn]})),e})(),AY=(()=>{var i;class e{constructor(n){d(this,"el",void 0),d(this,"pFocusTrapDisabled",!1),this.el=n}onkeydown(n){if(!0!==this.pFocusTrapDisabled){n.preventDefault();const s=V.getNextFocusableElement(this.el.nativeElement,n.shiftKey);s&&(s.focus(),s.select?.())}}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(sn))}),d(e,"\u0275dir",dt({type:i,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(n,s){1&n&&ae("keydown.tab",function(o){return s.onkeydown(o)})("keydown.shift.tab",function(o){return s.onkeydown(o)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}})),e})(),PY=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un]})),e})(),Qi=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["TimesIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})(),pP=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})(),fP=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})();const RY=["titlebar"],OY=["content"],LY=["footer"];function kY(i,e){if(1&i){const t=Ge();S(0,"div",11),ae("mousedown",function(s){return $(t),j(T(3).initResize(s))}),E()}}function FY(i,e){if(1&i&&(S(0,"span",18),H(1),E()),2&i){const t=T(4);y("id",t.getAriaLabelledBy()),b(1),cn(t.header)}}function NY(i,e){1&i&&(S(0,"span",18),zn(1,1),E()),2&i&&y("id",T(4).getAriaLabelledBy())}function VY(i,e){1&i&&Ie(0)}function BY(i,e){if(1&i&&ee(0,"span",22),2&i){const t=T(5);y("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function UY(i,e){1&i&&ee(0,"WindowMaximizeIcon",24),2&i&&y("styleClass","p-dialog-header-maximize-icon")}function HY(i,e){1&i&&ee(0,"WindowMinimizeIcon",24),2&i&&y("styleClass","p-dialog-header-maximize-icon")}function zY(i,e){if(1&i&&(Oe(0),x(1,UY,1,1,"WindowMaximizeIcon",23),x(2,HY,1,1,"WindowMinimizeIcon",23),Le()),2&i){const t=T(5);b(1),y("ngIf",!t.maximized&&!t.maximizeIconTemplate),b(1),y("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function GY(i,e){}function WY(i,e){1&i&&x(0,GY,0,0,"ng-template")}function $Y(i,e){if(1&i&&(Oe(0),x(1,WY,1,0,null,9),Le()),2&i){const t=T(5);b(1),y("ngTemplateOutlet",t.maximizeIconTemplate)}}function jY(i,e){}function qY(i,e){1&i&&x(0,jY,0,0,"ng-template")}function YY(i,e){if(1&i&&(Oe(0),x(1,qY,1,0,null,9),Le()),2&i){const t=T(5);b(1),y("ngTemplateOutlet",t.minimizeIconTemplate)}}const KY=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function XY(i,e){if(1&i){const t=Ge();S(0,"button",19),ae("click",function(){return $(t),j(T(4).maximize())})("keydown.enter",function(){return $(t),j(T(4).maximize())}),x(1,BY,1,1,"span",20),x(2,zY,3,2,"ng-container",21),x(3,$Y,2,1,"ng-container",21),x(4,YY,2,1,"ng-container",21),E()}if(2&i){const t=T(4);y("ngClass",_n(5,KY)),b(1),y("ngIf",t.maximizeIcon&&!t.maximizeIconTemplate&&!t.minimizeIconTemplate),b(1),y("ngIf",!t.maximizeIcon),b(1),y("ngIf",!t.maximized),b(1),y("ngIf",t.maximized)}}function ZY(i,e){1&i&&ee(0,"span",27),2&i&&y("ngClass",T(6).closeIcon)}function QY(i,e){1&i&&ee(0,"TimesIcon",24),2&i&&y("styleClass","p-dialog-header-close-icon")}function JY(i,e){if(1&i&&(Oe(0),x(1,ZY,1,1,"span",26),x(2,QY,1,1,"TimesIcon",23),Le()),2&i){const t=T(5);b(1),y("ngIf",t.closeIcon),b(1),y("ngIf",!t.closeIcon)}}function eK(i,e){}function tK(i,e){1&i&&x(0,eK,0,0,"ng-template")}function nK(i,e){if(1&i&&(S(0,"span"),x(1,tK,1,0,null,9),E()),2&i){const t=T(5);b(1),y("ngTemplateOutlet",t.closeIconTemplate)}}const iK=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function sK(i,e){if(1&i){const t=Ge();S(0,"button",25),ae("click",function(s){return $(t),j(T(4).close(s))})("keydown.enter",function(s){return $(t),j(T(4).close(s))}),x(1,JY,3,2,"ng-container",21),x(2,nK,2,1,"span",21),E()}if(2&i){const t=T(4);y("ngClass",_n(5,iK)),pe("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),b(1),y("ngIf",!t.closeIconTemplate),b(1),y("ngIf",t.closeIconTemplate)}}function rK(i,e){if(1&i){const t=Ge();S(0,"div",12,13),ae("mousedown",function(s){return $(t),j(T(3).initDrag(s))}),x(2,FY,2,2,"span",14),x(3,NY,2,1,"span",14),x(4,VY,1,0,"ng-container",9),S(5,"div",15),x(6,XY,5,6,"button",16),x(7,sK,3,6,"button",17),E()()}if(2&i){const t=T(3);b(2),y("ngIf",!t.headerFacet&&!t.headerTemplate),b(1),y("ngIf",t.headerFacet),b(1),y("ngTemplateOutlet",t.headerTemplate),b(2),y("ngIf",t.maximizable),b(1),y("ngIf",t.closable)}}function oK(i,e){1&i&&Ie(0)}function aK(i,e){1&i&&Ie(0)}function lK(i,e){if(1&i&&(S(0,"div",28,29),zn(2,2),x(3,aK,1,0,"ng-container",9),E()),2&i){const t=T(3);b(3),y("ngTemplateOutlet",t.footerTemplate)}}const cK=function(i,e,t,n){return{"p-dialog p-component":!0,"p-dialog-rtl":i,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":n}},uK=function(i,e){return{transform:i,transition:e}},dK=function(i){return{value:"visible",params:i}};function hK(i,e){if(1&i){const t=Ge();S(0,"div",3,4),ae("@animation.start",function(s){return $(t),j(T(2).onAnimationStart(s))})("@animation.done",function(s){return $(t),j(T(2).onAnimationEnd(s))}),x(2,kY,1,0,"div",5),x(3,rK,8,5,"div",6),S(4,"div",7,8),zn(6),x(7,oK,1,0,"ng-container",9),E(),x(8,lK,4,1,"div",10),E()}if(2&i){const t=T(2);Ne(t.styleClass),y("ngClass",xa(16,cK,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",!1===t.focusTrap)("@animation",st(24,dK,vn(21,uK,t.transformOptions,t.transitionOptions))),pe("aria-labelledby",t.getAriaLabelledBy())("aria-modal",!0),b(2),y("ngIf",t.resizable),b(1),y("ngIf",t.showHeader),b(1),Ne(t.contentStyleClass),y("ngClass","p-dialog-content")("ngStyle",t.contentStyle),b(3),y("ngTemplateOutlet",t.contentTemplate),b(1),y("ngIf",t.footerFacet||t.footerTemplate)}}const pK=function(i,e,t,n,s,r,o,a,l,c){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":i,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":n,"p-dialog-top":s,"p-dialog-top-left":r,"p-dialog-top-right":o,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}};function fK(i,e){if(1&i&&(S(0,"div",1),x(1,hK,9,26,"div",2),E()),2&i){const t=T();Ne(t.maskStyleClass),y("ngClass",Fv(4,pK,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),b(1),y("ngIf",t.visible)}}const mK=["*",[["p-header"]],[["p-footer"]]],gK=["*","p-header","p-footer"],_K=Df([wi({transform:"{{transform}}",opacity:0}),Rs("{{transition}}")]),vK=Df([Rs("{{transition}}",wi({transform:"{{transform}}",opacity:0}))]);let yK=(()=>{var i;class e{get positionLeft(){return 0}set positionLeft(n){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(n){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(n){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(n){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}get visible(){return this._visible}set visible(n){this._visible=n,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(n){n&&(this._style={...n},this.originalStyle=n)}get position(){return this._position}set position(n){switch(this._position=n,n){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}constructor(n,s,r,o,a,l,c){d(this,"document",void 0),d(this,"platformId",void 0),d(this,"el",void 0),d(this,"renderer",void 0),d(this,"zone",void 0),d(this,"cd",void 0),d(this,"config",void 0),d(this,"header",void 0),d(this,"draggable",!0),d(this,"resizable",!0),d(this,"contentStyle",void 0),d(this,"contentStyleClass",void 0),d(this,"modal",!1),d(this,"closeOnEscape",!0),d(this,"dismissableMask",!1),d(this,"rtl",!1),d(this,"closable",!0),d(this,"appendTo",void 0),d(this,"breakpoints",void 0),d(this,"styleClass",void 0),d(this,"maskStyleClass",void 0),d(this,"showHeader",!0),d(this,"blockScroll",!1),d(this,"autoZIndex",!0),d(this,"baseZIndex",0),d(this,"minX",0),d(this,"minY",0),d(this,"focusOnShow",!0),d(this,"maximizable",!1),d(this,"keepInViewport",!0),d(this,"focusTrap",!0),d(this,"transitionOptions","150ms cubic-bezier(0, 0, 0.2, 1)"),d(this,"closeIcon",void 0),d(this,"closeAriaLabel",void 0),d(this,"closeTabindex","-1"),d(this,"minimizeIcon",void 0),d(this,"maximizeIcon",void 0),d(this,"onShow",new me),d(this,"onHide",new me),d(this,"visibleChange",new me),d(this,"onResizeInit",new me),d(this,"onResizeEnd",new me),d(this,"onDragEnd",new me),d(this,"onMaximize",new me),d(this,"headerFacet",void 0),d(this,"footerFacet",void 0),d(this,"templates",void 0),d(this,"headerViewChild",void 0),d(this,"contentViewChild",void 0),d(this,"footerViewChild",void 0),d(this,"headerTemplate",void 0),d(this,"contentTemplate",void 0),d(this,"footerTemplate",void 0),d(this,"maximizeIconTemplate",void 0),d(this,"closeIconTemplate",void 0),d(this,"minimizeIconTemplate",void 0),d(this,"_visible",!1),d(this,"maskVisible",void 0),d(this,"container",void 0),d(this,"wrapper",void 0),d(this,"dragging",void 0),d(this,"documentDragListener",void 0),d(this,"documentDragEndListener",void 0),d(this,"resizing",void 0),d(this,"documentResizeListener",void 0),d(this,"documentResizeEndListener",void 0),d(this,"documentEscapeListener",void 0),d(this,"maskClickListener",void 0),d(this,"lastPageX",void 0),d(this,"lastPageY",void 0),d(this,"preventVisibleChangePropagation",void 0),d(this,"maximized",void 0),d(this,"preMaximizeContentHeight",void 0),d(this,"preMaximizeContainerWidth",void 0),d(this,"preMaximizeContainerHeight",void 0),d(this,"preMaximizePageX",void 0),d(this,"preMaximizePageY",void 0),d(this,"id",Vn()),d(this,"_style",{}),d(this,"_position","center"),d(this,"originalStyle",void 0),d(this,"transformOptions","scale(0.7)"),d(this,"styleElement",void 0),d(this,"window",void 0),this.document=n,this.platformId=s,this.el=r,this.renderer=o,this.zone=a,this.cd=l,this.config=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(n=>{switch(n.getType()){case"header":this.headerTemplate=n.template;break;case"content":default:this.contentTemplate=n.template;break;case"footer":this.footerTemplate=n.template;break;case"closeicon":this.closeIconTemplate=n.template;break;case"maximizeicon":this.maximizeIconTemplate=n.template;break;case"minimizeicon":this.minimizeIconTemplate=n.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return null!==this.header?Vn()+"_header":null}focus(){let n=V.findSingle(this.container,"[autofocus]");n&&this.zone.runOutsideAngular(()=>{setTimeout(()=>n.focus(),5)})}close(n){this.visibleChange.emit(!1),n.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",n=>{this.wrapper&&this.wrapper.isSameNode(n.target)&&this.close(n)})),this.modal&&V.addClass(this.document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&V.removeClass(this.document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?V.addClass(this.document.body,"p-overflow-hidden"):V.removeClass(this.document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Zi.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(Dr(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let n="";for(let s in this.breakpoints)n+=`\n                        @media screen and (max-width: ${s}) {\n                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {\n                                width: ${this.breakpoints[s]} !important;\n                            }\n                        }\n                    `;this.renderer.setProperty(this.styleElement,"innerHTML",n)}}initDrag(n){V.hasClass(n.target,"p-dialog-header-icon")||V.hasClass(n.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=n.pageX,this.lastPageY=n.pageY,this.container.style.margin="0",V.addClass(this.document.body,"p-unselectable-text"))}onKeydown(n){if(this.focusTrap&&9===n.which){n.preventDefault();let s=V.getFocusableElements(this.container);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let r=s.indexOf(s[0].ownerDocument.activeElement);n.shiftKey?-1==r||0===r?s[s.length-1].focus():s[r-1].focus():-1==r||r===s.length-1?s[0].focus():s[r+1].focus()}else s[0].focus()}}onDrag(n){if(this.dragging){const s=V.getOuterWidth(this.container),r=V.getOuterHeight(this.container),o=n.pageX-this.lastPageX,a=n.pageY-this.lastPageY,l=this.container.getBoundingClientRect(),c=getComputedStyle(this.container),u=parseFloat(c.marginLeft),h=parseFloat(c.marginTop),p=l.left+o-u,f=l.top+a-h,m=V.getViewport();this.container.style.position="fixed",this.keepInViewport?(p>=this.minX&&p+s<m.width&&(this._style.left=`${p}px`,this.lastPageX=n.pageX,this.container.style.left=`${p}px`),f>=this.minY&&f+r<m.height&&(this._style.top=`${f}px`,this.lastPageY=n.pageY,this.container.style.top=`${f}px`)):(this.lastPageX=n.pageX,this.container.style.left=`${p}px`,this.lastPageY=n.pageY,this.container.style.top=`${p}px`)}}endDrag(n){this.dragging&&(this.dragging=!1,V.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(n))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(n){this.resizable&&(this.resizing=!0,this.lastPageX=n.pageX,this.lastPageY=n.pageY,V.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(n))}onResize(n){if(this.resizing){let s=n.pageX-this.lastPageX,r=n.pageY-this.lastPageY,o=V.getOuterWidth(this.container),a=V.getOuterHeight(this.container),l=V.getOuterHeight(this.contentViewChild?.nativeElement),c=o+s,u=a+r,h=this.container.style.minWidth,p=this.container.style.minHeight,f=this.container.getBoundingClientRect(),m=V.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(c+=s,u+=r),(!h||c>parseInt(h))&&f.left+c<m.width&&(this._style.width=c+"px",this.container.style.width=this._style.width),(!p||u>parseInt(p))&&f.top+u<m.height&&(this.contentViewChild.nativeElement.style.height=l+u-a+"px",this._style.height&&(this._style.height=u+"px",this.container.style.height=this._style.height)),this.lastPageX=n.pageX,this.lastPageY=n.pageY}}resizeEnd(n){this.resizing&&(this.resizing=!1,V.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(n))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",s=>{27==s.which&&this.close(s)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.wrapper):V.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(n){switch(n.toState){case"visible":this.container=n.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&V.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&V.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(n){switch(n.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(V.removeClass(this.document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&V.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Zi.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Fn),G(Is),G(sn),G(pi),G(Wt),G(Zn),G(Wo))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-dialog"]],contentQueries:function(n,s,r){if(1&n&&(yn(r,sb,5),yn(r,Tm,5),yn(r,Bn,4)),2&n){let o;We(o=$e())&&(s.headerFacet=o.first),We(o=$e())&&(s.footerFacet=o.first),We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&(Nt(RY,5),Nt(OY,5),Nt(LY,5)),2&n){let r;We(r=$e())&&(s.headerViewChild=r.first),We(r=$e())&&(s.contentViewChild=r.first),We(r=$e())&&(s.footerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:gK,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(n,s){1&n&&(hs(mK),x(0,fK,2,15,"div",0)),2&n&&y("ngIf",s.maskVisible)},dependencies:function(){return[Jn,On,Nn,ri,AY,pr,Qi,pP,fP]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[ac("animation",[ms("void => visible",[Af(_K)]),ms("visible => void",[Af(vK)])])]},changeDetection:0})),e})(),bK=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,PY,ks,Qi,pP,fP,pn]})),e})(),wK=(()=>{var i;class e{constructor(n){d(this,"host",void 0),d(this,"autofocus",void 0),d(this,"focused",!1),this.host=n}ngAfterContentChecked(){if(!this.focused&&this.autofocus){const n=V.getFocusableElements(this.host.nativeElement);0===n.length&&this.host.nativeElement.focus(),n.length>0&&n[0].focus(),this.focused=!0}}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(sn))}),d(e,"\u0275dir",dt({type:i,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}})),e})(),CK=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un]})),e})();const xK=["overlay"],TK=["content"];function SK(i,e){1&i&&Ie(0)}const MK=function(i,e,t){return{showTransitionParams:i,hideTransitionParams:e,transform:t}},EK=function(i){return{value:"visible",params:i}},IK=function(i){return{mode:i}},DK=function(i){return{$implicit:i}};function AK(i,e){if(1&i){const t=Ge();S(0,"div",1,3),ae("click",function(s){return $(t),j(T(2).onOverlayContentClick(s))})("@overlayContentAnimation.start",function(s){return $(t),j(T(2).onOverlayContentAnimationStart(s))})("@overlayContentAnimation.done",function(s){return $(t),j(T(2).onOverlayContentAnimationDone(s))}),zn(2),x(3,SK,1,0,"ng-container",4),E()}if(2&i){const t=T(2);Ne(t.contentStyleClass),y("ngStyle",t.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",st(11,EK,qi(7,MK,t.showTransitionOptions,t.hideTransitionOptions,t.transformOptions[t.modal?t.overlayResponsiveDirection:"default"]))),b(3),y("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",st(15,DK,st(13,IK,t.overlayMode)))}}const PK=function(i,e,t,n,s,r,o,a,l,c,u,h,p,f){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":i,"p-overlay-center":e,"p-overlay-top":t,"p-overlay-top-start":n,"p-overlay-top-end":s,"p-overlay-bottom":r,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":u,"p-overlay-right":h,"p-overlay-right-start":p,"p-overlay-right-end":f}};function RK(i,e){if(1&i){const t=Ge();S(0,"div",1,2),ae("click",function(s){return $(t),j(T().onOverlayClick(s))}),x(2,AK,4,17,"div",0),E()}if(2&i){const t=T();Ne(t.styleClass),y("ngStyle",t.style)("ngClass",Fv(5,PK,[t.modal,t.modal&&"center"===t.overlayResponsiveDirection,t.modal&&"top"===t.overlayResponsiveDirection,t.modal&&"top-start"===t.overlayResponsiveDirection,t.modal&&"top-end"===t.overlayResponsiveDirection,t.modal&&"bottom"===t.overlayResponsiveDirection,t.modal&&"bottom-start"===t.overlayResponsiveDirection,t.modal&&"bottom-end"===t.overlayResponsiveDirection,t.modal&&"left"===t.overlayResponsiveDirection,t.modal&&"left-start"===t.overlayResponsiveDirection,t.modal&&"left-end"===t.overlayResponsiveDirection,t.modal&&"right"===t.overlayResponsiveDirection,t.modal&&"right-start"===t.overlayResponsiveDirection,t.modal&&"right-end"===t.overlayResponsiveDirection])),b(2),y("ngIf",t.visible)}}const OK=["*"],LK={provide:mi,useExisting:qt(()=>mP),multi:!0},kK=Df([wi({transform:"{{transform}}",opacity:0}),Rs("{{showTransitionParams}}")]),FK=Df([Rs("{{hideTransitionParams}}",wi({transform:"{{transform}}",opacity:0}))]);let mP=(()=>{var i;class e{get visible(){return this._visible}set visible(n){this._visible=n,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(n){this._mode=n}get style(){return Se.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(n){this._style=n}get styleClass(){return Se.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(n){this._styleClass=n}get contentStyle(){return Se.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(n){this._contentStyle=n}get contentStyleClass(){return Se.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(n){this._contentStyleClass=n}get target(){const n=this._target||this.overlayOptions?.target;return void 0===n?"@prev":n}set target(n){this._target=n}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(n){this._appendTo=n}get autoZIndex(){const n=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===n||n}set autoZIndex(n){this._autoZIndex=n}get baseZIndex(){const n=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===n?0:n}set baseZIndex(n){this._baseZIndex=n}get showTransitionOptions(){const n=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===n?".12s cubic-bezier(0, 0, 0.2, 1)":n}set showTransitionOptions(n){this._showTransitionOptions=n}get hideTransitionOptions(){const n=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===n?".1s linear":n}set hideTransitionOptions(n){this._hideTransitionOptions=n}get listener(){return this._listener||this.overlayOptions?.listener}set listener(n){this._listener=n}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(n){this._responsive=n}get options(){return this._options}set options(n){this._options=n}get modal(){if(Dr(this.platformId))return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return V.getTargetElement(this.target,this.el?.nativeElement)}constructor(n,s,r,o,a,l,c){d(this,"document",void 0),d(this,"platformId",void 0),d(this,"el",void 0),d(this,"renderer",void 0),d(this,"config",void 0),d(this,"overlayService",void 0),d(this,"zone",void 0),d(this,"visibleChange",new me),d(this,"onBeforeShow",new me),d(this,"onShow",new me),d(this,"onBeforeHide",new me),d(this,"onHide",new me),d(this,"onAnimationStart",new me),d(this,"onAnimationDone",new me),d(this,"templates",void 0),d(this,"overlayViewChild",void 0),d(this,"contentViewChild",void 0),d(this,"contentTemplate",void 0),d(this,"_visible",!1),d(this,"_mode",void 0),d(this,"_style",void 0),d(this,"_styleClass",void 0),d(this,"_contentStyle",void 0),d(this,"_contentStyleClass",void 0),d(this,"_target",void 0),d(this,"_appendTo",void 0),d(this,"_autoZIndex",void 0),d(this,"_baseZIndex",void 0),d(this,"_showTransitionOptions",void 0),d(this,"_hideTransitionOptions",void 0),d(this,"_listener",void 0),d(this,"_responsive",void 0),d(this,"_options",void 0),d(this,"modalVisible",!1),d(this,"isOverlayClicked",!1),d(this,"isOverlayContentClicked",!1),d(this,"scrollHandler",void 0),d(this,"documentClickListener",void 0),d(this,"documentResizeListener",void 0),d(this,"documentKeyboardListener",void 0),d(this,"window",void 0),d(this,"transformOptions",{default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"}),this.document=n,this.platformId=s,this.el=r,this.renderer=o,this.config=a,this.overlayService=l,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(n=>{n.getType(),this.contentTemplate=n.template})}show(n,s=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:n||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),s&&V.focus(this.targetEl),this.modal&&V.addClass(this.document?.body,"p-overflow-hidden")}hide(n,s=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:n||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),s&&V.focus(this.targetEl),this.modal&&V.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&V.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(n){this._visible=n,this.visibleChange.emit(n)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(n){this.overlayService.add({originalEvent:n,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(n){switch(n.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Zi.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),V.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&V.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",n)}onOverlayContentAnimationDone(n){const s=this.overlayEl||n.element.parentElement;switch(n.toState){case"visible":this.show(s,!0),this.bindListeners();break;case"void":this.hide(s,!0),this.unbindListeners(),V.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Zi.clear(s),this.modalVisible=!1}this.handleEvents("onAnimationDone",n)}handleEvents(n,s){this[n].emit(s),this.options&&this.options[n]&&this.options[n](s),this.config?.overlayOptions&&(this.config?.overlayOptions)[n]&&(this.config?.overlayOptions)[n](s)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new rb(this.targetEl,n=>{(!this.listener||this.listener(n,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(n,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",n=>{const r=!(this.targetEl&&(this.targetEl.isSameNode(n.target)||!this.isOverlayClicked&&this.targetEl.contains(n.target))||this.isOverlayContentClicked);(this.listener?this.listener(n,{type:"outside",mode:this.overlayMode,valid:3!==n.which&&r}):r)&&this.hide(n),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",n=>{(this.listener?this.listener(n,{type:"resize",mode:this.overlayMode,valid:!V.isTouchDevice()}):!V.isTouchDevice())&&this.hide(n,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",n=>{this.overlayOptions.hideOnEscape&&27===n.keyCode&&(this.listener?this.listener(n,{type:"keydown",mode:this.overlayMode,valid:!V.isTouchDevice()}):!V.isTouchDevice())&&this.zone.run(()=>{this.hide(n,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(V.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Zi.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Fn),G(Is),G(sn),G(pi),G(Wo),G(ib),G(Wt))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-overlay"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&(Nt(xK,5),Nt(TK,5)),2&n){let r;We(r=$e())&&(s.overlayViewChild=r.first),We(r=$e())&&(s.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[Jt([LK])],ngContentSelectors:OK,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,s){1&n&&(hs(),x(0,RK,3,20,"div",0)),2&n&&y("ngIf",s.modalVisible)},dependencies:[Jn,On,Nn,ri],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[ac("overlayContentAnimation",[ms(":enter",[Af(kK)]),ms(":leave",[Af(FK)])])]},changeDetection:0})),e})(),gP=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,pn,pn]})),e})();const NK=["element"],VK=["content"];function BK(i,e){1&i&&Ie(0)}const ab=function(i,e){return{$implicit:i,options:e}};function UK(i,e){if(1&i&&(Oe(0),x(1,BK,1,0,"ng-container",7),Le()),2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",vn(2,ab,t.loadedItems,t.getContentOptions()))}}function HK(i,e){1&i&&Ie(0)}function zK(i,e){if(1&i&&(Oe(0),x(1,HK,1,0,"ng-container",7),Le()),2&i){const t=e.$implicit,n=e.index,s=T(3);b(1),y("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",vn(2,ab,t,s.getOptions(n)))}}const GK=function(i){return{"p-scroller-loading":i}};function WK(i,e){if(1&i&&(S(0,"div",8,9),x(2,zK,2,5,"ng-container",10),E()),2&i){const t=T(2);y("ngClass",st(4,GK,t.d_loading))("ngStyle",t.contentStyle),b(2),y("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function $K(i,e){1&i&&ee(0,"div",11),2&i&&y("ngStyle",T(2).spacerStyle)}function jK(i,e){1&i&&Ie(0)}const qK=function(i){return{numCols:i}},_P=function(i){return{options:i}};function YK(i,e){if(1&i&&(Oe(0),x(1,jK,1,0,"ng-container",7),Le()),2&i){const t=e.index,n=T(4);b(1),y("ngTemplateOutlet",n.loaderTemplate)("ngTemplateOutletContext",st(4,_P,n.getLoaderOptions(t,n.both&&st(2,qK,n._numItemsInViewport.cols))))}}function KK(i,e){if(1&i&&(Oe(0),x(1,YK,2,6,"ng-container",14),Le()),2&i){const t=T(3);b(1),y("ngForOf",t.loaderArr)}}function XK(i,e){1&i&&Ie(0)}const ZK=function(){return{styleClass:"p-scroller-loading-icon"}};function QK(i,e){if(1&i&&(Oe(0),x(1,XK,1,0,"ng-container",7),Le()),2&i){const t=T(4);b(1),y("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",st(3,_P,_n(2,ZK)))}}function JK(i,e){1&i&&ee(0,"SpinnerIcon",16),2&i&&y("styleClass","p-scroller-loading-icon")}function eX(i,e){if(1&i&&(x(0,QK,2,5,"ng-container",0),x(1,JK,1,1,"ng-template",null,15,bi)),2&i){const t=xn(2);y("ngIf",T(3).loaderIconTemplate)("ngIfElse",t)}}const tX=function(i){return{"p-component-overlay":i}};function nX(i,e){if(1&i&&(S(0,"div",12),x(1,KK,2,1,"ng-container",0),x(2,eX,3,2,"ng-template",null,13,bi),E()),2&i){const t=xn(3),n=T(2);y("ngClass",st(3,tX,!n.loaderTemplate)),b(1),y("ngIf",n.loaderTemplate)("ngIfElse",t)}}const iX=function(i,e,t){return{"p-scroller":!0,"p-scroller-inline":i,"p-both-scroll":e,"p-horizontal-scroll":t}};function sX(i,e){if(1&i){const t=Ge();Oe(0),S(1,"div",2,3),ae("scroll",function(s){return $(t),j(T().onContainerScroll(s))}),x(3,UK,2,5,"ng-container",0),x(4,WK,3,6,"ng-template",null,4,bi),x(6,$K,1,1,"div",5),x(7,nX,4,5,"div",6),E(),Le()}if(2&i){const t=xn(5),n=T();b(1),Ne(n._styleClass),y("ngStyle",n._style)("ngClass",qi(10,iX,n.inline,n.both,n.horizontal)),pe("id",n._id)("tabindex",n.tabindex),b(2),y("ngIf",n.contentTemplate)("ngIfElse",t),b(3),y("ngIf",n._showSpacer),b(1),y("ngIf",!n.loaderDisabled&&n._showLoader&&n.d_loading)}}function rX(i,e){1&i&&Ie(0)}const oX=function(i,e){return{rows:i,columns:e}};function aX(i,e){if(1&i&&(Oe(0),x(1,rX,1,0,"ng-container",7),Le()),2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",vn(5,ab,t.items,vn(2,oX,t._items,t.loadedColumns)))}}function lX(i,e){if(1&i&&(zn(0),x(1,aX,2,8,"ng-container",17)),2&i){const t=T();b(1),y("ngIf",t.contentTemplate)}}const cX=["*"];let vP=(()=>{var i;class e{get id(){return this._id}set id(n){this._id=n}get style(){return this._style}set style(n){this._style=n}get styleClass(){return this._styleClass}set styleClass(n){this._styleClass=n}get tabindex(){return this._tabindex}set tabindex(n){this._tabindex=n}get items(){return this._items}set items(n){this._items=n}get itemSize(){return this._itemSize}set itemSize(n){this._itemSize=n}get scrollHeight(){return this._scrollHeight}set scrollHeight(n){this._scrollHeight=n}get scrollWidth(){return this._scrollWidth}set scrollWidth(n){this._scrollWidth=n}get orientation(){return this._orientation}set orientation(n){this._orientation=n}get step(){return this._step}set step(n){this._step=n}get delay(){return this._delay}set delay(n){this._delay=n}get resizeDelay(){return this._resizeDelay}set resizeDelay(n){this._resizeDelay=n}get appendOnly(){return this._appendOnly}set appendOnly(n){this._appendOnly=n}get inline(){return this._inline}set inline(n){this._inline=n}get lazy(){return this._lazy}set lazy(n){this._lazy=n}get disabled(){return this._disabled}set disabled(n){this._disabled=n}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(n){this._loaderDisabled=n}get columns(){return this._columns}set columns(n){this._columns=n}get showSpacer(){return this._showSpacer}set showSpacer(n){this._showSpacer=n}get showLoader(){return this._showLoader}set showLoader(n){this._showLoader=n}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(n){this._numToleratedItems=n}get loading(){return this._loading}set loading(n){this._loading=n}get autoSize(){return this._autoSize}set autoSize(n){this._autoSize=n}get trackBy(){return this._trackBy}set trackBy(n){this._trackBy=n}get options(){return this._options}set options(n){this._options=n,n&&"object"==typeof n&&Object.entries(n).forEach(([s,r])=>this[`_${s}`]!==r&&(this[`_${s}`]=r))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(n=>this._columns?n:n.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}constructor(n,s,r,o,a){d(this,"document",void 0),d(this,"platformId",void 0),d(this,"renderer",void 0),d(this,"cd",void 0),d(this,"zone",void 0),d(this,"onLazyLoad",new me),d(this,"onScroll",new me),d(this,"onScrollIndexChange",new me),d(this,"elementViewChild",void 0),d(this,"contentViewChild",void 0),d(this,"templates",void 0),d(this,"_id",void 0),d(this,"_style",void 0),d(this,"_styleClass",void 0),d(this,"_tabindex",0),d(this,"_items",void 0),d(this,"_itemSize",0),d(this,"_scrollHeight",void 0),d(this,"_scrollWidth",void 0),d(this,"_orientation","vertical"),d(this,"_step",0),d(this,"_delay",0),d(this,"_resizeDelay",10),d(this,"_appendOnly",!1),d(this,"_inline",!1),d(this,"_lazy",!1),d(this,"_disabled",!1),d(this,"_loaderDisabled",!1),d(this,"_columns",void 0),d(this,"_showSpacer",!0),d(this,"_showLoader",!1),d(this,"_numToleratedItems",void 0),d(this,"_loading",void 0),d(this,"_autoSize",!1),d(this,"_trackBy",void 0),d(this,"_options",void 0),d(this,"d_loading",!1),d(this,"d_numToleratedItems",void 0),d(this,"contentEl",void 0),d(this,"contentTemplate",void 0),d(this,"itemTemplate",void 0),d(this,"loaderTemplate",void 0),d(this,"loaderIconTemplate",void 0),d(this,"first",0),d(this,"last",0),d(this,"page",0),d(this,"isRangeChanged",!1),d(this,"numItemsInViewport",0),d(this,"lastScrollPos",0),d(this,"lazyLoadState",{}),d(this,"loaderArr",[]),d(this,"spacerStyle",{}),d(this,"contentStyle",{}),d(this,"scrollTimeout",void 0),d(this,"resizeTimeout",void 0),d(this,"initialized",!1),d(this,"windowResizeListener",void 0),d(this,"defaultWidth",void 0),d(this,"defaultHeight",void 0),d(this,"defaultContentWidth",void 0),d(this,"defaultContentHeight",void 0),this.document=n,this.platformId=s,this.renderer=r,this.cd=o,this.zone=a}ngOnInit(){this.setInitialState()}ngOnChanges(n){let s=!1;if(n.loading){const{previousValue:r,currentValue:o}=n.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,s=!0)}if(n.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),n.numToleratedItems){const{previousValue:r,currentValue:o}=n.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(n.options){const{previousValue:r,currentValue:o}=n.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading,s=!0),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}this.initialized&&!s&&(n.items?.previousValue?.length!==n.items?.currentValue?.length||n.itemSize||n.scrollHeight||n.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"content":this.contentTemplate=n.template;break;case"item":default:this.itemTemplate=n.template;break;case"loader":this.loaderTemplate=n.template;break;case"loadericon":this.loaderIconTemplate=n.template}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Dr(this.platformId)&&V.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=V.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=V.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=V.getWidth(this.contentEl),this.defaultContentHeight=V.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(n){this.contentEl=n||this.contentViewChild?.nativeElement||V.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(n){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(n)}scrollToIndex(n,s="auto"){const{numToleratedItems:r}=this.calculateNumItems(),o=this.getContentPosition(),a=(h=0,p)=>h<=p?0:h,l=(h,p,f)=>h*p+f,c=(h=0,p=0)=>this.scrollTo({left:h,top:p,behavior:s});let u=0;this.both?(u={rows:a(n[0],r[0]),cols:a(n[1],r[1])},c(l(u.cols,this._itemSize[1],o.left),l(u.rows,this._itemSize[0],o.top))):(u=a(n,r),this.horizontal?c(l(u,this._itemSize,o.left),0):c(0,l(u,this._itemSize,o.top))),this.isRangeChanged=this.first!==u,this.first=u}scrollInView(n,s,r="auto"){if(s){const{first:o,viewport:a}=this.getRenderedRange(),l=(h=0,p=0)=>this.scrollTo({left:h,top:p,behavior:r}),u="to-end"===s;if("to-start"===s){if(this.both)a.first.rows-o.rows>n[0]?l(a.first.cols*this._itemSize[1],(a.first.rows-1)*this._itemSize[0]):a.first.cols-o.cols>n[1]&&l((a.first.cols-1)*this._itemSize[1],a.first.rows*this._itemSize[0]);else if(a.first-o>n){const h=(a.first-1)*this._itemSize;this.horizontal?l(h,0):l(0,h)}}else if(u)if(this.both)a.last.rows-o.rows<=n[0]+1?l(a.first.cols*this._itemSize[1],(a.first.rows+1)*this._itemSize[0]):a.last.cols-o.cols<=n[1]+1&&l((a.first.cols+1)*this._itemSize[1],a.first.rows*this._itemSize[0]);else if(a.last-o<=n+1){const h=(a.first+1)*this._itemSize;this.horizontal?l(h,0):l(0,h)}}else this.scrollToIndex(n,r)}getRenderedRange(){const n=(o,a)=>Math.floor(o/(a||o));let s=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:o,scrollLeft:a}=this.elementViewChild.nativeElement;this.both?(s={rows:n(o,this._itemSize[0]),cols:n(a,this._itemSize[1])},r={rows:s.rows+this.numItemsInViewport.rows,cols:s.cols+this.numItemsInViewport.cols}):(s=n(this.horizontal?a:o,this._itemSize),r=s+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:s,last:r}}}calculateNumItems(){const n=this.getContentPosition(),s=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-n.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-n.top:0)||0,o=(u,h)=>Math.ceil(u/(h||u)),a=u=>Math.ceil(u/2),l=this.both?{rows:o(r,this._itemSize[0]),cols:o(s,this._itemSize[1])}:o(this.horizontal?s:r,this._itemSize);return{numItemsInViewport:l,numToleratedItems:this.d_numToleratedItems||(this.both?[a(l.rows),a(l.cols)]:a(l))}}calculateOptions(){const{numItemsInViewport:n,numToleratedItems:s}=this.calculateNumItems(),r=(l,c,u,h=!1)=>this.getLast(l+c+(l<u?2:3)*u,h),o=this.first,a=this.both?{rows:r(this.first.rows,n.rows,s[0]),cols:r(this.first.cols,n.cols,s[1],!0)}:r(this.first,n,s);this.last=a,this.numItemsInViewport=n,this.d_numToleratedItems=s,this.showLoader&&(this.loaderArr=this.both?Array.from({length:n.rows}).map(()=>Array.from({length:n.cols})):Array.from({length:n})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:o.cols}:0:o,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[n,s]=[V.getWidth(this.contentEl),V.getHeight(this.contentEl)];n!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),s!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[r,o]=[V.getWidth(this.elementViewChild.nativeElement),V.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=o<this.defaultHeight?o+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(n=0,s=!1){return this._items?Math.min(s?(this._columns||this._items[0]).length:this._items.length,n):0}getContentPosition(){if(this.contentEl){const n=getComputedStyle(this.contentEl),s=parseFloat(n.paddingLeft)+Math.max(parseFloat(n.left)||0,0),r=parseFloat(n.paddingRight)+Math.max(parseFloat(n.right)||0,0),o=parseFloat(n.paddingTop)+Math.max(parseFloat(n.top)||0,0),a=parseFloat(n.paddingBottom)+Math.max(parseFloat(n.bottom)||0,0);return{left:s,right:r,top:o,bottom:a,x:s+r,y:o+a}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const n=this.elementViewChild.nativeElement.parentElement.parentElement,s=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||n.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||n.offsetHeight}px`,o=(a,l)=>this.elementViewChild.nativeElement.style[a]=l;this.both||this.horizontal?(o("height",r),o("width",s)):o("height",r)}}setSpacerSize(){if(this._items){const n=this.getContentPosition(),s=(r,o,a,l=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(o||[]).length*a+l+"px"};this.both?(s("height",this._items,this._itemSize[0],n.y),s("width",this._columns||this._items[1],this._itemSize[1],n.x)):this.horizontal?s("width",this._columns||this._items,this._itemSize,n.x):s("height",this._items,this._itemSize,n.y)}}setContentPosition(n){if(this.contentEl&&!this._appendOnly){const s=n?n.first:this.first,r=(a,l)=>a*l,o=(a=0,l=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${a}px, ${l}px, 0)`};if(this.both)o(r(s.cols,this._itemSize[1]),r(s.rows,this._itemSize[0]));else{const a=r(s,this._itemSize);this.horizontal?o(a,0):o(0,a)}}}onScrollPositionChange(n){const s=n.target,r=this.getContentPosition(),o=(g,C)=>g?g>C?g-C:g:0,a=(g,C)=>Math.floor(g/(C||g)),l=(g,C,w,M,D,P)=>g<=D?D:P?w-M-D:C+D-1,c=(g,C,w,M,D,P,R)=>g<=P?0:Math.max(0,R?g<C?w:g-P:g>C?w:g-2*P),u=(g,C,w,M,D,P=!1)=>{let R=C+M+2*D;return g>=D&&(R+=D+1),this.getLast(R,P)},h=o(s.scrollTop,r.top),p=o(s.scrollLeft,r.left);let f=this.both?{rows:0,cols:0}:0,m=this.last,v=!1,_=this.lastScrollPos;if(this.both){const g=this.lastScrollPos.top<=h,C=this.lastScrollPos.left<=p;if(!this._appendOnly||this._appendOnly&&(g||C)){const w={rows:a(h,this._itemSize[0]),cols:a(p,this._itemSize[1])},M={rows:l(w.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],g),cols:l(w.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],C)};f={rows:c(w.rows,M.rows,this.first.rows,0,0,this.d_numToleratedItems[0],g),cols:c(w.cols,M.cols,this.first.cols,0,0,this.d_numToleratedItems[1],C)},m={rows:u(w.rows,f.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:u(w.cols,f.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=f.rows!==this.first.rows||m.rows!==this.last.rows||f.cols!==this.first.cols||m.cols!==this.last.cols||this.isRangeChanged,_={top:h,left:p}}}else{const g=this.horizontal?p:h,C=this.lastScrollPos<=g;if(!this._appendOnly||this._appendOnly&&C){const w=a(g,this._itemSize);f=c(w,l(w,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,C),this.first,0,0,this.d_numToleratedItems,C),m=u(w,f,0,this.numItemsInViewport,this.d_numToleratedItems),v=f!==this.first||m!==this.last||this.isRangeChanged,_=g}}return{first:f,last:m,isRangeChanged:v,scrollPos:_}}onScrollChange(n){const{first:s,last:r,isRangeChanged:o,scrollPos:a}=this.onScrollPositionChange(n);if(o){const l={first:s,last:r};if(this.setContentPosition(l),this.first=s,this.last=r,this.lastScrollPos=a,this.handleEvents("onScrollIndexChange",l),this._lazy&&this.isPageChanged){const c={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):s,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last)&&this.handleEvents("onLazyLoad",c),this.lazyLoadState=c}}}onContainerScroll(n){if(this.handleEvents("onScroll",{originalEvent:n}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:s}=this.onScrollPositionChange(n);(s||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(n),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(n)}bindResizeListener(){Dr(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{const n=this.document.defaultView,s=V.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(n,s,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(V.isVisible(this.elementViewChild?.nativeElement)){const[n,s]=[V.getWidth(this.elementViewChild?.nativeElement),V.getHeight(this.elementViewChild?.nativeElement)],[r,o]=[n!==this.defaultWidth,s!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical&&o)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=n,this.defaultHeight=s,this.defaultContentWidth=V.getWidth(this.contentEl),this.defaultContentHeight=V.getHeight(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(n,s){return this.options&&this.options[n]?this.options[n](s):this[n].emit(s)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:n=>this.getOptions(n),loading:this.d_loading,getLoaderOptions:(n,s)=>this.getLoaderOptions(n,s),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(n){const s=(this._items||[]).length,r=this.both?this.first.rows+n:this.first+n;return{index:r,count:s,first:0===r,last:r===s-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(n,s){const r=this.loaderArr.length;return{index:n,count:r,first:0===n,last:n===r-1,even:n%2==0,odd:n%2!=0,...s}}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Fn),G(Is),G(pi),G(Zn),G(Wt))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-scroller"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&(Nt(NK,5),Nt(VK,5)),2&n){let r;We(r=$e())&&(s.elementViewChild=r.first),We(r=$e())&&(s.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Ai],ngContentSelectors:cX,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[3,"styleClass"],[4,"ngIf"]],template:function(n,s){if(1&n&&(hs(),x(0,sX,8,14,"ng-container",0),x(1,lX,2,1,"ng-template",null,1,bi)),2&n){const r=xn(2);y("ngIf",!s._disabled)("ngIfElse",r)}},dependencies:function(){return[Jn,Ir,On,Nn,ri,Cc]},styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2})),e})(),Sm=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,pn,Cc,pn]})),e})(),yP=(()=>{var i;class e{get disabled(){return this._disabled}set disabled(n){this._disabled=n,this.deactivate()}constructor(n,s,r,o,a,l){d(this,"platformId",void 0),d(this,"el",void 0),d(this,"zone",void 0),d(this,"config",void 0),d(this,"renderer",void 0),d(this,"viewContainer",void 0),d(this,"tooltipPosition",void 0),d(this,"tooltipEvent","hover"),d(this,"appendTo",void 0),d(this,"positionStyle",void 0),d(this,"tooltipStyleClass",void 0),d(this,"tooltipZIndex",void 0),d(this,"escape",!0),d(this,"showDelay",void 0),d(this,"hideDelay",void 0),d(this,"life",void 0),d(this,"positionTop",void 0),d(this,"positionLeft",void 0),d(this,"autoHide",!0),d(this,"fitContent",!0),d(this,"hideOnEscape",!0),d(this,"content",void 0),d(this,"tooltipOptions",void 0),d(this,"_tooltipOptions",{tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0}),d(this,"_disabled",void 0),d(this,"container",void 0),d(this,"styleClass",void 0),d(this,"tooltipText",void 0),d(this,"showTimeout",void 0),d(this,"hideTimeout",void 0),d(this,"active",void 0),d(this,"mouseEnterListener",void 0),d(this,"mouseLeaveListener",void 0),d(this,"containerMouseleaveListener",void 0),d(this,"clickListener",void 0),d(this,"focusListener",void 0),d(this,"blurListener",void 0),d(this,"scrollHandler",void 0),d(this,"resizeListener",void 0),this.platformId=n,this.el=s,this.zone=r,this.config=o,this.renderer=a,this.viewContainer=l}ngAfterViewInit(){Dr(this.platformId)&&this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let n=this.getTarget(this.el.nativeElement);n.addEventListener("focus",this.focusListener),n.addEventListener("blur",this.blurListener)}})}ngOnChanges(n){n.tooltipPosition&&this.setOption({tooltipPosition:n.tooltipPosition.currentValue}),n.tooltipEvent&&this.setOption({tooltipEvent:n.tooltipEvent.currentValue}),n.appendTo&&this.setOption({appendTo:n.appendTo.currentValue}),n.positionStyle&&this.setOption({positionStyle:n.positionStyle.currentValue}),n.tooltipStyleClass&&this.setOption({tooltipStyleClass:n.tooltipStyleClass.currentValue}),n.tooltipZIndex&&this.setOption({tooltipZIndex:n.tooltipZIndex.currentValue}),n.escape&&this.setOption({escape:n.escape.currentValue}),n.showDelay&&this.setOption({showDelay:n.showDelay.currentValue}),n.hideDelay&&this.setOption({hideDelay:n.hideDelay.currentValue}),n.life&&this.setOption({life:n.life.currentValue}),n.positionTop&&this.setOption({positionTop:n.positionTop.currentValue}),n.positionLeft&&this.setOption({positionLeft:n.positionLeft.currentValue}),n.disabled&&this.setOption({disabled:n.disabled.currentValue}),n.content&&(this.setOption({tooltipLabel:n.content.currentValue}),this.active&&(n.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),n.autoHide&&this.setOption({autoHide:n.autoHide.currentValue}),n.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...n.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(n){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(n){(this.isAutoHide()||!(V.hasClass(n.target,"p-tooltip")||V.hasClass(n.target,"p-tooltip-arrow")||V.hasClass(n.target,"p-tooltip-text")||V.hasClass(n.relatedTarget,"p-tooltip")||V.hasClass(n.relatedTarget,"p-tooltip-text")||V.hasClass(n.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(n){this.activate()}onBlur(n){this.deactivate()}onInputClick(n){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let n=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},n)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let n=document.createElement("div");n.className="p-tooltip-arrow",this.container.appendChild(n),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?V.appendChild(this.container,this.el.nativeElement):V.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()||this.bindContainerMouseleaveListener()}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",s=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),V.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Zi.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Zi.clear(this.container),this.remove()}updateText(){const n=this.getOption("tooltipLabel");if(n instanceof lr){const s=this.viewContainer.createEmbeddedView(n);s.detectChanges(),s.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(n))):this.tooltipText.innerHTML=n}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let n=this.el.nativeElement.getBoundingClientRect();return{left:n.left+V.getWindowScrollLeft(),top:n.top+V.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let n=this.getHostOffset(),s=n.left+V.getOuterWidth(this.el.nativeElement),r=n.top+(V.getOuterHeight(this.el.nativeElement)-V.getOuterHeight(this.container))/2;this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let n=this.getHostOffset(),s=n.left-V.getOuterWidth(this.container),r=n.top+(V.getOuterHeight(this.el.nativeElement)-V.getOuterHeight(this.container))/2;this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let n=this.getHostOffset(),s=n.left+(V.getOuterWidth(this.el.nativeElement)-V.getOuterWidth(this.container))/2,r=n.top-V.getOuterHeight(this.container);this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let n=this.getHostOffset(),s=n.left+(V.getOuterWidth(this.el.nativeElement)-V.getOuterWidth(this.container))/2,r=n.top+V.getOuterHeight(this.el.nativeElement);this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(n){this._tooltipOptions={...this._tooltipOptions,...n}}getOption(n){return this._tooltipOptions[n]}getTarget(n){return V.hasClass(n,"p-inputwrapper")?V.findSingle(n,"input"):n}preAlign(n){this.container.style.left="-999px",this.container.style.top="-999px";let s="p-tooltip p-component p-tooltip-"+n;this.container.className=this.getOption("tooltipStyleClass")?s+" "+this.getOption("tooltipStyleClass"):s}isOutOfBounds(){let n=this.container.getBoundingClientRect(),s=n.top,r=n.left,o=V.getOuterWidth(this.container),a=V.getOuterHeight(this.container),l=V.getViewport();return r+o>l.width||r<0||s<0||s+a>l.height}onWindowResize(n){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new rb(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let n=this.getTarget(this.el.nativeElement);n.removeEventListener("focus",this.focusListener),n.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):V.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Zi.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Is),G(sn),G(Wt),G(Wo),G(pi),G(As))}),d(e,"\u0275dir",dt({type:i,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(n,s){1&n&&ae("keydown.escape",function(o){return s.onPressEscape(o)},0,SS)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",hideOnEscape:"hideOnEscape",content:["pTooltip","content"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Ai]})),e})(),Mm=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un]})),e})(),Em=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["ChevronDownIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})(),Im=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["SearchIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})();function uX(i,e){if(1&i&&(S(0,"span"),H(1),E()),2&i){const t=T();let n;b(1),cn(null!==(n=t.label)&&void 0!==n?n:"empty")}}function dX(i,e){1&i&&Ie(0)}const Xd=function(i){return{height:i}},hX=function(i,e){return{"p-dropdown-item":!0,"p-highlight":i,"p-disabled":e}},lb=function(i){return{$implicit:i}},pX=["container"],fX=["filter"],mX=["in"],gX=["editableInput"],_X=["items"],vX=["scroller"],yX=["overlay"];function bX(i,e){if(1&i&&(Oe(0),H(1),Le()),2&i){const t=T(2);b(1),cn(t.label||"empty")}}function wX(i,e){1&i&&Ie(0)}const CX=function(i){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":i}};function xX(i,e){if(1&i&&(S(0,"span",14),x(1,bX,2,1,"ng-container",8),x(2,wX,1,0,"ng-container",15),E()),2&i){const t=T();y("ngClass",st(9,CX,null==t.label||0===t.label.length))("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),pe("id",t.labelId),b(1),y("ngIf",!t.selectedItemTemplate),b(1),y("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",st(11,lb,t.selectedOption))}}const TX=function(i){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":i}};function SX(i,e){if(1&i&&(S(0,"span",16),H(1),E()),2&i){const t=T();y("ngClass",st(2,TX,null==t.placeholder||0===t.placeholder.length)),b(1),cn(t.placeholder||"empty")}}function MX(i,e){if(1&i){const t=Ge();S(0,"input",17,18),ae("input",function(s){return $(t),j(T().onEditableInputChange(s))})("focus",function(s){return $(t),j(T().onEditableInputFocus(s))})("blur",function(s){return $(t),j(T().onInputBlur(s))}),E()}if(2&i){const t=T();y("disabled",t.disabled),pe("maxlength",t.maxlength)("placeholder",t.placeholder)("aria-expanded",t.overlayVisible)}}function EX(i,e){if(1&i){const t=Ge();S(0,"TimesIcon",21),ae("click",function(s){return $(t),j(T(2).clear(s))}),E()}2&i&&y("styleClass","p-dropdown-clear-icon")}function IX(i,e){}function DX(i,e){1&i&&x(0,IX,0,0,"ng-template")}function AX(i,e){if(1&i){const t=Ge();S(0,"span",22),ae("click",function(s){return $(t),j(T(2).clear(s))}),x(1,DX,1,0,null,23),E()}if(2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.clearIconTemplate)}}function PX(i,e){if(1&i&&(Oe(0),x(1,EX,1,1,"TimesIcon",19),x(2,AX,2,1,"span",20),Le()),2&i){const t=T();b(1),y("ngIf",!t.clearIconTemplate),b(1),y("ngIf",t.clearIconTemplate)}}function RX(i,e){1&i&&ee(0,"span",26),2&i&&y("ngClass",T(2).dropdownIcon)}function OX(i,e){1&i&&ee(0,"ChevronDownIcon",27),2&i&&y("styleClass","p-dropdown-trigger-icon")}function LX(i,e){if(1&i&&(Oe(0),x(1,RX,1,1,"span",24),x(2,OX,1,1,"ChevronDownIcon",25),Le()),2&i){const t=T();b(1),y("ngIf",t.dropdownIcon),b(1),y("ngIf",!t.dropdownIcon)}}function kX(i,e){}function FX(i,e){1&i&&x(0,kX,0,0,"ng-template")}function NX(i,e){if(1&i&&(S(0,"span",28),x(1,FX,1,0,null,23),E()),2&i){const t=T();b(1),y("ngTemplateOutlet",t.dropdownIconTemplate)}}function VX(i,e){1&i&&Ie(0)}function BX(i,e){1&i&&Ie(0)}const bP=function(i){return{options:i}};function UX(i,e){if(1&i&&(Oe(0),x(1,BX,1,0,"ng-container",15),Le()),2&i){const t=T(3);b(1),y("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",st(2,bP,t.filterOptions))}}function HX(i,e){1&i&&ee(0,"SearchIcon",27),2&i&&y("styleClass","p-dropdown-filter-icon")}function zX(i,e){}function GX(i,e){1&i&&x(0,zX,0,0,"ng-template")}function WX(i,e){if(1&i&&(S(0,"span",41),x(1,GX,1,0,null,23),E()),2&i){const t=T(4);b(1),y("ngTemplateOutlet",t.filterIconTemplate)}}function $X(i,e){if(1&i){const t=Ge();S(0,"div",37)(1,"input",38,39),ae("keydown.enter",function(s){return s.preventDefault()})("keydown",function(s){return $(t),j(T(3).onKeydown(s,!1))})("input",function(s){return $(t),j(T(3).onFilterInputChange(s))}),E(),x(3,HX,1,1,"SearchIcon",25),x(4,WX,2,1,"span",40),E()}if(2&i){const t=T(3);b(1),y("value",t.filterValue||""),pe("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.overlayVisible?"p-highlighted-option":t.labelId),b(2),y("ngIf",!t.filterIconTemplate),b(1),y("ngIf",t.filterIconTemplate)}}function jX(i,e){if(1&i&&(S(0,"div",34),ae("click",function(n){return n.stopPropagation()}),x(1,UX,2,4,"ng-container",35),x(2,$X,5,6,"ng-template",null,36,bi),E()),2&i){const t=xn(3),n=T(2);b(1),y("ngIf",n.filterTemplate)("ngIfElse",t)}}function qX(i,e){1&i&&Ie(0)}const wP=function(i,e){return{$implicit:i,options:e}};function YX(i,e){if(1&i&&x(0,qX,1,0,"ng-container",15),2&i){const t=e.$implicit,n=e.options;T(2),y("ngTemplateOutlet",xn(7))("ngTemplateOutletContext",vn(2,wP,t,n))}}function KX(i,e){1&i&&Ie(0)}function XX(i,e){if(1&i&&x(0,KX,1,0,"ng-container",15),2&i){const t=e.options;y("ngTemplateOutlet",T(4).loaderTemplate)("ngTemplateOutletContext",st(2,bP,t))}}function ZX(i,e){1&i&&(Oe(0),x(1,XX,1,4,"ng-template",44),Le())}function QX(i,e){if(1&i){const t=Ge();S(0,"p-scroller",42,43),ae("onLazyLoad",function(s){return $(t),j(T(2).onLazyLoad.emit(s))}),x(2,YX,1,5,"ng-template",13),x(3,ZX,2,0,"ng-container",8),E()}if(2&i){const t=T(2);en(st(8,Xd,t.scrollHeight)),y("items",t.optionsToDisplay)("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),b(3),y("ngIf",t.loaderTemplate)}}function JX(i,e){1&i&&Ie(0)}const eZ=function(){return{}};function tZ(i,e){if(1&i&&(Oe(0),x(1,JX,1,0,"ng-container",15),Le()),2&i){T();const t=xn(7),n=T();b(1),y("ngTemplateOutlet",t)("ngTemplateOutletContext",vn(3,wP,n.optionsToDisplay,_n(2,eZ)))}}function nZ(i,e){if(1&i&&(S(0,"span"),H(1),E()),2&i){const t=T().$implicit,n=T(4);b(1),cn(n.getOptionGroupLabel(t)||"empty")}}function iZ(i,e){1&i&&Ie(0)}function sZ(i,e){1&i&&Ie(0)}const CP=function(i,e){return{$implicit:i,selectedOption:e}};function rZ(i,e){if(1&i&&(S(0,"li",50),x(1,nZ,2,1,"span",8),x(2,iZ,1,0,"ng-container",15),E(),x(3,sZ,1,0,"ng-container",15)),2&i){const t=e.$implicit,n=T(2).options,s=xn(5),r=T(2);y("ngStyle",st(6,Xd,n.itemSize+"px")),b(1),y("ngIf",!r.groupTemplate),b(1),y("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",st(8,lb,t)),b(1),y("ngTemplateOutlet",s)("ngTemplateOutletContext",vn(10,CP,r.getOptionGroupChildren(t),r.selectedOption))}}function oZ(i,e){if(1&i&&(Oe(0),x(1,rZ,4,13,"ng-template",49),Le()),2&i){const t=T().$implicit;b(1),y("ngForOf",t)}}function aZ(i,e){1&i&&Ie(0)}function lZ(i,e){if(1&i&&(Oe(0),x(1,aZ,1,0,"ng-container",15),Le()),2&i){const t=T().$implicit,n=xn(5),s=T(2);b(1),y("ngTemplateOutlet",n)("ngTemplateOutletContext",vn(2,CP,t,s.selectedOption))}}function cZ(i,e){if(1&i){const t=Ge();S(0,"p-dropdownItem",51),ae("onClick",function(s){return $(t),j(T(4).onItemClick(s))}),E()}if(2&i){const t=e.$implicit,n=T().selectedOption,s=T(3);y("option",t)("selected",n==t)("label",s.getOptionLabel(t))("disabled",s.isOptionDisabled(t))("template",s.itemTemplate)}}function uZ(i,e){1&i&&x(0,cZ,1,5,"ng-template",49),2&i&&y("ngForOf",e.$implicit)}function dZ(i,e){if(1&i&&(Oe(0),H(1),Le()),2&i){const t=T(4);b(1),gn(" ",t.emptyFilterMessageLabel," ")}}function hZ(i,e){1&i&&Ie(0,null,53)}function pZ(i,e){if(1&i&&(S(0,"li",52),x(1,dZ,2,1,"ng-container",35),x(2,hZ,2,0,"ng-container",23),E()),2&i){const t=T().options,n=T(2);y("ngStyle",st(4,Xd,t.itemSize+"px")),b(1),y("ngIf",!n.emptyFilterTemplate&&!n.emptyTemplate)("ngIfElse",n.emptyFilter),b(1),y("ngTemplateOutlet",n.emptyFilterTemplate||n.emptyTemplate)}}function fZ(i,e){if(1&i&&(Oe(0),H(1),Le()),2&i){const t=T(4);b(1),gn(" ",t.emptyMessageLabel," ")}}function mZ(i,e){1&i&&Ie(0,null,54)}function gZ(i,e){if(1&i&&(S(0,"li",52),x(1,fZ,2,1,"ng-container",35),x(2,mZ,2,0,"ng-container",23),E()),2&i){const t=T().options,n=T(2);y("ngStyle",st(4,Xd,t.itemSize+"px")),b(1),y("ngIf",!n.emptyTemplate)("ngIfElse",n.empty),b(1),y("ngTemplateOutlet",n.emptyTemplate)}}function _Z(i,e){if(1&i&&(S(0,"ul",45,46),x(2,oZ,2,1,"ng-container",8),x(3,lZ,2,5,"ng-container",8),x(4,uZ,1,1,"ng-template",null,47,bi),x(6,pZ,3,6,"li",48),x(7,gZ,3,6,"li",48),E()),2&i){const t=e.options,n=T(2);en(t.contentStyle),y("ngClass",t.contentStyleClass),pe("id",n.listId),b(2),y("ngIf",n.group),b(1),y("ngIf",!n.group),b(3),y("ngIf",n.filterValue&&n.isEmpty()),b(1),y("ngIf",!n.filterValue&&n.isEmpty())}}function vZ(i,e){1&i&&Ie(0)}function yZ(i,e){if(1&i&&(S(0,"div",29),x(1,VX,1,0,"ng-container",23),x(2,jX,4,2,"div",30),S(3,"div",31),x(4,QX,4,10,"p-scroller",32),x(5,tZ,2,6,"ng-container",8),x(6,_Z,8,8,"ng-template",null,33,bi),E(),x(8,vZ,1,0,"ng-container",23),E()),2&i){const t=T();Ne(t.panelStyleClass),y("ngClass","p-dropdown-panel p-component")("ngStyle",t.panelStyle),b(1),y("ngTemplateOutlet",t.headerTemplate),b(1),y("ngIf",t.filter),b(1),Zp("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),b(1),y("ngIf",t.virtualScroll),b(1),y("ngIf",!t.virtualScroll),b(3),y("ngTemplateOutlet",t.footerTemplate)}}const bZ=function(i,e,t,n){return{"p-dropdown p-component":!0,"p-disabled":i,"p-dropdown-open":e,"p-focus":t,"p-dropdown-clearable":n}},wZ={provide:mi,useExisting:qt(()=>Dm),multi:!0};let CZ=(()=>{var i;class e{constructor(){d(this,"option",void 0),d(this,"selected",void 0),d(this,"label",void 0),d(this,"disabled",void 0),d(this,"visible",void 0),d(this,"itemSize",void 0),d(this,"template",void 0),d(this,"onClick",new me)}onOptionClick(n){this.onClick.emit({originalEvent:n,option:this.option})}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,s){1&n&&(S(0,"li",0),ae("click",function(o){return s.onOptionClick(o)}),x(1,uX,2,1,"span",1),x(2,dX,1,0,"ng-container",2),E()),2&n&&(y("ngStyle",st(8,Xd,s.itemSize+"px"))("id",s.selected?"p-highlighted-option":"")("ngClass",vn(10,hX,s.selected,s.disabled)),pe("aria-label",s.label)("aria-selected",s.selected),b(1),y("ngIf",!s.template),b(1),y("ngTemplateOutlet",s.template)("ngTemplateOutletContext",st(13,lb,s.option)))},dependencies:[Jn,On,Nn,ri,pr],encapsulation:2})),e})(),Dm=(()=>{var i;class e{get disabled(){return this._disabled}set disabled(n){n&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=n,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(n){this._itemSize=n,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(n){this._autoZIndex=n,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(n){this._baseZIndex=n,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(n){this._showTransitionOptions=n,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(n){this._hideTransitionOptions=n,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get filterValue(){return this._filterValue}set filterValue(n){this._filterValue=n,this.activateFilter()}get options(){return this._options}set options(n){this._options=n,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&Se.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}constructor(n,s,r,o,a,l){d(this,"el",void 0),d(this,"renderer",void 0),d(this,"cd",void 0),d(this,"zone",void 0),d(this,"filterService",void 0),d(this,"config",void 0),d(this,"scrollHeight","200px"),d(this,"filter",void 0),d(this,"name",void 0),d(this,"style",void 0),d(this,"panelStyle",void 0),d(this,"styleClass",void 0),d(this,"panelStyleClass",void 0),d(this,"readonly",void 0),d(this,"required",void 0),d(this,"editable",void 0),d(this,"appendTo",void 0),d(this,"tabindex",void 0),d(this,"placeholder",void 0),d(this,"filterPlaceholder",void 0),d(this,"filterLocale",void 0),d(this,"inputId",void 0),d(this,"selectId",void 0),d(this,"dataKey",void 0),d(this,"filterBy",void 0),d(this,"autofocus",void 0),d(this,"resetFilterOnHide",!1),d(this,"dropdownIcon",void 0),d(this,"optionLabel",void 0),d(this,"optionValue",void 0),d(this,"optionDisabled",void 0),d(this,"optionGroupLabel",void 0),d(this,"optionGroupChildren","items"),d(this,"autoDisplayFirst",!0),d(this,"group",void 0),d(this,"showClear",void 0),d(this,"emptyFilterMessage",""),d(this,"emptyMessage",""),d(this,"lazy",!1),d(this,"virtualScroll",void 0),d(this,"virtualScrollItemSize",void 0),d(this,"virtualScrollOptions",void 0),d(this,"overlayOptions",void 0),d(this,"ariaFilterLabel",void 0),d(this,"ariaLabel",void 0),d(this,"ariaLabelledBy",void 0),d(this,"filterMatchMode","contains"),d(this,"maxlength",void 0),d(this,"tooltip",""),d(this,"tooltipPosition","right"),d(this,"tooltipPositionStyle","absolute"),d(this,"tooltipStyleClass",void 0),d(this,"autofocusFilter",!0),d(this,"overlayDirection","end"),d(this,"_itemSize",void 0),d(this,"_autoZIndex",void 0),d(this,"_baseZIndex",void 0),d(this,"_showTransitionOptions",void 0),d(this,"_hideTransitionOptions",void 0),d(this,"onChange",new me),d(this,"onFilter",new me),d(this,"onFocus",new me),d(this,"onBlur",new me),d(this,"onClick",new me),d(this,"onShow",new me),d(this,"onHide",new me),d(this,"onClear",new me),d(this,"onLazyLoad",new me),d(this,"containerViewChild",void 0),d(this,"filterViewChild",void 0),d(this,"accessibleViewChild",void 0),d(this,"editableInputViewChild",void 0),d(this,"itemsViewChild",void 0),d(this,"scroller",void 0),d(this,"overlayViewChild",void 0),d(this,"templates",void 0),d(this,"_disabled",void 0),d(this,"itemsWrapper",void 0),d(this,"itemTemplate",void 0),d(this,"groupTemplate",void 0),d(this,"loaderTemplate",void 0),d(this,"selectedItemTemplate",void 0),d(this,"headerTemplate",void 0),d(this,"filterTemplate",void 0),d(this,"footerTemplate",void 0),d(this,"emptyFilterTemplate",void 0),d(this,"emptyTemplate",void 0),d(this,"dropdownIconTemplate",void 0),d(this,"clearIconTemplate",void 0),d(this,"filterIconTemplate",void 0),d(this,"filterOptions",void 0),d(this,"selectedOption",void 0),d(this,"_options",void 0),d(this,"value",void 0),d(this,"onModelChange",()=>{}),d(this,"onModelTouched",()=>{}),d(this,"optionsToDisplay",void 0),d(this,"hover",void 0),d(this,"focused",void 0),d(this,"overlayVisible",void 0),d(this,"optionsChanged",void 0),d(this,"panel",void 0),d(this,"dimensionsUpdated",void 0),d(this,"hoveredItem",void 0),d(this,"selectedOptionUpdated",void 0),d(this,"_filterValue",void 0),d(this,"searchValue",void 0),d(this,"searchIndex",void 0),d(this,"searchTimeout",void 0),d(this,"previousSearchChar",void 0),d(this,"currentSearchChar",void 0),d(this,"preventModelTouched",void 0),d(this,"id",Vn()),d(this,"labelId",void 0),d(this,"listId",void 0),this.el=n,this.renderer=s,this.cd=r,this.zone=o,this.filterService=a,this.config=l}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"item":default:this.itemTemplate=n.template;break;case"selectedItem":this.selectedItemTemplate=n.template;break;case"header":this.headerTemplate=n.template;break;case"filter":this.filterTemplate=n.template;break;case"footer":this.footerTemplate=n.template;break;case"emptyfilter":this.emptyFilterTemplate=n.template;break;case"empty":this.emptyTemplate=n.template;break;case"group":this.groupTemplate=n.template;break;case"loader":this.loaderTemplate=n.template;break;case"dropdownicon":this.dropdownIconTemplate=n.template;break;case"clearicon":this.clearIconTemplate=n.template;break;case"filtericon":this.filterIconTemplate=n.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:n=>this.onFilterInputChange(n),reset:()=>this.resetFilter()})}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return"number"==typeof this.selectedOption&&(this.selectedOption=this.selectedOption.toString()),this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(gs.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(gs.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(n){return this.optionLabel?Se.resolveFieldData(n,this.optionLabel):n&&void 0!==n.label?n.label:n}getOptionValue(n){return this.optionValue?Se.resolveFieldData(n,this.optionValue):!this.optionLabel&&n&&void 0!==n.value?n.value:n}isOptionDisabled(n){return this.optionDisabled?Se.resolveFieldData(n,this.optionDisabled):!(!n||void 0===n.disabled)&&n.disabled}getOptionGroupLabel(n){return this.optionGroupLabel?Se.resolveFieldData(n,this.optionGroupLabel):n&&void 0!==n.label?n.label:n}getOptionGroupChildren(n){return this.optionGroupChildren?Se.resolveFieldData(n,this.optionGroupChildren):n.items}onItemClick(n){const s=n.option;this.isOptionDisabled(s)||(this.selectItem(n.originalEvent,s),this.accessibleViewChild?.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(n,s){this.selectedOption!=s&&(this.selectedOption=s,this.value=this.getOptionValue(s),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:n,value:this.value}))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let n=V.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");n&&V.scrollInView(this.itemsWrapper,n),this.selectedOptionUpdated=!1}}writeValue(n){this.filter&&this.resetFilter(),this.value=n,this.updateSelectedOption(n),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(n){this.selectedOption=this.findOption(n,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.getOptionGroupChildren(this.optionsToDisplay[0])[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}onMouseclick(n){this.disabled||this.readonly||this.isInputClick(n)||(this.onClick.emit(n),this.accessibleViewChild?.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(n){const s=n.target;return V.hasClass(s,"p-dropdown-clear-icon")||null!==s.closest(".p-dropdown-clear-icon")||s.isSameNode(this.accessibleViewChild?.nativeElement)||this.editableInputViewChild&&s.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(n){this.focused=!0,this.hide(),this.onFocus.emit(n)}onEditableInputChange(n){this.value=n.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(n){if("visible"===n.toState){if(this.itemsWrapper=V.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==s&&this.scroller?.scrollToIndex(s)}else{let s=V.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");s&&s.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(n)}"void"===n.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(n))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(n){this.focused=!0,this.onFocus.emit(n)}onInputBlur(n){this.focused=!1,this.onBlur.emit(n),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(n){let s;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=n-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){s=o;break}}if(!s)for(let r=this.optionsToDisplay.length-1;r>=n;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){s=o;break}}}return s}findNextEnabledOption(n){let s;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=n+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){s=o;break}}if(!s)for(let r=0;r<n;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){s=o;break}}}return s}onKeydown(n,s){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(n.which){case 40:if(!this.overlayVisible&&n.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(n,o),this.selectedOptionUpdated=!0)}n.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let a=this.optionsToDisplay[r.groupIndex-1];a&&(this.selectItem(n,this.getOptionGroupChildren(a)[this.getOptionGroupChildren(a).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(n,o),this.selectedOptionUpdated=!0)}n.preventDefault();break;case 32:s&&(this.overlayVisible?this.hide():this.show(),n.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),n.preventDefault();break;case 27:case 9:this.hide(),n.preventDefault();break;default:s&&!n.metaKey&&17!==n.which&&this.search(n)}}search(n){this.searchTimeout&&clearTimeout(this.searchTimeout);const s=n.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=s,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+s:s,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(n,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(n){let s;return this.searchValue&&(s=this.searchOptionInRange(n,this.optionsToDisplay.length),s||(s=this.searchOptionInRange(0,n))),s}searchOptionInRange(n,s){for(let r=n;r<s;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(n){if(this.searchValue&&this.optionsToDisplay){for(let r=n.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=n.groupIndex===r?n.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let a=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(a).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(a))return a}for(let r=0;r<=n.groupIndex;r++)for(let o=0;o<(n.groupIndex===r?n.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let a=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(a).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(a))return a}}return null}findOptionIndex(n,s){let r=-1;if(s)for(let o=0;o<s.length;o++)if(null==n&&null==this.getOptionValue(s[o])||Se.equals(n,this.getOptionValue(s[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(n,s){let r,o;if(s)for(let a=0;a<s.length&&(r=a,o=this.findOptionIndex(n,this.getOptionGroupChildren(s[a])),-1===o);a++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(n,s,r){if(this.group&&!r){let o;if(s&&s.length)for(let a of s)if(o=this.findOption(n,this.getOptionGroupChildren(a),!0),o)break;return o}{let o=this.findOptionIndex(n,s);return-1!=o?s[o]:null}}onFilterInputChange(n){let s=n.target.value?.trim();s&&s.length?(this._filterValue=s,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller?.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:n,filter:this._filterValue})}activateFilter(){let n=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let s=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),n,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&s.push({...r,[this.optionGroupChildren]:o})}this.optionsToDisplay=s}else this.optionsToDisplay=this.filterService.filter(this.options,n,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?V.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():V.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(n){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(n)}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(sn),G(pi),G(Zn),G(Wt),G(tb),G(Wo))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-dropdown"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&(Nt(pX,5),Nt(fX,5),Nt(mX,5),Nt(gX,5),Nt(_X,5),Nt(vX,5),Nt(yX,5)),2&n){let r;We(r=$e())&&(s.containerViewChild=r.first),We(r=$e())&&(s.filterViewChild=r.first),We(r=$e())&&(s.accessibleViewChild=r.first),We(r=$e())&&(s.editableInputViewChild=r.first),We(r=$e())&&(s.itemsViewChild=r.first),We(r=$e())&&(s.scroller=r.first),We(r=$e())&&(s.overlayViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(n,s){2&n&&Kr("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focused||s.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[Jt([wZ])],decls:15,vars:33,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],["class","p-dropdown-trigger-icon",4,"ngIf"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(n,s){1&n&&(S(0,"div",0,1),ae("click",function(o){return s.onMouseclick(o)}),S(2,"div",2)(3,"input",3,4),ae("focus",function(o){return s.onInputFocus(o)})("blur",function(o){return s.onInputBlur(o)})("keydown",function(o){return s.onKeydown(o,!0)}),E()(),x(5,xX,3,13,"span",5),x(6,SX,2,4,"span",6),x(7,MX,2,4,"input",7),x(8,PX,3,2,"ng-container",8),S(9,"div",9),x(10,LX,3,2,"ng-container",8),x(11,NX,2,1,"span",10),E(),S(12,"p-overlay",11,12),ae("visibleChange",function(o){return s.overlayVisible=o})("onAnimationStart",function(o){return s.onOverlayAnimationStart(o)})("onHide",function(){return s.hide()}),x(14,yZ,9,11,"ng-template",13),E()()),2&n&&(Ne(s.styleClass),y("ngClass",xa(28,bZ,s.disabled,s.overlayVisible,s.focused,s.showClear&&!s.disabled))("ngStyle",s.style),b(3),y("disabled",s.disabled)("autofocus",s.autofocus),pe("id",s.inputId)("placeholder",s.placeholder)("aria-label",s.ariaLabel)("aria-expanded",!1)("aria-labelledby",s.ariaLabelledBy)("tabindex",s.tabindex)("aria-activedescendant",s.overlayVisible?s.labelId:null),b(2),y("ngIf",!s.editable&&null!=s.label),b(1),y("ngIf",!s.editable&&null==s.label),b(1),y("ngIf",s.editable),b(1),y("ngIf",s.isVisibleClearIcon),b(1),pe("aria-expanded",s.overlayVisible),b(1),y("ngIf",!s.dropdownIconTemplate),b(1),y("ngIf",s.dropdownIconTemplate),b(1),y("visible",s.overlayVisible)("options",s.overlayOptions)("target","@parent")("appendTo",s.appendTo)("autoZIndex",s.autoZIndex)("baseZIndex",s.baseZIndex)("showTransitionOptions",s.showTransitionOptions)("hideTransitionOptions",s.hideTransitionOptions))},dependencies:function(){return[Jn,Ir,On,Nn,ri,mP,Bn,yP,vP,wK,Qi,Em,Im,CZ]},styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0})),e})(),Am=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,gP,pn,Mm,ks,Sm,CK,Qi,Em,Im,gP,pn,Sm]})),e})(),cb=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["MinusIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},dependencies:[un],encapsulation:2})),e})(),ub=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["PlusIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})(),OZ=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,ks,cb,ub,pn]})),e})(),LZ=(()=>{var i;class e{constructor(n,s,r){d(this,"el",void 0),d(this,"ngModel",void 0),d(this,"cd",void 0),d(this,"filled",void 0),this.el=n,this.ngModel=s,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(sn),G(wm,8),G(Zn))}),d(e,"\u0275dir",dt({type:i,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(n,s){1&n&&ae("input",function(o){return s.onInput(o)}),2&n&&Kr("p-filled",s.filled)}})),e})(),db=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un]})),e})(),xP=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["AngleUpIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})(),TP=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["AngleDownIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})();const kZ=["input"];function FZ(i,e){if(1&i){const t=Ge();S(0,"TimesIcon",8),ae("click",function(){return $(t),j(T(2).clear())}),E()}2&i&&y("ngClass","p-inputnumber-clear-icon")}function NZ(i,e){}function VZ(i,e){1&i&&x(0,NZ,0,0,"ng-template")}function BZ(i,e){if(1&i){const t=Ge();S(0,"span",9),ae("click",function(){return $(t),j(T(2).clear())}),x(1,VZ,1,0,null,10),E()}if(2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.clearIconTemplate)}}function UZ(i,e){if(1&i&&(Oe(0),x(1,FZ,1,1,"TimesIcon",6),x(2,BZ,2,1,"span",7),Le()),2&i){const t=T();b(1),y("ngIf",!t.clearIconTemplate),b(1),y("ngIf",t.clearIconTemplate)}}function HZ(i,e){1&i&&ee(0,"span",14),2&i&&y("ngClass",T(2).incrementButtonIcon)}function zZ(i,e){1&i&&ee(0,"AngleUpIcon")}function GZ(i,e){}function WZ(i,e){1&i&&x(0,GZ,0,0,"ng-template")}function $Z(i,e){if(1&i&&(Oe(0),x(1,zZ,1,0,"AngleUpIcon",3),x(2,WZ,1,0,null,10),Le()),2&i){const t=T(2);b(1),y("ngIf",!t.incrementButtonIconTemplate),b(1),y("ngTemplateOutlet",t.incrementButtonIconTemplate)}}function jZ(i,e){1&i&&ee(0,"span",14),2&i&&y("ngClass",T(2).decrementButtonIcon)}function qZ(i,e){1&i&&ee(0,"AngleDownIcon")}function YZ(i,e){}function KZ(i,e){1&i&&x(0,YZ,0,0,"ng-template")}function XZ(i,e){if(1&i&&(Oe(0),x(1,qZ,1,0,"AngleDownIcon",3),x(2,KZ,1,0,null,10),Le()),2&i){const t=T(2);b(1),y("ngIf",!t.decrementButtonIconTemplate),b(1),y("ngTemplateOutlet",t.decrementButtonIconTemplate)}}const SP=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},MP=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function ZZ(i,e){if(1&i){const t=Ge();S(0,"span",11)(1,"button",12),ae("mousedown",function(s){return $(t),j(T().onUpButtonMouseDown(s))})("mouseup",function(){return $(t),j(T().onUpButtonMouseUp())})("mouseleave",function(){return $(t),j(T().onUpButtonMouseLeave())})("keydown",function(s){return $(t),j(T().onUpButtonKeyDown(s))})("keyup",function(){return $(t),j(T().onUpButtonKeyUp())}),x(2,HZ,1,1,"span",13),x(3,$Z,3,2,"ng-container",3),E(),S(4,"button",12),ae("mousedown",function(s){return $(t),j(T().onDownButtonMouseDown(s))})("mouseup",function(){return $(t),j(T().onDownButtonMouseUp())})("mouseleave",function(){return $(t),j(T().onDownButtonMouseLeave())})("keydown",function(s){return $(t),j(T().onDownButtonKeyDown(s))})("keyup",function(){return $(t),j(T().onDownButtonKeyUp())}),x(5,jZ,1,1,"span",13),x(6,XZ,3,2,"ng-container",3),E()()}if(2&i){const t=T();b(1),Ne(t.incrementButtonClass),y("ngClass",_n(12,SP))("disabled",t.disabled),b(1),y("ngIf",t.incrementButtonIcon),b(1),y("ngIf",!t.incrementButtonIcon),b(1),Ne(t.decrementButtonClass),y("ngClass",_n(13,MP))("disabled",t.disabled),b(1),y("ngIf",t.decrementButtonIcon),b(1),y("ngIf",!t.decrementButtonIcon)}}function QZ(i,e){1&i&&ee(0,"span",14),2&i&&y("ngClass",T(2).incrementButtonIcon)}function JZ(i,e){1&i&&ee(0,"AngleUpIcon")}function eQ(i,e){}function tQ(i,e){1&i&&x(0,eQ,0,0,"ng-template")}function nQ(i,e){if(1&i&&(Oe(0),x(1,JZ,1,0,"AngleUpIcon",3),x(2,tQ,1,0,null,10),Le()),2&i){const t=T(2);b(1),y("ngIf",!t.incrementButtonIconTemplate),b(1),y("ngTemplateOutlet",t.incrementButtonIconTemplate)}}function iQ(i,e){if(1&i){const t=Ge();S(0,"button",12),ae("mousedown",function(s){return $(t),j(T().onUpButtonMouseDown(s))})("mouseup",function(){return $(t),j(T().onUpButtonMouseUp())})("mouseleave",function(){return $(t),j(T().onUpButtonMouseLeave())})("keydown",function(s){return $(t),j(T().onUpButtonKeyDown(s))})("keyup",function(){return $(t),j(T().onUpButtonKeyUp())}),x(1,QZ,1,1,"span",13),x(2,nQ,3,2,"ng-container",3),E()}if(2&i){const t=T();Ne(t.incrementButtonClass),y("ngClass",_n(6,SP))("disabled",t.disabled),b(1),y("ngIf",t.incrementButtonIcon),b(1),y("ngIf",!t.incrementButtonIcon)}}function sQ(i,e){1&i&&ee(0,"span",14),2&i&&y("ngClass",T(2).decrementButtonIcon)}function rQ(i,e){1&i&&ee(0,"AngleDownIcon")}function oQ(i,e){}function aQ(i,e){1&i&&x(0,oQ,0,0,"ng-template")}function lQ(i,e){if(1&i&&(Oe(0),x(1,rQ,1,0,"AngleDownIcon",3),x(2,aQ,1,0,null,10),Le()),2&i){const t=T(2);b(1),y("ngIf",!t.decrementButtonIconTemplate),b(1),y("ngTemplateOutlet",t.decrementButtonIconTemplate)}}function cQ(i,e){if(1&i){const t=Ge();S(0,"button",12),ae("mousedown",function(s){return $(t),j(T().onDownButtonMouseDown(s))})("mouseup",function(){return $(t),j(T().onDownButtonMouseUp())})("mouseleave",function(){return $(t),j(T().onDownButtonMouseLeave())})("keydown",function(s){return $(t),j(T().onDownButtonKeyDown(s))})("keyup",function(){return $(t),j(T().onDownButtonKeyUp())}),x(1,sQ,1,1,"span",13),x(2,lQ,3,2,"ng-container",3),E()}if(2&i){const t=T();Ne(t.decrementButtonClass),y("ngClass",_n(6,MP))("disabled",t.disabled),b(1),y("ngIf",t.decrementButtonIcon),b(1),y("ngIf",!t.decrementButtonIcon)}}const uQ=function(i,e,t){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":i,"p-inputnumber-buttons-horizontal":e,"p-inputnumber-buttons-vertical":t}},dQ={provide:mi,useExisting:qt(()=>Pm),multi:!0};let Pm=(()=>{var i;class e{get disabled(){return this._disabled}set disabled(n){n&&(this.focused=!1),this._disabled=n,this.timer&&this.clearTimer()}constructor(n,s,r,o){d(this,"document",void 0),d(this,"el",void 0),d(this,"cd",void 0),d(this,"injector",void 0),d(this,"showButtons",!1),d(this,"format",!0),d(this,"buttonLayout","stacked"),d(this,"inputId",void 0),d(this,"styleClass",void 0),d(this,"style",void 0),d(this,"placeholder",void 0),d(this,"size",void 0),d(this,"maxlength",void 0),d(this,"tabindex",void 0),d(this,"title",void 0),d(this,"ariaLabel",void 0),d(this,"ariaRequired",void 0),d(this,"name",void 0),d(this,"required",void 0),d(this,"autocomplete",void 0),d(this,"min",void 0),d(this,"max",void 0),d(this,"incrementButtonClass",void 0),d(this,"decrementButtonClass",void 0),d(this,"incrementButtonIcon",void 0),d(this,"decrementButtonIcon",void 0),d(this,"readonly",!1),d(this,"step",1),d(this,"allowEmpty",!0),d(this,"locale",void 0),d(this,"localeMatcher",void 0),d(this,"mode","decimal"),d(this,"currency",void 0),d(this,"currencyDisplay",void 0),d(this,"useGrouping",!0),d(this,"minFractionDigits",void 0),d(this,"maxFractionDigits",void 0),d(this,"prefix",void 0),d(this,"suffix",void 0),d(this,"inputStyle",void 0),d(this,"inputStyleClass",void 0),d(this,"showClear",!1),d(this,"onInput",new me),d(this,"onFocus",new me),d(this,"onBlur",new me),d(this,"onKeyDown",new me),d(this,"onClear",new me),d(this,"input",void 0),d(this,"templates",void 0),d(this,"clearIconTemplate",void 0),d(this,"incrementButtonIconTemplate",void 0),d(this,"decrementButtonIconTemplate",void 0),d(this,"value",void 0),d(this,"onModelChange",()=>{}),d(this,"onModelTouched",()=>{}),d(this,"focused",void 0),d(this,"initialized",void 0),d(this,"groupChar",""),d(this,"prefixChar",""),d(this,"suffixChar",""),d(this,"isSpecialChar",void 0),d(this,"timer",void 0),d(this,"lastValue",void 0),d(this,"_numeral",void 0),d(this,"numberFormat",void 0),d(this,"_decimal",void 0),d(this,"_group",void 0),d(this,"_minusSign",void 0),d(this,"_currency",void 0),d(this,"_prefix",void 0),d(this,"_suffix",void 0),d(this,"_index",void 0),d(this,"_disabled",void 0),d(this,"ngControl",null),this.document=n,this.el=s,this.cd=r,this.injector=o}ngOnChanges(n){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!n[r])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"clearicon":this.clearIconTemplate=n.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=n.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=n.template}})}ngOnInit(){this.ngControl=this.injector.get(so,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const n=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),s=new Map(n.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${n.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>s.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const n=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${n.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const n=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=n.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const n=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${n.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const n=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${n.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const n=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=n.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const n=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=n.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(n){if(null!=n){if("-"===n)return n;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(n);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return n.toString()}return""}parseValue(n){let s=n.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(s){if("-"===s)return s;let r=+s;return isNaN(r)?null:r}return null}repeat(n,s,r){if(this.readonly)return;let o=s||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(n,40,r)},o),this.spin(n,r)}spin(n,s){let r=this.step*s,o=this.parseValue(this.input?.nativeElement.value)||0,a=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(a).length||(this.updateInput(a,null,"spin",null),this.updateModel(n,a),this.handleOnInput(n,o,a))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(n){2!==n.button?(this.input?.nativeElement.focus(),this.repeat(n,null,1),n.preventDefault()):this.clearTimer()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(n){(32===n.keyCode||13===n.keyCode)&&this.repeat(n,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(n){2!==n.button?(this.input?.nativeElement.focus(),this.repeat(n,null,-1),n.preventDefault()):this.clearTimer()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(n){(32===n.keyCode||13===n.keyCode)&&this.repeat(n,null,-1)}onUserInput(n){this.readonly||(this.isSpecialChar&&(n.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(n){if(this.readonly)return;if(this.lastValue=n.target.value,n.shiftKey||n.altKey)return void(this.isSpecialChar=!0);let s=n.target.selectionStart,r=n.target.selectionEnd,o=n.target.value,a=null;switch(n.altKey&&n.preventDefault(),n.which){case 38:this.spin(n,1),n.preventDefault();break;case 40:this.spin(n,-1),n.preventDefault();break;case 37:this.isNumeralChar(o.charAt(s-1))||n.preventDefault();break;case 39:this.isNumeralChar(o.charAt(s))||n.preventDefault();break;case 13:a=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(a),this.input.nativeElement.setAttribute("aria-valuenow",a),this.updateModel(n,a);break;case 8:if(n.preventDefault(),s===r){const l=o.charAt(s-1),{decimalCharIndex:c,decimalCharIndexWithoutPrefix:u}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(l)){const h=this.getDecimalLength(o);if(this._group.test(l))this._group.lastIndex=0,a=o.slice(0,s-2)+o.slice(s-1);else if(this._decimal.test(l))this._decimal.lastIndex=0,h?this.input?.nativeElement.setSelectionRange(s-1,s-1):a=o.slice(0,s-1)+o.slice(s);else if(c>0&&s>c){const p=this.isDecimalMode()&&(this.minFractionDigits||0)<h?"":"0";a=o.slice(0,s-1)+p+o.slice(s)}else 1===u?(a=o.slice(0,s-1)+"0"+o.slice(s),a=this.parseValue(a)>0?a:""):a=o.slice(0,s-1)+o.slice(s)}this.updateValue(n,a,null,"delete-single")}else a=this.deleteRange(o,s,r),this.updateValue(n,a,null,"delete-range");break;case 46:if(n.preventDefault(),s===r){const l=o.charAt(s),{decimalCharIndex:c,decimalCharIndexWithoutPrefix:u}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(l)){const h=this.getDecimalLength(o);if(this._group.test(l))this._group.lastIndex=0,a=o.slice(0,s)+o.slice(s+2);else if(this._decimal.test(l))this._decimal.lastIndex=0,h?this.input?.nativeElement.setSelectionRange(s+1,s+1):a=o.slice(0,s)+o.slice(s+1);else if(c>0&&s>c){const p=this.isDecimalMode()&&(this.minFractionDigits||0)<h?"":"0";a=o.slice(0,s)+p+o.slice(s+1)}else 1===u?(a=o.slice(0,s)+"0"+o.slice(s+1),a=this.parseValue(a)>0?a:""):a=o.slice(0,s)+o.slice(s+1)}this.updateValue(n,a,null,"delete-back-single")}else a=this.deleteRange(o,s,r),this.updateValue(n,a,null,"delete-range")}this.onKeyDown.emit(n)}onInputKeyPress(n){if(this.readonly)return;let s=n.which||n.keyCode,r=String.fromCharCode(s);const o=this.isDecimalSign(r),a=this.isMinusSign(r);13!=s&&n.preventDefault();const l=this.parseValue(this.input.nativeElement.value+r),c=null!=l?l.toString():"";this.maxlength&&c.length>this.maxlength||(48<=s&&s<=57||a||o)&&this.insert(n,r,{isDecimalSign:o,isMinusSign:a})}onPaste(n){if(!this.disabled&&!this.readonly){n.preventDefault();let s=(n.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(s){let r=this.parseValue(s);null!=r&&this.insert(n,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(n){return!(!this._minusSign.test(n)&&"-"!==n||(this._minusSign.lastIndex=0,0))}isDecimalSign(n){return!!this._decimal.test(n)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(n){let s=n.search(this._decimal);this._decimal.lastIndex=0;const o=n.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:s,decimalCharIndexWithoutPrefix:o}}getCharIndexes(n){const s=n.search(this._decimal);this._decimal.lastIndex=0;const r=n.search(this._minusSign);this._minusSign.lastIndex=0;const o=n.search(this._suffix);this._suffix.lastIndex=0;const a=n.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:s,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:a}}insert(n,s,r={isDecimalSign:!1,isMinusSign:!1}){const o=s.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let a=this.input?.nativeElement.selectionStart,l=this.input?.nativeElement.selectionEnd,c=this.input?.nativeElement.value.trim();const{decimalCharIndex:u,minusCharIndex:h,suffixCharIndex:p,currencyCharIndex:f}=this.getCharIndexes(c);let m;if(r.isMinusSign)0===a&&(m=c,(-1===h||0!==l)&&(m=this.insertText(c,s,0,l)),this.updateValue(n,m,s,"insert"));else if(r.isDecimalSign)u>0&&a===u?this.updateValue(n,c,s,"insert"):(u>a&&u<l||-1===u&&this.maxFractionDigits)&&(m=this.insertText(c,s,a,l),this.updateValue(n,m,s,"insert"));else{const v=this.numberFormat.resolvedOptions().maximumFractionDigits,_=a!==l?"range-insert":"insert";if(u>0&&a>u){if(a+s.length-(u+1)<=v){const g=f>=a?f-1:p>=a?p:c.length;m=c.slice(0,a)+s+c.slice(a+s.length,g)+c.slice(g),this.updateValue(n,m,s,_)}}else m=this.insertText(c,s,a,l),this.updateValue(n,m,s,_)}}insertText(n,s,r,o){if(2===("."===s?s:s.split(".")).length){const l=n.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,l>0?n.slice(0,r)+this.formatValue(s)+n.slice(o):n||this.formatValue(s)}return o-r===n.length?this.formatValue(s):0===r?s+n.slice(o):o===n.length?n.slice(0,r)+s:n.slice(0,r)+s+n.slice(o)}deleteRange(n,s,r){let o;return o=r-s===n.length?"":0===s?n.slice(r):r===n.length?n.slice(0,s):n.slice(0,s)+n.slice(r),o}initCursor(){let n=this.input?.nativeElement.selectionStart,s=this.input?.nativeElement.value,r=s.length,o=null,a=(this.prefixChar||"").length;s=s.replace(this._prefix,""),n-=a;let l=s.charAt(n);if(this.isNumeralChar(l))return n+a;let c=n-1;for(;c>=0;){if(l=s.charAt(c),this.isNumeralChar(l)){o=c+a;break}c--}if(null!==o)this.input?.nativeElement.setSelectionRange(o+1,o+1);else{for(c=n;c<r;){if(l=s.charAt(c),this.isNumeralChar(l)){o=c+a;break}c++}null!==o&&this.input?.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){const n=this.input?.nativeElement.value;!this.readonly&&n!==V.getSelection()&&this.initCursor()}isNumeralChar(n){return!(1!==n.length||!(this._numeral.test(n)||this._decimal.test(n)||this._group.test(n)||this._minusSign.test(n))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(n,s,r,o){let a=this.input?.nativeElement.value,l=null;null!=s&&(l=this.parseValue(s),l=l||this.allowEmpty?l:0,this.updateInput(l,r,o,s),this.handleOnInput(n,a,l))}handleOnInput(n,s,r){this.isValueChanged(s,r)&&(this.input.nativeElement.value=this.formatValue(r),this.input?.nativeElement.setAttribute("aria-valuenow",r),this.updateModel(n,r),this.onInput.emit({originalEvent:n,value:r,formattedValue:s}))}isValueChanged(n,s){return null===s&&null!==n||null!=s&&s!==("string"==typeof n?this.parseValue(n):n)}validateValue(n){return"-"===n||null==n?null:null!=this.min&&n<this.min?this.min:null!=this.max&&n>this.max?this.max:n}updateInput(n,s,r,o){s=s||"";let a=this.input?.nativeElement.value,l=this.formatValue(n),c=a.length;if(l!==o&&(l=this.concatValues(l,o)),0===c){this.input.nativeElement.value=l,this.input.nativeElement.setSelectionRange(0,0);const h=this.initCursor()+s.length;this.input.nativeElement.setSelectionRange(h,h)}else{let u=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd;if(this.maxlength&&l.length>this.maxlength&&(l=l.slice(0,this.maxlength),u=Math.min(u,this.maxlength),h=Math.min(h,this.maxlength)),this.maxlength&&this.maxlength<l.length)return;this.input.nativeElement.value=l;let p=l.length;if("range-insert"===r){const f=this.parseValue((a||"").slice(0,u)),v=(null!==f?f.toString():"").split("").join(`(${this.groupChar})?`),_=new RegExp(v,"g");_.test(l);const g=s.split("").join(`(${this.groupChar})?`),C=new RegExp(g,"g");C.test(l.slice(_.lastIndex)),h=_.lastIndex+C.lastIndex,this.input.nativeElement.setSelectionRange(h,h)}else if(p===c)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(h+1,h+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(h-1,h-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(h,h);else if("delete-back-single"===r){let f=a.charAt(h-1),m=a.charAt(h),v=c-p,_=this._group.test(m);_&&1===v?h+=1:!_&&this.isNumeralChar(f)&&(h+=-1*v+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(h,h)}else if("-"===a&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const m=this.initCursor()+s.length+1;this.input.nativeElement.setSelectionRange(m,m)}else h+=p-c,this.input.nativeElement.setSelectionRange(h,h)}this.input.nativeElement.setAttribute("aria-valuenow",n)}concatValues(n,s){if(n&&s){let r=s.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?n.replace(this.suffixChar,"").split(this._decimal)[0]+s.replace(this.suffixChar,"").slice(r)+this.suffixChar:-1!==r?n.split(this._decimal)[0]+s.slice(r):n}return n}getDecimalLength(n){if(n){const s=n.split(this._decimal);if(2===s.length)return s[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(n){this.focused=!0,this.onFocus.emit(n)}onInputBlur(n){this.focused=!1;let s=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(s),this.input.nativeElement.setAttribute("aria-valuenow",s),this.updateModel(n,s),this.onBlur.emit(n)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(n,s){const r="blur"===this.ngControl?.control?.updateOn;this.value!==s?(this.value=s,r&&this.focused||this.onModelChange(s)):r&&this.onModelChange(s),this.onModelTouched()}writeValue(n){this.value=n,this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Fn),G(sn),G(Zn),G(ds))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-inputNumber"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&Nt(kZ,5),2&n){let r;We(r=$e())&&(s.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(n,s){2&n&&Kr("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focused)("p-inputnumber-clearable",s.showClear&&"vertical"!=s.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[Jt([dQ]),Ai],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"ngClass","click"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"ngClass","disabled","mousedown","mouseup","mouseleave","keydown","keyup"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(n,s){1&n&&(S(0,"span",0)(1,"input",1,2),ae("input",function(o){return s.onUserInput(o)})("keydown",function(o){return s.onInputKeyDown(o)})("keypress",function(o){return s.onInputKeyPress(o)})("paste",function(o){return s.onPaste(o)})("click",function(){return s.onInputClick()})("focus",function(o){return s.onInputFocus(o)})("blur",function(o){return s.onInputBlur(o)}),E(),x(3,UZ,3,2,"ng-container",3),x(4,ZZ,7,14,"span",4),x(5,iQ,3,7,"button",5),x(6,cQ,3,7,"button",5),E()),2&n&&(Ne(s.styleClass),y("ngClass",qi(28,uQ,s.showButtons&&"stacked"===s.buttonLayout,s.showButtons&&"horizontal"===s.buttonLayout,s.showButtons&&"vertical"===s.buttonLayout))("ngStyle",s.style),b(1),Ne(s.inputStyleClass),y("ngClass","p-inputnumber-input")("ngStyle",s.inputStyle)("value",s.formattedValue())("disabled",s.disabled)("readonly",s.readonly),pe("placeholder",s.placeholder)("title",s.title)("id",s.inputId)("size",s.size)("name",s.name)("autocomplete",s.autocomplete)("maxlength",s.maxlength)("tabindex",s.tabindex)("aria-label",s.ariaLabel)("aria-required",s.ariaRequired)("required",s.required)("min",s.min)("max",s.max),b(2),y("ngIf","vertical"!=s.buttonLayout&&s.showClear&&(s.value||0===s.value)),b(1),y("ngIf",s.showButtons&&"stacked"===s.buttonLayout),b(1),y("ngIf",s.showButtons&&"stacked"!==s.buttonLayout),b(1),y("ngIf",s.showButtons&&"stacked"!==s.buttonLayout))},dependencies:function(){return[Jn,On,Nn,ri,LZ,uP,Qi,xP,TP]},styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0})),e})(),Rm=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,db,xc,Qi,xP,TP,pn]})),e})();const hQ=["headerchkbox"],pQ=["filter"];function fQ(i,e){1&i&&Ie(0)}function mQ(i,e){if(1&i&&(S(0,"div",7),zn(1),x(2,fQ,1,0,"ng-container",8),E()),2&i){const t=T();b(2),y("ngTemplateOutlet",t.headerTemplate)}}function gQ(i,e){1&i&&ee(0,"CheckIcon",19),2&i&&y("styleClass","p-checkbox-icon")}function _Q(i,e){}function vQ(i,e){1&i&&x(0,_Q,0,0,"ng-template")}function yQ(i,e){if(1&i&&(S(0,"span",20),x(1,vQ,1,0,null,8),E()),2&i){const t=T(4);b(1),y("ngTemplateOutlet",t.checkIconTemplate)}}function bQ(i,e){if(1&i&&(Oe(0),x(1,gQ,1,1,"CheckIcon",17),x(2,yQ,2,1,"span",18),Le()),2&i){const t=T(3);b(1),y("ngIf",!t.checkIconTemplate),b(1),y("ngIf",t.checkIconTemplate)}}const EP=function(i){return{"p-checkbox-disabled":i}},wQ=function(i,e,t){return{"p-highlight":i,"p-focus":e,"p-disabled":t}};function CQ(i,e){if(1&i){const t=Ge();S(0,"div",12)(1,"div",13)(2,"input",14),ae("focus",function(){return $(t),j(T(2).onHeaderCheckboxFocus())})("blur",function(){return $(t),j(T(2).onHeaderCheckboxBlur())})("keydown.space",function(s){return $(t),j(T(2).toggleAll(s))}),E()(),S(3,"div",15,16),ae("click",function(s){return $(t),j(T(2).toggleAll(s))}),x(5,bQ,3,2,"ng-container",3),E()()}if(2&i){const t=T(2);y("ngClass",st(5,EP,t.disabled||t.toggleAllDisabled)),b(2),y("checked",t.allChecked)("disabled",t.disabled||t.toggleAllDisabled),b(1),y("ngClass",qi(7,wQ,t.allChecked,t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),b(2),y("ngIf",t.allChecked)}}function xQ(i,e){1&i&&Ie(0)}const TQ=function(i){return{options:i}};function SQ(i,e){if(1&i&&(Oe(0),x(1,xQ,1,0,"ng-container",21),Le()),2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",st(2,TQ,t.filterOptions))}}function MQ(i,e){1&i&&ee(0,"SearchIcon",19),2&i&&y("styleClass","p-listbox-filter-icon")}function EQ(i,e){}function IQ(i,e){1&i&&x(0,EQ,0,0,"ng-template")}function DQ(i,e){if(1&i&&(S(0,"span",27),x(1,IQ,1,0,null,8),E()),2&i){const t=T(4);b(1),y("ngTemplateOutlet",t.filterIconTemplate)}}function AQ(i,e){if(1&i){const t=Ge();S(0,"div",23)(1,"input",24,25),ae("input",function(s){return $(t),j(T(3).onFilter(s))}),E(),x(3,MQ,1,1,"SearchIcon",17),x(4,DQ,2,1,"span",26),E()}if(2&i){const t=T(3);b(1),y("value",t.filterValue||"")("disabled",t.disabled),pe("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel),b(2),y("ngIf",!t.filterIconTemplate),b(1),y("ngIf",t.filterIconTemplate)}}function PQ(i,e){1&i&&x(0,AQ,5,6,"div",22),2&i&&y("ngIf",T(2).filter)}function RQ(i,e){if(1&i&&(S(0,"div",7),x(1,CQ,6,11,"div",9),x(2,SQ,2,4,"ng-container",10),x(3,PQ,1,1,"ng-template",null,11,bi),E()),2&i){const t=xn(4),n=T();b(1),y("ngIf",n.checkbox&&n.multiple&&n.showToggleAll),b(1),y("ngIf",n.filterTemplate)("ngIfElse",t)}}function OQ(i,e){if(1&i&&(S(0,"span"),H(1),E()),2&i){const t=T().$implicit,n=T(2);b(1),cn(n.getOptionGroupLabel(t)||"empty")}}function LQ(i,e){1&i&&Ie(0)}function kQ(i,e){1&i&&Ie(0)}const hb=function(i){return{$implicit:i}};function FQ(i,e){if(1&i&&(S(0,"li",29),x(1,OQ,2,1,"span",3),x(2,LQ,1,0,"ng-container",21),E(),x(3,kQ,1,0,"ng-container",21)),2&i){const t=e.$implicit,n=T(2),s=xn(8);b(1),y("ngIf",!n.groupTemplate),b(1),y("ngTemplateOutlet",n.groupTemplate)("ngTemplateOutletContext",st(5,hb,t)),b(1),y("ngTemplateOutlet",s)("ngTemplateOutletContext",st(7,hb,n.getOptionGroupChildren(t)))}}function NQ(i,e){if(1&i&&(Oe(0),x(1,FQ,4,9,"ng-template",28),Le()),2&i){const t=T();b(1),y("ngForOf",t.optionsToRender)}}function VQ(i,e){1&i&&Ie(0)}function BQ(i,e){if(1&i&&(Oe(0),x(1,VQ,1,0,"ng-container",21),Le()),2&i){const t=T(),n=xn(8);b(1),y("ngTemplateOutlet",n)("ngTemplateOutletContext",st(2,hb,t.optionsToRender))}}function UQ(i,e){1&i&&ee(0,"CheckIcon",19),2&i&&y("styleClass","p-checkbox-icon")}function HQ(i,e){}function zQ(i,e){1&i&&x(0,HQ,0,0,"ng-template")}function GQ(i,e){if(1&i&&(S(0,"span",20),x(1,zQ,1,0,null,8),E()),2&i){const t=T(5);b(1),y("ngTemplateOutlet",t.checkIconTemplate)}}function WQ(i,e){if(1&i&&(Oe(0),x(1,UQ,1,1,"CheckIcon",17),x(2,GQ,2,1,"span",18),Le()),2&i){const t=T(4);b(1),y("ngIf",!t.checkIconTemplate),b(1),y("ngIf",t.checkIconTemplate)}}const $Q=function(i){return{"p-highlight":i}};function jQ(i,e){if(1&i&&(S(0,"div",12)(1,"div",32),x(2,WQ,3,2,"ng-container",3),E()()),2&i){const t=T().$implicit,n=T(2);y("ngClass",st(3,EP,n.disabled||n.isOptionDisabled(t))),b(1),y("ngClass",st(5,$Q,n.isSelected(t))),b(1),y("ngIf",n.isSelected(t))}}function qQ(i,e){if(1&i&&(S(0,"span"),H(1),E()),2&i){const t=T().$implicit,n=T(2);b(1),cn(n.getOptionLabel(t))}}function YQ(i,e){1&i&&Ie(0)}const KQ=function(i,e){return{"p-listbox-item":!0,"p-highlight":i,"p-disabled":e}},XQ=function(i,e){return{$implicit:i,index:e}};function ZQ(i,e){if(1&i){const t=Ge();S(0,"li",31),ae("click",function(s){const o=$(t).$implicit;return j(T(2).onOptionClick(s,o))})("dblclick",function(s){const o=$(t).$implicit;return j(T(2).onOptionDoubleClick(s,o))})("touchend",function(){const r=$(t).$implicit;return j(T(2).onOptionTouchEnd(r))})("keydown",function(s){const o=$(t).$implicit;return j(T(2).onOptionKeyDown(s,o))}),x(1,jQ,3,7,"div",9),x(2,qQ,2,1,"span",3),x(3,YQ,1,0,"ng-container",21),E()}if(2&i){const t=e.$implicit,n=e.index,s=T(2);y("ngClass",vn(8,KQ,s.isSelected(t),s.isOptionDisabled(t))),pe("tabindex",s.disabled||s.isOptionDisabled(t)?null:"0")("aria-label",s.getOptionLabel(t))("aria-selected",s.isSelected(t)),b(1),y("ngIf",s.checkbox&&s.multiple),b(1),y("ngIf",!s.itemTemplate),b(1),y("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",vn(11,XQ,t,n))}}function QQ(i,e){1&i&&x(0,ZQ,4,14,"li",30),2&i&&y("ngForOf",e.$implicit)}function JQ(i,e){if(1&i&&(Oe(0),H(1),Le()),2&i){const t=T(2);b(1),gn(" ",t.emptyFilterMessageLabel," ")}}function eJ(i,e){1&i&&Ie(0,null,34)}function tJ(i,e){if(1&i&&(S(0,"li",33),x(1,JQ,2,1,"ng-container",10),x(2,eJ,2,0,"ng-container",8),E()),2&i){const t=T();b(1),y("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),b(1),y("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function nJ(i,e){if(1&i&&(Oe(0),H(1),Le()),2&i){const t=T(2);b(1),gn(" ",t.emptyMessageLabel," ")}}function iJ(i,e){1&i&&Ie(0,null,35)}function sJ(i,e){if(1&i&&(S(0,"li",33),x(1,nJ,2,1,"ng-container",10),x(2,iJ,2,0,"ng-container",8),E()),2&i){const t=T();b(1),y("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),b(1),y("ngTemplateOutlet",t.emptyTemplate)}}function rJ(i,e){1&i&&Ie(0)}function oJ(i,e){if(1&i&&(S(0,"div",36),zn(1,1),x(2,rJ,1,0,"ng-container",8),E()),2&i){const t=T();b(2),y("ngTemplateOutlet",t.footerTemplate)}}const aJ=[[["p-header"]],[["p-footer"]]],lJ=function(i){return{"p-listbox p-component":!0,"p-disabled":i}},cJ=["p-header","p-footer"],uJ={provide:mi,useExisting:qt(()=>dJ),multi:!0};let dJ=(()=>{var i;class e{get options(){return this._options}set options(n){this._options=n,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(n){this._filterValue=n,this.activateFilter()}constructor(n,s,r,o){d(this,"el",void 0),d(this,"cd",void 0),d(this,"filterService",void 0),d(this,"config",void 0),d(this,"multiple",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"listStyle",void 0),d(this,"listStyleClass",void 0),d(this,"readonly",void 0),d(this,"disabled",void 0),d(this,"checkbox",!1),d(this,"filter",!1),d(this,"filterBy",void 0),d(this,"filterMatchMode","contains"),d(this,"filterLocale",void 0),d(this,"metaKeySelection",!0),d(this,"dataKey",void 0),d(this,"showToggleAll",!0),d(this,"optionLabel",void 0),d(this,"optionValue",void 0),d(this,"optionGroupChildren","items"),d(this,"optionGroupLabel",void 0),d(this,"optionDisabled",void 0),d(this,"ariaFilterLabel",void 0),d(this,"filterPlaceHolder",void 0),d(this,"emptyFilterMessage",void 0),d(this,"emptyMessage",void 0),d(this,"group",void 0),d(this,"onChange",new me),d(this,"onClick",new me),d(this,"onDblClick",new me),d(this,"headerCheckboxViewChild",void 0),d(this,"filterViewChild",void 0),d(this,"headerFacet",void 0),d(this,"footerFacet",void 0),d(this,"templates",void 0),d(this,"_options",void 0),d(this,"itemTemplate",void 0),d(this,"groupTemplate",void 0),d(this,"headerTemplate",void 0),d(this,"filterTemplate",void 0),d(this,"footerTemplate",void 0),d(this,"emptyFilterTemplate",void 0),d(this,"emptyTemplate",void 0),d(this,"filterIconTemplate",void 0),d(this,"checkIconTemplate",void 0),d(this,"_filterValue",void 0),d(this,"_filteredOptions",void 0),d(this,"filterOptions",void 0),d(this,"filtered",void 0),d(this,"value",void 0),d(this,"onModelChange",()=>{}),d(this,"onModelTouched",()=>{}),d(this,"optionTouched",void 0),d(this,"focus",void 0),d(this,"headerCheckboxFocus",void 0),d(this,"translationSubscription",void 0),this.el=n,this.cd=s,this.filterService=r,this.config=o}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:n=>this.onFilter(n),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"item":default:this.itemTemplate=n.template;break;case"group":this.groupTemplate=n.template;break;case"header":this.headerTemplate=n.template;break;case"filter":this.filterTemplate=n.template;break;case"footer":this.footerTemplate=n.template;break;case"empty":this.emptyTemplate=n.template;break;case"emptyfilter":this.emptyFilterTemplate=n.template;break;case"filtericon":this.filterIconTemplate=n.template;break;case"checkicon":this.checkIconTemplate=n.template}})}getOptionLabel(n){return this.optionLabel?Se.resolveFieldData(n,this.optionLabel):null!=n.label?n.label:n}getOptionGroupChildren(n){return this.optionGroupChildren?Se.resolveFieldData(n,this.optionGroupChildren):n.items}getOptionGroupLabel(n){return this.optionGroupLabel?Se.resolveFieldData(n,this.optionGroupLabel):null!=n.label?n.label:n}getOptionValue(n){return this.optionValue?Se.resolveFieldData(n,this.optionValue):this.optionLabel||void 0===n.value?n:n.value}isOptionDisabled(n){return this.optionDisabled?Se.resolveFieldData(n,this.optionDisabled):void 0!==n.disabled&&n.disabled}writeValue(n){this.value=n,this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}onOptionClick(n,s){this.disabled||this.isOptionDisabled(s)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(n,s):this.onOptionClickMultiple(n,s):this.onOptionClickSingle(n,s),this.onClick.emit({originalEvent:n,option:s,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(n){this.disabled||this.isOptionDisabled(n)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(n,s){this.disabled||this.isOptionDisabled(s)||this.readonly||this.onDblClick.emit({originalEvent:n,option:s,value:this.value})}onOptionClickSingle(n,s){let r=this.isSelected(s),o=!1;!this.optionTouched&&this.metaKeySelection?r?(n.metaKey||n.ctrlKey)&&(this.value=null,o=!0):(this.value=this.getOptionValue(s),o=!0):(this.value=r?null:this.getOptionValue(s),o=!0),o&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value}))}onOptionClickMultiple(n,s){let r=this.isSelected(s),o=!1;if(!this.optionTouched&&this.metaKeySelection){let l=n.metaKey||n.ctrlKey;r?(l?this.removeOption(s):this.value=[this.getOptionValue(s)],o=!0):(this.value=l&&this.value||[],this.value=[...this.value,this.getOptionValue(s)],o=!0)}else r?this.removeOption(s):this.value=[...this.value||[],this.getOptionValue(s)],o=!0;o&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value}))}onOptionClickCheckbox(n,s){this.disabled||this.readonly||(this.isSelected(s)?this.removeOption(s):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(s)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value}))}removeOption(n){this.value=this.value.filter(s=>!Se.equals(s,this.getOptionValue(n),this.dataKey))}isSelected(n){let s=!1,r=this.getOptionValue(n);if(this.multiple){if(this.value)for(let o of this.value)if(Se.equals(o,r,this.dataKey)){s=!0;break}}else s=Se.equals(this.value,r,this.dataKey);return s}get allChecked(){let n=this.optionsToRender;if(!n||0===n.length)return!1;{let s=0,r=0,o=0,a=this.group?0:this.optionsToRender.length;for(let l of n)if(this.group)for(let c of this.getOptionGroupChildren(l)){let u=this.isOptionDisabled(c),h=this.isSelected(c);if(u)h?s++:r++;else{if(!h)return!1;o++}a++}else{let c=this.isOptionDisabled(l),u=this.isSelected(l);if(c)u?s++:r++;else{if(!u)return!1;o++}}return a===s||a===o||o&&a===o+r+s}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(gs.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(gs.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilter(n){this._filterValue=n.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let n=(this.filterBy||this.optionLabel||"label").split(","),s=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),n,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&s.push({...r,[this.optionGroupChildren]:o})}this._filteredOptions=s}else this._filteredOptions=this._options.filter(n=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(n),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let n=this.optionsToRender;if(!n||0===n.length)return!0;for(let s of n)if(!this.isOptionDisabled(s))return!1;return!0}toggleAll(n){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value}),n.preventDefault())}checkAll(){let s=[];this.optionsToRender.forEach(r=>{if(this.group){let o=this.getOptionGroupChildren(r);o&&o.forEach(a=>{let l=this.isOptionDisabled(a);(!l||l&&this.isSelected(a))&&s.push(this.getOptionValue(a))})}else{let o=this.isOptionDisabled(r);(!o||o&&this.isSelected(r))&&s.push(this.getOptionValue(r))}}),this.value=s}uncheckAll(){let s=[];this.optionsToRender.forEach(r=>{this.group?r.items&&r.items.forEach(o=>{this.isOptionDisabled(o)&&this.isSelected(o)&&s.push(this.getOptionValue(o))}):this.isOptionDisabled(r)&&this.isSelected(r)&&s.push(this.getOptionValue(r))}),this.value=s}onOptionKeyDown(n,s){if(this.readonly)return;let r=n.currentTarget;switch(n.which){case 40:var o=this.findNextItem(r);o&&o.focus(),n.preventDefault();break;case 38:var a=this.findPrevItem(r);a&&a.focus(),n.preventDefault();break;case 13:this.onOptionClick(n,s),n.preventDefault()}}findNextItem(n){let s=n.nextElementSibling;return s?V.hasClass(s,"p-disabled")||V.isHidden(s)||V.hasClass(s,"p-listbox-item-group")?this.findNextItem(s):s:null}findPrevItem(n){let s=n.previousElementSibling;return s?V.hasClass(s,"p-disabled")||V.isHidden(s)||V.hasClass(s,"p-listbox-item-group")?this.findPrevItem(s):s:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(sn),G(Zn),G(tb),G(Wo))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-listbox"]],contentQueries:function(n,s,r){if(1&n&&(yn(r,sb,5),yn(r,Tm,5),yn(r,Bn,4)),2&n){let o;We(o=$e())&&(s.headerFacet=o.first),We(o=$e())&&(s.footerFacet=o.first),We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&(Nt(hQ,5),Nt(pQ,5)),2&n){let r;We(r=$e())&&(s.headerCheckboxViewChild=r.first),We(r=$e())&&(s.filterViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[Jt([uJ])],ngContentSelectors:cJ,decls:12,vars:18,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-empty-message",4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],["class","p-listbox-filter-icon",4,"ngIf"],[1,"p-listbox-filter-icon"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(n,s){1&n&&(hs(aJ),S(0,"div",0),x(1,mQ,3,1,"div",1),x(2,RQ,5,3,"div",1),S(3,"div",0)(4,"ul",2),x(5,NQ,2,1,"ng-container",3),x(6,BQ,2,4,"ng-container",3),x(7,QQ,1,1,"ng-template",null,4,bi),x(9,tJ,3,3,"li",5),x(10,sJ,3,3,"li",5),E()(),x(11,oJ,3,1,"div",6),E()),2&n&&(Ne(s.styleClass),y("ngClass",st(16,lJ,s.disabled))("ngStyle",s.style),b(1),y("ngIf",s.headerFacet||s.headerTemplate),b(1),y("ngIf",s.checkbox&&s.multiple&&s.showToggleAll||s.filter),b(1),Ne(s.listStyleClass),y("ngClass","p-listbox-list-wrapper")("ngStyle",s.listStyle),b(1),pe("aria-multiselectable",s.multiple),b(1),y("ngIf",s.group),b(1),y("ngIf",!s.group),b(3),y("ngIf",s.hasFilter()&&s.isEmpty()),b(1),y("ngIf",!s.hasFilter()&&s.isEmpty()),b(1),y("ngIf",s.footerFacet||s.footerTemplate))},dependencies:function(){return[Jn,Ir,On,Nn,ri,pr,Im,Or]},styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0})),e})(),hJ=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,pn,ks,Im,Or,pn]})),e})(),pb=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[ot,nn],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1)(3,"path",2)(4,"path",3),E(),S(5,"defs")(6,"clipPath",4),ee(7,"rect",5),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(5),y("id",s.pathId))},encapsulation:2})),e})(),fb=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["InfoCircleIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})(),mb=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["TimesCircleIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})(),AJ=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,ks,Or,fb,mb,pb,Qi]})),e})();function PJ(i,e){if(1&i&&(S(0,"span",10),H(1),E()),2&i){const t=T(2);pe("id",t.id+"_header"),b(1),cn(t.header)}}function RJ(i,e){1&i&&Ie(0)}function OJ(i,e){}function LJ(i,e){1&i&&x(0,OJ,0,0,"ng-template")}function kJ(i,e){if(1&i&&ee(0,"span",16),2&i){const t=T(5);Ne(t.expandIcon),y("ngClass",t.iconClass)}}function FJ(i,e){1&i&&ee(0,"MinusIcon",17),2&i&&y("styleClass",T(5).iconClass)}function NJ(i,e){if(1&i&&(Oe(0),x(1,kJ,1,3,"span",14),x(2,FJ,1,1,"MinusIcon",15),Le()),2&i){const t=T(4);b(1),y("ngIf",t.expandIcon),b(1),y("ngIf",!t.expandIcon)}}function VJ(i,e){if(1&i&&ee(0,"span",16),2&i){const t=T(5);Ne(t.collapseIcon),y("ngClass",t.iconClass)}}function BJ(i,e){1&i&&ee(0,"PlusIcon",17),2&i&&y("styleClass",T(5).iconClass)}function UJ(i,e){if(1&i&&(Oe(0),x(1,VJ,1,3,"span",14),x(2,BJ,1,1,"PlusIcon",15),Le()),2&i){const t=T(4);b(1),y("ngIf",t.collapseIcon),b(1),y("ngIf",!t.collapseIcon)}}function HJ(i,e){if(1&i&&(Oe(0),x(1,NJ,3,2,"ng-container",12),x(2,UJ,3,2,"ng-container",12),Le()),2&i){const t=T(3);b(1),y("ngIf",!t.collapsed),b(1),y("ngIf",t.collapsed)}}function zJ(i,e){}function GJ(i,e){1&i&&x(0,zJ,0,0,"ng-template")}const WJ=function(i){return{$implicit:i}};function $J(i,e){if(1&i){const t=Ge();S(0,"button",11),ae("click",function(s){return $(t),j(T(2).onIconClick(s))})("keydown",function(s){return $(t),j(T(2).onKeyDown(s))}),x(1,HJ,3,2,"ng-container",12),x(2,GJ,1,0,null,13),E()}if(2&i){const t=T(2);pe("id",t.id+"_header")("aria-label",t.buttonAriaLabel)("aria-controls",t.id+"_content")("aria-expanded",!t.collapsed),b(1),y("ngIf",!t.headerIconTemplate),b(1),y("ngTemplateOutlet",t.headerIconTemplate)("ngTemplateOutletContext",st(7,WJ,t.collapsed))}}const jJ=function(i,e,t){return{"p-panel-icons-start":i,"p-panel-icons-end":e,"p-panel-icons-center":t}};function qJ(i,e){if(1&i){const t=Ge();S(0,"div",6),ae("click",function(s){return $(t),j(T().onHeaderClick(s))}),x(1,PJ,2,2,"span",7),zn(2,1),x(3,RJ,1,0,"ng-container",4),S(4,"div",8),x(5,LJ,1,0,null,4),x(6,$J,3,9,"button",9),E()()}if(2&i){const t=T();pe("id",t.id+"-titlebar"),b(1),y("ngIf",t.header),b(2),y("ngTemplateOutlet",t.headerTemplate),b(1),y("ngClass",qi(6,jJ,"start"===t.iconPos,"end"===t.iconPos,"center"===t.iconPos)),b(1),y("ngTemplateOutlet",t.iconTemplate),b(1),y("ngIf",t.toggleable)}}function YJ(i,e){1&i&&Ie(0)}function KJ(i,e){1&i&&Ie(0)}function XJ(i,e){if(1&i&&(S(0,"div",18),zn(1,2),x(2,KJ,1,0,"ng-container",4),E()),2&i){const t=T();b(2),y("ngTemplateOutlet",t.footerTemplate)}}const ZJ=["*",[["p-header"]],[["p-footer"]]],QJ=function(i,e){return{"p-panel p-component":!0,"p-panel-toggleable":i,"p-panel-expanded":e}},JJ=function(i){return{transitionParams:i,height:"0",opacity:"0"}},eee=function(i){return{value:"hidden",params:i}},tee=function(i){return{transitionParams:i,height:"*",opacity:"1"}},nee=function(i){return{value:"visible",params:i}},iee=["*","p-header","p-footer"];let see=(()=>{var i;class e{get id(){return Vn()}get buttonAriaLabel(){return this.header}constructor(n){d(this,"el",void 0),d(this,"toggleable",void 0),d(this,"header",void 0),d(this,"collapsed",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"iconPos","end"),d(this,"expandIcon",void 0),d(this,"collapseIcon",void 0),d(this,"showHeader",!0),d(this,"toggler","icon"),d(this,"transitionOptions","400ms cubic-bezier(0.86, 0, 0.07, 1)"),d(this,"collapsedChange",new me),d(this,"onBeforeToggle",new me),d(this,"onAfterToggle",new me),d(this,"footerFacet",void 0),d(this,"templates",void 0),d(this,"iconTemplate",void 0),d(this,"animating",void 0),d(this,"headerTemplate",void 0),d(this,"contentTemplate",void 0),d(this,"footerTemplate",void 0),d(this,"headerIconTemplate",void 0),this.el=n}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"header":this.headerTemplate=n.template;break;case"content":default:this.contentTemplate=n.template;break;case"footer":this.footerTemplate=n.template;break;case"icons":this.iconTemplate=n.template;break;case"headericons":this.headerIconTemplate=n.template}})}onHeaderClick(n){"header"===this.toggler&&this.toggle(n)}onIconClick(n){"icon"===this.toggler&&this.toggle(n)}toggle(n){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:n,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand():this.collapse()),n.preventDefault()}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onKeyDown(n){("Enter"===n.code||"Space"===n.code)&&(this.toggle(n),n.preventDefault())}onToggleDone(n){this.animating=!1,this.onAfterToggle.emit({originalEvent:n,collapsed:this.collapsed})}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(sn))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-panel"]],contentQueries:function(n,s,r){if(1&n&&(yn(r,Tm,5),yn(r,Bn,4)),2&n){let o;We(o=$e())&&(s.footerFacet=o.first),We(o=$e())&&(s.templates=o)}},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:iee,decls:7,vars:24,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content",3,"id"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons",3,"ngClass"],["pRipple","","type","button","role","button","class","p-panel-header-icon p-panel-toggler p-link",3,"click","keydown",4,"ngIf"],[1,"p-panel-title"],["pRipple","","type","button","role","button",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"ngClass"],[3,"styleClass"],[1,"p-panel-footer"]],template:function(n,s){1&n&&(hs(ZJ),S(0,"div",0),x(1,qJ,7,10,"div",1),S(2,"div",2),ae("@panelContent.done",function(o){return s.onToggleDone(o)}),S(3,"div",3),zn(4),x(5,YJ,1,0,"ng-container",4),E(),x(6,XJ,3,1,"div",5),E()()),2&n&&(Ne(s.styleClass),y("ngClass",vn(13,QJ,s.toggleable,!s.collapsed&&s.toggleable))("ngStyle",s.style),pe("id",s.id)("data-pc-name","panel"),b(1),y("ngIf",s.showHeader),b(1),y("id",s.id+"_content")("@panelContent",s.collapsed?st(18,eee,st(16,JJ,s.animating?s.transitionOptions:"0ms")):st(22,nee,st(20,tee,s.animating?s.transitionOptions:"0ms"))),pe("aria-labelledby",s.id+"_header")("aria-hidden",s.collapsed),b(3),y("ngTemplateOutlet",s.contentTemplate),b(1),y("ngIf",s.footerFacet||s.footerTemplate))},dependencies:function(){return[Jn,On,Nn,ri,pr,ub,cb]},styles:[".p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[ac("panelContent",[vd("hidden",wi({height:"0"})),vd("void",wi({height:"{{height}}"}),{params:{height:"0"}}),vd("visible",wi({height:"*"})),ms("visible <=> hidden",[Rs("{{transitionParams}}")]),ms("void => hidden",Rs("{{transitionParams}}")),ms("void => visible",Rs("{{transitionParams}}"))])]},changeDetection:0})),e})(),ree=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,pn,ks,ub,cb,pn]})),e})(),fee=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,yc,Mm,yc,Mm]})),e})(),Om=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})(),Lm=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["ChevronRightIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})(),IP=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["ChevronUpIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})(),DP=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["CalendarIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})();const mee=["container"],gee=["inputfield"],_ee=["contentWrapper"];function vee(i,e){if(1&i){const t=Ge();S(0,"TimesIcon",10),ae("click",function(){return $(t),j(T(3).clear())}),E()}2&i&&y("styleClass","p-calendar-clear-icon")}function yee(i,e){}function bee(i,e){1&i&&x(0,yee,0,0,"ng-template")}function wee(i,e){if(1&i){const t=Ge();S(0,"span",11),ae("click",function(){return $(t),j(T(3).clear())}),x(1,bee,1,0,null,12),E()}if(2&i){const t=T(3);b(1),y("ngTemplateOutlet",t.clearIconTemplate)}}function Cee(i,e){if(1&i&&(Oe(0),x(1,vee,1,1,"TimesIcon",8),x(2,wee,2,1,"span",9),Le()),2&i){const t=T(2);b(1),y("ngIf",!t.clearIconTemplate),b(1),y("ngIf",t.clearIconTemplate)}}function xee(i,e){1&i&&ee(0,"span",15),2&i&&y("ngClass",T(3).icon)}function Tee(i,e){1&i&&ee(0,"CalendarIcon")}function See(i,e){}function Mee(i,e){1&i&&x(0,See,0,0,"ng-template")}function Eee(i,e){if(1&i&&(Oe(0),x(1,Tee,1,0,"CalendarIcon",6),x(2,Mee,1,0,null,12),Le()),2&i){const t=T(3);b(1),y("ngIf",!t.triggerIconTemplate),b(1),y("ngTemplateOutlet",t.triggerIconTemplate)}}function Iee(i,e){if(1&i){const t=Ge();S(0,"button",13),ae("click",function(s){$(t),T();const r=xn(1);return j(T().onButtonClick(s,r))}),x(1,xee,1,1,"span",14),x(2,Eee,3,2,"ng-container",6),E()}if(2&i){const t=T(2);y("disabled",t.disabled),pe("aria-label",t.iconAriaLabel),b(1),y("ngIf",t.icon),b(1),y("ngIf",!t.icon)}}function Dee(i,e){if(1&i){const t=Ge();S(0,"input",4,5),ae("focus",function(s){return $(t),j(T().onInputFocus(s))})("keydown",function(s){return $(t),j(T().onInputKeydown(s))})("click",function(){return $(t),j(T().onInputClick())})("blur",function(s){return $(t),j(T().onInputBlur(s))})("input",function(s){return $(t),j(T().onUserInput(s))}),E(),x(2,Cee,3,2,"ng-container",6),x(3,Iee,3,4,"button",7)}if(2&i){const t=T();Ne(t.inputStyleClass),y("value",t.inputFieldValue)("readonly",t.readonlyInput)("ngStyle",t.inputStyle)("placeholder",t.placeholder||"")("disabled",t.disabled)("ngClass","p-inputtext p-component"),pe("id",t.inputId)("name",t.name)("required",t.required)("aria-required",t.required)("tabindex",t.tabindex)("inputmode",t.touchUI?"off":null)("aria-labelledby",t.ariaLabelledBy),b(2),y("ngIf",t.showClear&&!t.disabled&&null!=t.value),b(1),y("ngIf",t.showIcon)}}function Aee(i,e){1&i&&Ie(0)}function Pee(i,e){1&i&&ee(0,"ChevronLeftIcon",37),2&i&&y("styleClass","p-datepicker-prev-icon")}function Ree(i,e){}function Oee(i,e){1&i&&x(0,Ree,0,0,"ng-template")}function Lee(i,e){if(1&i&&(S(0,"span",38),x(1,Oee,1,0,null,12),E()),2&i){const t=T(5);b(1),y("ngTemplateOutlet",t.previousIconTemplate)}}function kee(i,e){if(1&i){const t=Ge();S(0,"button",35),ae("keydown",function(s){return $(t),j(T(4).onContainerButtonKeydown(s))})("click",function(s){return $(t),j(T(4).onPrevButtonClick(s))}),x(1,Pee,1,1,"ChevronLeftIcon",32),x(2,Lee,2,1,"span",36),E()}if(2&i){const t=T(4);b(1),y("ngIf",!t.previousIconTemplate),b(1),y("ngIf",t.previousIconTemplate)}}function Fee(i,e){if(1&i){const t=Ge();S(0,"button",39),ae("click",function(s){return $(t),j(T(4).switchToMonthView(s))})("keydown",function(s){return $(t),j(T(4).onContainerButtonKeydown(s))}),H(1),E()}if(2&i){const t=T().$implicit,n=T(3);y("disabled",n.switchViewButtonDisabled()),b(1),gn(" ",n.getMonthName(t.month)," ")}}function Nee(i,e){if(1&i){const t=Ge();S(0,"button",40),ae("click",function(s){return $(t),j(T(4).switchToYearView(s))})("keydown",function(s){return $(t),j(T(4).onContainerButtonKeydown(s))}),H(1),E()}if(2&i){const t=T().$implicit,n=T(3);y("disabled",n.switchViewButtonDisabled()),b(1),gn(" ",n.getYear(t)," ")}}function Vee(i,e){if(1&i&&(Oe(0),H(1),Le()),2&i){const t=T(5);b(1),Sv("",t.yearPickerValues()[0]," - ",t.yearPickerValues()[t.yearPickerValues().length-1],"")}}function Bee(i,e){1&i&&Ie(0)}const AP=function(i){return{$implicit:i}};function Uee(i,e){if(1&i&&(S(0,"span",41),x(1,Vee,2,2,"ng-container",6),x(2,Bee,1,0,"ng-container",42),E()),2&i){const t=T(4);b(1),y("ngIf",!t.decadeTemplate),b(1),y("ngTemplateOutlet",t.decadeTemplate)("ngTemplateOutletContext",st(3,AP,t.yearPickerValues))}}function Hee(i,e){1&i&&ee(0,"ChevronRightIcon",37),2&i&&y("styleClass","p-datepicker-next-icon")}function zee(i,e){}function Gee(i,e){1&i&&x(0,zee,0,0,"ng-template")}function Wee(i,e){if(1&i&&(S(0,"span",43),x(1,Gee,1,0,null,12),E()),2&i){const t=T(4);b(1),y("ngTemplateOutlet",t.nextIconTemplate)}}function $ee(i,e){if(1&i&&(S(0,"th",49)(1,"span"),H(2),E()()),2&i){const t=T(5);b(2),cn(t.getTranslation("weekHeader"))}}function jee(i,e){if(1&i&&(S(0,"th",50)(1,"span"),H(2),E()()),2&i){const t=e.$implicit;b(2),cn(t)}}function qee(i,e){if(1&i&&(S(0,"td",53)(1,"span",54),H(2),E()()),2&i){const t=T().index,n=T(2).$implicit;b(2),gn(" ",n.weekNumbers[t]," ")}}function Yee(i,e){if(1&i&&(Oe(0),H(1),Le()),2&i){const t=T(2).$implicit;b(1),cn(t.day)}}function Kee(i,e){1&i&&Ie(0)}const gb=function(i,e){return{"p-highlight":i,"p-disabled":e}};function Xee(i,e){if(1&i){const t=Ge();Oe(0),S(1,"span",55),ae("click",function(s){$(t);const r=T().$implicit;return j(T(6).onDateSelect(s,r))})("keydown",function(s){$(t);const r=T().$implicit,o=T(3).index;return j(T(3).onDateCellKeydown(s,r,o))}),x(2,Yee,2,1,"ng-container",6),x(3,Kee,1,0,"ng-container",42),E(),Le()}if(2&i){const t=T().$implicit,n=T(6);b(1),y("ngClass",vn(4,gb,n.isSelected(t),!t.selectable)),b(1),y("ngIf",!n.dateTemplate),b(1),y("ngTemplateOutlet",n.dateTemplate)("ngTemplateOutletContext",st(7,AP,t))}}const Zee=function(i,e){return{"p-datepicker-other-month":i,"p-datepicker-today":e}};function Qee(i,e){if(1&i&&(S(0,"td",15),x(1,Xee,4,9,"ng-container",6),E()),2&i){const t=e.$implicit,n=T(6);y("ngClass",vn(2,Zee,t.otherMonth,t.today)),b(1),y("ngIf",!t.otherMonth||n.showOtherMonths)}}function Jee(i,e){if(1&i&&(S(0,"tr"),x(1,qee,3,1,"td",51),x(2,Qee,2,5,"td",52),E()),2&i){const t=e.$implicit,n=T(5);b(1),y("ngIf",n.showWeek),b(1),y("ngForOf",t)}}function ete(i,e){if(1&i&&(S(0,"div",44)(1,"table",45)(2,"thead")(3,"tr"),x(4,$ee,3,1,"th",46),x(5,jee,3,1,"th",47),E()(),S(6,"tbody"),x(7,Jee,3,2,"tr",48),E()()()),2&i){const t=T().$implicit,n=T(3);b(4),y("ngIf",n.showWeek),b(1),y("ngForOf",n.weekDays),b(2),y("ngForOf",t.dates)}}function tte(i,e){if(1&i){const t=Ge();S(0,"div",24)(1,"div",25),x(2,kee,3,2,"button",26),S(3,"div",27),x(4,Fee,2,2,"button",28),x(5,Nee,2,2,"button",29),x(6,Uee,3,5,"span",30),E(),S(7,"button",31),ae("keydown",function(s){return $(t),j(T(3).onContainerButtonKeydown(s))})("click",function(s){return $(t),j(T(3).onNextButtonClick(s))}),x(8,Hee,1,1,"ChevronRightIcon",32),x(9,Wee,2,1,"span",33),E()(),x(10,ete,8,3,"div",34),E()}if(2&i){const t=e.index,n=T(3);b(2),y("ngIf",0===t),b(2),y("ngIf","date"===n.currentView),b(1),y("ngIf","year"!==n.currentView),b(1),y("ngIf","year"===n.currentView),b(1),Zp("display",1===n.numberOfMonths||t===n.numberOfMonths-1?"inline-flex":"none"),b(1),y("ngIf",!n.nextIconTemplate),b(1),y("ngIf",n.nextIconTemplate),b(1),y("ngIf","date"===n.currentView)}}function nte(i,e){if(1&i){const t=Ge();S(0,"span",58),ae("click",function(s){const o=$(t).index;return j(T(4).onMonthSelect(s,o))})("keydown",function(s){const o=$(t).index;return j(T(4).onMonthCellKeydown(s,o))}),H(1),E()}if(2&i){const t=e.$implicit,n=e.index,s=T(4);y("ngClass",vn(2,gb,s.isMonthSelected(n),s.isMonthDisabled(n))),b(1),gn(" ",t," ")}}function ite(i,e){if(1&i&&(S(0,"div",56),x(1,nte,2,5,"span",57),E()),2&i){const t=T(3);b(1),y("ngForOf",t.monthPickerValues())}}function ste(i,e){if(1&i){const t=Ge();S(0,"span",61),ae("click",function(s){const o=$(t).$implicit;return j(T(4).onYearSelect(s,o))})("keydown",function(s){const o=$(t).$implicit;return j(T(4).onYearCellKeydown(s,o))}),H(1),E()}if(2&i){const t=e.$implicit,n=T(4);y("ngClass",vn(2,gb,n.isYearSelected(t),n.isYearDisabled(t))),b(1),gn(" ",t," ")}}function rte(i,e){if(1&i&&(S(0,"div",59),x(1,ste,2,5,"span",60),E()),2&i){const t=T(3);b(1),y("ngForOf",t.yearPickerValues())}}function ote(i,e){if(1&i&&(Oe(0),S(1,"div",20),x(2,tte,11,9,"div",21),E(),x(3,ite,2,1,"div",22),x(4,rte,2,1,"div",23),Le()),2&i){const t=T(2);b(2),y("ngForOf",t.months),b(1),y("ngIf","month"===t.currentView),b(1),y("ngIf","year"===t.currentView)}}function ate(i,e){1&i&&ee(0,"ChevronUpIcon")}function lte(i,e){}function cte(i,e){1&i&&x(0,lte,0,0,"ng-template")}function ute(i,e){1&i&&(Oe(0),H(1,"0"),Le())}function dte(i,e){1&i&&ee(0,"ChevronDownIcon")}function hte(i,e){}function pte(i,e){1&i&&x(0,hte,0,0,"ng-template")}function fte(i,e){1&i&&ee(0,"ChevronUpIcon")}function mte(i,e){}function gte(i,e){1&i&&x(0,mte,0,0,"ng-template")}function _te(i,e){1&i&&(Oe(0),H(1,"0"),Le())}function vte(i,e){1&i&&ee(0,"ChevronDownIcon")}function yte(i,e){}function bte(i,e){1&i&&x(0,yte,0,0,"ng-template")}function wte(i,e){if(1&i&&(S(0,"div",65)(1,"span"),H(2),E()()),2&i){const t=T(3);b(2),cn(t.timeSeparator)}}function Cte(i,e){1&i&&ee(0,"ChevronUpIcon")}function xte(i,e){}function Tte(i,e){1&i&&x(0,xte,0,0,"ng-template")}function Ste(i,e){1&i&&(Oe(0),H(1,"0"),Le())}function Mte(i,e){1&i&&ee(0,"ChevronDownIcon")}function Ete(i,e){}function Ite(i,e){1&i&&x(0,Ete,0,0,"ng-template")}function Dte(i,e){if(1&i){const t=Ge();S(0,"div",70)(1,"button",64),ae("keydown",function(s){return $(t),j(T(3).onContainerButtonKeydown(s))})("keydown.enter",function(s){return $(t),j(T(3).incrementSecond(s))})("keydown.space",function(s){return $(t),j(T(3).incrementSecond(s))})("mousedown",function(s){return $(t),j(T(3).onTimePickerElementMouseDown(s,2,1))})("mouseup",function(s){return $(t),j(T(3).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return $(t),j(T(3).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return $(t),j(T(3).onTimePickerElementMouseUp(s))})("mouseleave",function(){return $(t),j(T(3).onTimePickerElementMouseLeave())}),x(2,Cte,1,0,"ChevronUpIcon",6),x(3,Tte,1,0,null,12),E(),S(4,"span"),x(5,Ste,2,0,"ng-container",6),H(6),E(),S(7,"button",64),ae("keydown",function(s){return $(t),j(T(3).onContainerButtonKeydown(s))})("keydown.enter",function(s){return $(t),j(T(3).decrementSecond(s))})("keydown.space",function(s){return $(t),j(T(3).decrementSecond(s))})("mousedown",function(s){return $(t),j(T(3).onTimePickerElementMouseDown(s,2,-1))})("mouseup",function(s){return $(t),j(T(3).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return $(t),j(T(3).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return $(t),j(T(3).onTimePickerElementMouseUp(s))})("mouseleave",function(){return $(t),j(T(3).onTimePickerElementMouseLeave())}),x(8,Mte,1,0,"ChevronDownIcon",6),x(9,Ite,1,0,null,12),E()()}if(2&i){const t=T(3);b(2),y("ngIf",!t.incrementIconTemplate),b(1),y("ngTemplateOutlet",t.incrementIconTemplate),b(2),y("ngIf",t.currentSecond<10),b(1),cn(t.currentSecond),b(2),y("ngIf",!t.decrementIconTemplate),b(1),y("ngTemplateOutlet",t.decrementIconTemplate)}}function Ate(i,e){1&i&&ee(0,"ChevronUpIcon")}function Pte(i,e){}function Rte(i,e){1&i&&x(0,Pte,0,0,"ng-template")}function Ote(i,e){1&i&&ee(0,"ChevronDownIcon")}function Lte(i,e){}function kte(i,e){1&i&&x(0,Lte,0,0,"ng-template")}function Fte(i,e){if(1&i){const t=Ge();S(0,"div",71)(1,"button",72),ae("keydown",function(s){return $(t),j(T(3).onContainerButtonKeydown(s))})("click",function(s){return $(t),j(T(3).toggleAMPM(s))})("keydown.enter",function(s){return $(t),j(T(3).toggleAMPM(s))}),x(2,Ate,1,0,"ChevronUpIcon",6),x(3,Rte,1,0,null,12),E(),S(4,"span"),H(5),E(),S(6,"button",72),ae("keydown",function(s){return $(t),j(T(3).onContainerButtonKeydown(s))})("click",function(s){return $(t),j(T(3).toggleAMPM(s))})("keydown.enter",function(s){return $(t),j(T(3).toggleAMPM(s))}),x(7,Ote,1,0,"ChevronDownIcon",6),x(8,kte,1,0,null,12),E()()}if(2&i){const t=T(3);b(2),y("ngIf",!t.incrementIconTemplate),b(1),y("ngTemplateOutlet",t.incrementIconTemplate),b(2),cn(t.pm?"PM":"AM"),b(2),y("ngIf",!t.decrementIconTemplate),b(1),y("ngTemplateOutlet",t.decrementIconTemplate)}}function Nte(i,e){if(1&i){const t=Ge();S(0,"div",62)(1,"div",63)(2,"button",64),ae("keydown",function(s){return $(t),j(T(2).onContainerButtonKeydown(s))})("keydown.enter",function(s){return $(t),j(T(2).incrementHour(s))})("keydown.space",function(s){return $(t),j(T(2).incrementHour(s))})("mousedown",function(s){return $(t),j(T(2).onTimePickerElementMouseDown(s,0,1))})("mouseup",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("mouseleave",function(){return $(t),j(T(2).onTimePickerElementMouseLeave())}),x(3,ate,1,0,"ChevronUpIcon",6),x(4,cte,1,0,null,12),E(),S(5,"span"),x(6,ute,2,0,"ng-container",6),H(7),E(),S(8,"button",64),ae("keydown",function(s){return $(t),j(T(2).onContainerButtonKeydown(s))})("keydown.enter",function(s){return $(t),j(T(2).decrementHour(s))})("keydown.space",function(s){return $(t),j(T(2).decrementHour(s))})("mousedown",function(s){return $(t),j(T(2).onTimePickerElementMouseDown(s,0,-1))})("mouseup",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("mouseleave",function(){return $(t),j(T(2).onTimePickerElementMouseLeave())}),x(9,dte,1,0,"ChevronDownIcon",6),x(10,pte,1,0,null,12),E()(),S(11,"div",65)(12,"span"),H(13),E()(),S(14,"div",66)(15,"button",64),ae("keydown",function(s){return $(t),j(T(2).onContainerButtonKeydown(s))})("keydown.enter",function(s){return $(t),j(T(2).incrementMinute(s))})("keydown.space",function(s){return $(t),j(T(2).incrementMinute(s))})("mousedown",function(s){return $(t),j(T(2).onTimePickerElementMouseDown(s,1,1))})("mouseup",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("mouseleave",function(){return $(t),j(T(2).onTimePickerElementMouseLeave())}),x(16,fte,1,0,"ChevronUpIcon",6),x(17,gte,1,0,null,12),E(),S(18,"span"),x(19,_te,2,0,"ng-container",6),H(20),E(),S(21,"button",64),ae("keydown",function(s){return $(t),j(T(2).onContainerButtonKeydown(s))})("keydown.enter",function(s){return $(t),j(T(2).decrementMinute(s))})("keydown.space",function(s){return $(t),j(T(2).decrementMinute(s))})("mousedown",function(s){return $(t),j(T(2).onTimePickerElementMouseDown(s,1,-1))})("mouseup",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("keyup.enter",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("keyup.space",function(s){return $(t),j(T(2).onTimePickerElementMouseUp(s))})("mouseleave",function(){return $(t),j(T(2).onTimePickerElementMouseLeave())}),x(22,vte,1,0,"ChevronDownIcon",6),x(23,bte,1,0,null,12),E()(),x(24,wte,3,1,"div",67),x(25,Dte,10,6,"div",68),x(26,Fte,9,5,"div",69),E()}if(2&i){const t=T(2);b(3),y("ngIf",!t.incrementIconTemplate),b(1),y("ngTemplateOutlet",t.incrementIconTemplate),b(2),y("ngIf",t.currentHour<10),b(1),cn(t.currentHour),b(2),y("ngIf",!t.decrementIconTemplate),b(1),y("ngTemplateOutlet",t.decrementIconTemplate),b(3),cn(t.timeSeparator),b(3),y("ngIf",!t.incrementIconTemplate),b(1),y("ngTemplateOutlet",t.incrementIconTemplate),b(2),y("ngIf",t.currentMinute<10),b(1),cn(t.currentMinute),b(2),y("ngIf",!t.decrementIconTemplate),b(1),y("ngTemplateOutlet",t.decrementIconTemplate),b(1),y("ngIf",t.showSeconds),b(1),y("ngIf",t.showSeconds),b(1),y("ngIf","12"==t.hourFormat)}}const PP=function(i){return[i]};function Vte(i,e){if(1&i){const t=Ge();S(0,"div",73)(1,"button",74),ae("keydown",function(s){return $(t),j(T(2).onContainerButtonKeydown(s))})("click",function(s){return $(t),j(T(2).onTodayButtonClick(s))}),E(),S(2,"button",74),ae("keydown",function(s){return $(t),j(T(2).onContainerButtonKeydown(s))})("click",function(s){return $(t),j(T(2).onClearButtonClick(s))}),E()()}if(2&i){const t=T(2);b(1),y("label",t.getTranslation("today"))("ngClass",st(4,PP,t.todayButtonStyleClass)),b(1),y("label",t.getTranslation("clear"))("ngClass",st(6,PP,t.clearButtonStyleClass))}}function Bte(i,e){1&i&&Ie(0)}const Ute=function(i,e,t,n,s,r){return{"p-datepicker p-component":!0,"p-datepicker-inline":i,"p-disabled":e,"p-datepicker-timeonly":t,"p-datepicker-multiple-month":n,"p-datepicker-monthpicker":s,"p-datepicker-touch-ui":r}},RP=function(i,e){return{showTransitionParams:i,hideTransitionParams:e}},Hte=function(i){return{value:"visibleTouchUI",params:i}},zte=function(i){return{value:"visible",params:i}};function Gte(i,e){if(1&i){const t=Ge();S(0,"div",16,17),ae("@overlayAnimation.start",function(s){return $(t),j(T().onOverlayAnimationStart(s))})("@overlayAnimation.done",function(s){return $(t),j(T().onOverlayAnimationDone(s))})("click",function(s){return $(t),j(T().onOverlayClick(s))}),zn(2),x(3,Aee,1,0,"ng-container",12),x(4,ote,5,3,"ng-container",6),x(5,Nte,27,16,"div",18),x(6,Vte,3,8,"div",19),zn(7,1),x(8,Bte,1,0,"ng-container",12),E()}if(2&i){const t=T();Ne(t.panelStyleClass),y("ngStyle",t.panelStyle)("ngClass",ec(11,Ute,t.inline,t.disabled,t.timeOnly,t.numberOfMonths>1,"month"===t.view,t.touchUI))("@overlayAnimation",t.touchUI?st(21,Hte,vn(18,RP,t.showTransitionOptions,t.hideTransitionOptions)):st(26,zte,vn(23,RP,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",!0===t.inline),b(3),y("ngTemplateOutlet",t.headerTemplate),b(1),y("ngIf",!t.timeOnly),b(1),y("ngIf",(t.showTime||t.timeOnly)&&"date"===t.currentView),b(1),y("ngIf",t.showButtonBar),b(2),y("ngTemplateOutlet",t.footerTemplate)}}const Wte=[[["p-header"]],[["p-footer"]]],$te=function(i,e,t,n){return{"p-calendar":!0,"p-calendar-w-btn":i,"p-calendar-timeonly":e,"p-calendar-disabled":t,"p-focus":n}},jte=["p-header","p-footer"],qte={provide:mi,useExisting:qt(()=>Yte),multi:!0};let Yte=(()=>{var i;class e{get minDate(){return this._minDate}set minDate(n){this._minDate=n,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=n,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(n){this._disabledDates=n,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(n){this._disabledDays=n,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(n){if(this._yearRange=n,n){const s=n.split(":"),r=parseInt(s[0]),o=parseInt(s[1]);this.populateYearOptions(r,o)}}get showTime(){return this._showTime}set showTime(n){this._showTime=n,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(n){this._responsiveOptions=n,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(n){this._numberOfMonths=n,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(n){this._firstDayOfWeek=n,this.createWeekDays()}set locale(n){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(n){this._view=n,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(n){if(this._defaultDate=n,this.initialized){const s=n||new Date;this.currentMonth=s.getMonth(),this.currentYear=s.getFullYear(),this.initTime(s),this.createMonths(this.currentMonth,this.currentYear)}}set content(n){this.contentViewChild=n,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get locale(){return this._locale}constructor(n,s,r,o,a,l,c){d(this,"document",void 0),d(this,"el",void 0),d(this,"renderer",void 0),d(this,"cd",void 0),d(this,"zone",void 0),d(this,"config",void 0),d(this,"overlayService",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"inputStyle",void 0),d(this,"inputId",void 0),d(this,"name",void 0),d(this,"inputStyleClass",void 0),d(this,"placeholder",void 0),d(this,"ariaLabelledBy",void 0),d(this,"iconAriaLabel",void 0),d(this,"disabled",void 0),d(this,"dateFormat",void 0),d(this,"multipleSeparator",","),d(this,"rangeSeparator","-"),d(this,"inline",!1),d(this,"showOtherMonths",!0),d(this,"selectOtherMonths",void 0),d(this,"showIcon",void 0),d(this,"icon",void 0),d(this,"appendTo",void 0),d(this,"readonlyInput",void 0),d(this,"shortYearCutoff","+10"),d(this,"monthNavigator",void 0),d(this,"yearNavigator",void 0),d(this,"hourFormat","24"),d(this,"timeOnly",void 0),d(this,"stepHour",1),d(this,"stepMinute",1),d(this,"stepSecond",1),d(this,"showSeconds",!1),d(this,"required",void 0),d(this,"showOnFocus",!0),d(this,"showWeek",!1),d(this,"showClear",!1),d(this,"dataType","date"),d(this,"selectionMode","single"),d(this,"maxDateCount",void 0),d(this,"showButtonBar",void 0),d(this,"todayButtonStyleClass","p-button-text"),d(this,"clearButtonStyleClass","p-button-text"),d(this,"autoZIndex",!0),d(this,"baseZIndex",0),d(this,"panelStyleClass",void 0),d(this,"panelStyle",void 0),d(this,"keepInvalid",!1),d(this,"hideOnDateTimeSelect",!0),d(this,"touchUI",void 0),d(this,"timeSeparator",":"),d(this,"focusTrap",!0),d(this,"showTransitionOptions",".12s cubic-bezier(0, 0, 0.2, 1)"),d(this,"hideTransitionOptions",".1s linear"),d(this,"tabindex",void 0),d(this,"onFocus",new me),d(this,"onBlur",new me),d(this,"onClose",new me),d(this,"onSelect",new me),d(this,"onClear",new me),d(this,"onInput",new me),d(this,"onTodayClick",new me),d(this,"onClearClick",new me),d(this,"onMonthChange",new me),d(this,"onYearChange",new me),d(this,"onClickOutside",new me),d(this,"onShow",new me),d(this,"templates",void 0),d(this,"containerViewChild",void 0),d(this,"inputfieldViewChild",void 0),d(this,"contentViewChild",void 0),d(this,"value",void 0),d(this,"dates",void 0),d(this,"months",void 0),d(this,"weekDays",void 0),d(this,"currentMonth",void 0),d(this,"currentYear",void 0),d(this,"currentHour",void 0),d(this,"currentMinute",void 0),d(this,"currentSecond",void 0),d(this,"pm",void 0),d(this,"mask",void 0),d(this,"maskClickListener",void 0),d(this,"overlay",void 0),d(this,"responsiveStyleElement",void 0),d(this,"overlayVisible",void 0),d(this,"onModelChange",()=>{}),d(this,"onModelTouched",()=>{}),d(this,"calendarElement",void 0),d(this,"timePickerTimer",void 0),d(this,"documentClickListener",void 0),d(this,"animationEndListener",void 0),d(this,"ticksTo1970",void 0),d(this,"yearOptions",void 0),d(this,"focus",void 0),d(this,"isKeydown",void 0),d(this,"filled",void 0),d(this,"inputFieldValue",null),d(this,"_minDate",void 0),d(this,"_maxDate",void 0),d(this,"_showTime",void 0),d(this,"_yearRange",void 0),d(this,"preventDocumentListener",void 0),d(this,"dateTemplate",void 0),d(this,"headerTemplate",void 0),d(this,"footerTemplate",void 0),d(this,"disabledDateTemplate",void 0),d(this,"decadeTemplate",void 0),d(this,"previousIconTemplate",void 0),d(this,"nextIconTemplate",void 0),d(this,"triggerIconTemplate",void 0),d(this,"clearIconTemplate",void 0),d(this,"decrementIconTemplate",void 0),d(this,"incrementIconTemplate",void 0),d(this,"_disabledDates",void 0),d(this,"_disabledDays",void 0),d(this,"selectElement",void 0),d(this,"todayElement",void 0),d(this,"focusElement",void 0),d(this,"scrollHandler",void 0),d(this,"documentResizeListener",void 0),d(this,"navigationState",null),d(this,"isMonthNavigate",void 0),d(this,"initialized",void 0),d(this,"translationSubscription",void 0),d(this,"_locale",void 0),d(this,"_responsiveOptions",void 0),d(this,"currentView",void 0),d(this,"attributeSelector",void 0),d(this,"_numberOfMonths",1),d(this,"_firstDayOfWeek",void 0),d(this,"_view","date"),d(this,"preventFocus",void 0),d(this,"_defaultDate",void 0),d(this,"window",void 0),d(this,"convertTo24Hour",function(u,h){return"12"==this.hourFormat?12===u?h?12:0:h?u+12:u:u}),this.document=n,this.el=s,this.renderer=r,this.cd=o,this.zone=a,this.config=l,this.overlayService=c,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=Vn();const n=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=n.getMonth(),this.currentYear=n.getFullYear(),this.yearOptions=[],this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(n),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"date":default:this.dateTemplate=n.template;break;case"decade":this.decadeTemplate=n.template;break;case"disabledDate":this.disabledDateTemplate=n.template;break;case"header":this.headerTemplate=n.template;break;case"previousicon":this.previousIconTemplate=n.template;break;case"nexticon":this.nextIconTemplate=n.template;break;case"triggericon":this.triggerIconTemplate=n.template;break;case"clearicon":this.clearIconTemplate=n.template;break;case"decrementicon":this.decrementIconTemplate=n.template;break;case"incrementicon":this.incrementIconTemplate=n.template;break;case"footer":this.footerTemplate=n.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=V.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(n){return this.config.getTranslation(n)}populateYearOptions(n,s){this.yearOptions=[];for(let r=n;r<=s;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let n=this.getFirstDateOfWeek(),s=this.getTranslation(gs.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(s[n]),n=6==n?0:++n}monthPickerValues(){let n=[];for(let s=0;s<=11;s++)n.push(this.config.getTranslation("monthNamesShort")[s]);return n}yearPickerValues(){let n=[],s=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)n.push(s+r);return n}createMonths(n,s){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let o=n+r,a=s;o>11&&(o=o%11-1,a=s+1),this.months.push(this.createMonth(o,a))}}getWeekNumber(n){let s=new Date(n.getTime());s.setDate(s.getDate()+4-(s.getDay()||7));let r=s.getTime();return s.setMonth(0),s.setDate(1),Math.floor(Math.round((r-s.getTime())/864e5)/7)+1}createMonth(n,s){let r=[],o=this.getFirstDayOfMonthIndex(n,s),a=this.getDaysCountInMonth(n,s),l=this.getDaysCountInPrevMonth(n,s),c=1,u=new Date,h=[],p=Math.ceil((a+o)/7);for(let f=0;f<p;f++){let m=[];if(0==f){for(let _=l-o+1;_<=l;_++){let g=this.getPreviousMonthAndYear(n,s);m.push({day:_,month:g.month,year:g.year,otherMonth:!0,today:this.isToday(u,_,g.month,g.year),selectable:this.isSelectable(_,g.month,g.year,!0)})}let v=7-m.length;for(let _=0;_<v;_++)m.push({day:c,month:n,year:s,today:this.isToday(u,c,n,s),selectable:this.isSelectable(c,n,s,!1)}),c++}else for(let v=0;v<7;v++){if(c>a){let _=this.getNextMonthAndYear(n,s);m.push({day:c-a,month:_.month,year:_.year,otherMonth:!0,today:this.isToday(u,c-a,_.month,_.year),selectable:this.isSelectable(c-a,_.month,_.year,!0)})}else m.push({day:c,month:n,year:s,today:this.isToday(u,c,n,s),selectable:this.isSelectable(c,n,s,!1)});c++}this.showWeek&&h.push(this.getWeekNumber(new Date(m[0].year,m[0].month,m[0].day))),r.push(m)}return{month:n,year:s,dates:r,weekNumbers:h}}initTime(n){this.pm=n.getHours()>11,this.showTime?(this.currentMinute=n.getMinutes(),this.currentSecond=n.getSeconds(),this.setCurrentHourPM(n.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(n){this.disabled?n.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(n){this.disabled?n.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){this.currentYear--;let n=this.yearOptions;if(this.yearNavigator&&this.currentYear<n[0]){let s=n[n.length-1]-n[0];this.populateYearOptions(n[0]-s,n[n.length-1]-s)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){this.currentYear++;let n=this.yearOptions;if(this.yearNavigator&&this.currentYear>n[n.length-1]){let s=n[n.length-1]-n[0];this.populateYearOptions(n[0]+s,n[n.length-1]+s)}}switchToMonthView(n){this.setCurrentView("month"),n.preventDefault()}switchToYearView(n){this.setCurrentView("year"),n.preventDefault()}onDateSelect(n,s){!this.disabled&&s.selectable?(this.isMultipleSelection()&&this.isSelected(s)?(this.value=this.value.filter((r,o)=>!this.isDateEquals(r,s)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(s)&&this.selectDate(s),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{n.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),n.preventDefault()):n.preventDefault()}shouldSelectDate(n){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(n,s){"month"===this.view?this.onDateSelect(n,{year:this.currentYear,month:s,day:1,selectable:!0}):(this.currentMonth=s,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(n,s){"year"===this.view?this.onDateSelect(n,{year:s,month:0,day:1,selectable:!0}):(this.currentYear=s,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let n="";if(this.value)if(this.isSingleSelection())n=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let s=0;s<this.value.length;s++)n+=this.formatDateTime(this.value[s]),s!==this.value.length-1&&(n+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];n=this.formatDateTime(this.value[0]),r&&(n+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=n,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(n){let s=this.keepInvalid?n:null;return this.isValidDate(n)&&(this.timeOnly?s=this.formatTime(n):(s=this.formatDate(n,this.getDateFormat()),this.showTime&&(s+=" "+this.formatTime(n)))),s}setCurrentHourPM(n){"12"==this.hourFormat?(this.pm=n>11,this.currentHour=n>=12?12==n?12:n-12:0==n?12:n):this.currentHour=n}setCurrentView(n){this.currentView=n,this.cd.detectChanges(),this.alignOverlay()}selectDate(n){let s=new Date(n.year,n.month,n.day);if(this.showTime&&(s.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),s.setMinutes(this.currentMinute),s.setSeconds(this.currentSecond)),this.minDate&&this.minDate>s&&(s=this.minDate,this.setCurrentHourPM(s.getHours()),this.currentMinute=s.getMinutes(),this.currentSecond=s.getSeconds()),this.maxDate&&this.maxDate<s&&(s=this.maxDate,this.setCurrentHourPM(s.getHours()),this.currentMinute=s.getMinutes(),this.currentSecond=s.getSeconds()),this.isSingleSelection())this.updateModel(s);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,s]:[s]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],o=this.value[1];!o&&s.getTime()>=r.getTime()?o=s:(r=s,o=null),this.updateModel([r,o])}else this.updateModel([s,null]);this.onSelect.emit(s)}updateModel(n){if(this.value=n,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let s=null;Array.isArray(this.value)&&(s=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(s)}}getFirstDayOfMonthIndex(n,s){let r=new Date;r.setDate(1),r.setMonth(n),r.setFullYear(s);let o=r.getDay()+this.getSundayIndex();return o>=7?o-7:o}getDaysCountInMonth(n,s){return 32-this.daylightSavingAdjust(new Date(s,n,32)).getDate()}getDaysCountInPrevMonth(n,s){let r=this.getPreviousMonthAndYear(n,s);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(n,s){let r,o;return 0===n?(r=11,o=s-1):(r=n-1,o=s),{month:r,year:o}}getNextMonthAndYear(n,s){let r,o;return 11===n?(r=0,o=s+1):(r=n+1,o=s),{month:r,year:o}}getSundayIndex(){let n=this.getFirstDateOfWeek();return n>0?7-n:0}isSelected(n){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,n);if(this.isMultipleSelection()){let s=!1;for(let r of this.value)if(s=this.isDateEquals(r,n),s)break;return s}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],n)||this.isDateEquals(this.value[1],n)||this.isDateBetween(this.value[0],this.value[1],n):this.isDateEquals(this.value[0],n):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(n){if(this.isComparable()&&!this.isMultipleSelection()){const[s,r]=this.isRangeSelection()?this.value:[this.value,this.value],o=new Date(this.currentYear,n,1);return o>=s&&o<=(r??s)}return!1}isMonthDisabled(n){for(let s=1;s<this.getDaysCountInMonth(n,this.currentYear)+1;s++)if(this.isSelectable(s,n,this.currentYear,!1))return!1;return!0}isYearDisabled(n){return!this.isSelectable(1,this.currentMonth,n,!1)}isYearSelected(n){if(this.isComparable()){let s=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&s.getFullYear()===n}return!1}isDateEquals(n,s){return!(!n||!Se.isDate(n))&&n.getDate()===s.day&&n.getMonth()===s.month&&n.getFullYear()===s.year}isDateBetween(n,s,r){if(Se.isDate(n)&&Se.isDate(s)){let a=new Date(r.year,r.month,r.day);return n.getTime()<=a.getTime()&&s.getTime()>=a.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(n,s,r,o){return n.getDate()===s&&n.getMonth()===r&&n.getFullYear()===o}isSelectable(n,s,r,o){let a=!0,l=!0,c=!0,u=!0;return!(o&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>s||this.minDate.getMonth()===s&&this.minDate.getDate()>n))&&(a=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<s||this.maxDate.getMonth()===s&&this.maxDate.getDate()<n))&&(l=!1),this.disabledDates&&(c=!this.isDateDisabled(n,s,r)),this.disabledDays&&(u=!this.isDayDisabled(n,s,r)),a&&l&&c&&u)}isDateDisabled(n,s,r){if(this.disabledDates)for(let o of this.disabledDates)if(o.getFullYear()===r&&o.getMonth()===s&&o.getDate()===n)return!0;return!1}isDayDisabled(n,s,r){if(this.disabledDays){let a=new Date(r,s,n).getDay();return-1!==this.disabledDays.indexOf(a)}return!1}onInputFocus(n){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(n)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(n){this.focus=!1,this.onBlur.emit(n),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(n,s){this.overlayVisible?this.hideOverlay():(s.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(n){this.overlayService.add({originalEvent:n,target:this.el.nativeElement})}getMonthName(n){return this.config.getTranslation("monthNames")[n]}getYear(n){return"month"===this.currentView?this.currentYear:n.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(n){this.navigationState={backward:!0,button:!0},this.navBackward(n)}onNextButtonClick(n){this.navigationState={backward:!1,button:!0},this.navForward(n)}onContainerButtonKeydown(n){switch(n.which){case 9:this.inline||this.trapFocus(n);break;case 27:this.overlayVisible=!1,n.preventDefault()}}onInputKeydown(n){this.isKeydown=!0,40===n.keyCode&&this.contentViewChild?this.trapFocus(n):27===n.keyCode||13===n.keyCode?this.overlayVisible&&(this.overlayVisible=!1,n.preventDefault()):9===n.keyCode&&this.contentViewChild&&(V.getFocusableElements(this.contentViewChild.nativeElement).forEach(s=>s.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(n,s,r){const o=n.currentTarget,a=o.parentElement;switch(n.which){case 40:{o.tabIndex="-1";let l=V.index(a),c=a.parentElement.nextElementSibling;c?V.hasClass(c.children[l].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(n)):(c.children[l].children[0].tabIndex="0",c.children[l].children[0].focus()):(this.navigationState={backward:!1},this.navForward(n)),n.preventDefault();break}case 38:{o.tabIndex="-1";let l=V.index(a),c=a.parentElement.previousElementSibling;if(c){let u=c.children[l].children[0];V.hasClass(u,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(n)):(u.tabIndex="0",u.focus())}else this.navigationState={backward:!0},this.navBackward(n);n.preventDefault();break}case 37:{o.tabIndex="-1";let l=a.previousElementSibling;if(l){let c=l.children[0];V.hasClass(c,"p-disabled")||V.hasClass(c.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(c.tabIndex="0",c.focus())}else this.navigateToMonth(!0,r);n.preventDefault();break}case 39:{o.tabIndex="-1";let l=a.nextElementSibling;if(l){let c=l.children[0];V.hasClass(c,"p-disabled")?this.navigateToMonth(!1,r):(c.tabIndex="0",c.focus())}else this.navigateToMonth(!1,r);n.preventDefault();break}case 13:case 32:this.onDateSelect(n,s),n.preventDefault();break;case 27:this.overlayVisible=!1,n.preventDefault();break;case 9:this.inline||this.trapFocus(n)}}onMonthCellKeydown(n,s){const r=n.currentTarget;switch(n.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,a=V.index(r);let l=o[40===n.which?a+3:a-3];l&&(l.tabIndex="0",l.focus()),n.preventDefault();break}case 37:{r.tabIndex="-1";let l=r.previousElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!0},this.navBackward(n)),n.preventDefault();break}case 39:{r.tabIndex="-1";let l=r.nextElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!1},this.navForward(n)),n.preventDefault();break}case 13:this.onMonthSelect(n,s),n.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,n.preventDefault();break;case 9:this.inline||this.trapFocus(n)}}onYearCellKeydown(n,s){const r=n.currentTarget;switch(n.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,a=V.index(r);let l=o[40===n.which?a+2:a-2];l&&(l.tabIndex="0",l.focus()),n.preventDefault();break}case 37:{r.tabIndex="-1";let l=r.previousElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!0},this.navBackward(n)),n.preventDefault();break}case 39:{r.tabIndex="-1";let l=r.nextElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!1},this.navForward(n)),n.preventDefault();break}case 13:case 32:this.onYearSelect(n,s),n.preventDefault();break;case 27:this.overlayVisible=!1,n.preventDefault();break;case 9:this.trapFocus(n)}}navigateToMonth(n,s){if(n)if(1===this.numberOfMonths||0===s)this.navigationState={backward:!0},this.navBackward(event);else{let o=V.find(this.contentViewChild.nativeElement.children[s-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=o[o.length-1];a.tabIndex="0",a.focus()}else if(1===this.numberOfMonths||s===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let o=V.findSingle(this.contentViewChild.nativeElement.children[s+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}updateFocus(){let n;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?V.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():V.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let s;s=V.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),s&&s.length>0&&(n=s[s.length-1])}else n=V.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");n&&(n.tabIndex="0",n.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){const n=this.contentViewChild?.nativeElement;let s;if("month"===this.currentView){let r=V.find(n,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),o=V.findSingle(n,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(a=>a.tabIndex=-1),s=o||r[0],0===r.length&&V.find(n,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(l=>l.tabIndex=-1)}else if("year"===this.currentView){let r=V.find(n,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),o=V.findSingle(n,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(a=>a.tabIndex=-1),s=o||r[0],0===r.length&&V.find(n,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(l=>l.tabIndex=-1)}else if(s=V.findSingle(n,"span.p-highlight"),!s){let r=V.findSingle(n,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");s=r||V.findSingle(n,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}s&&(s.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||s.focus()},1),this.preventFocus=!1)}trapFocus(n){let s=V.getFocusableElements(this.contentViewChild.nativeElement);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let r=s.indexOf(s[0].ownerDocument.activeElement);if(n.shiftKey)if(-1==r||0===r)if(this.focusTrap)s[s.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else s[r-1].focus();else if(-1==r||r===s.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();s[0].focus()}else s[r+1].focus()}else s[0].focus();n.preventDefault()}onMonthDropdownChange(n){this.currentMonth=parseInt(n),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(n){this.currentYear=parseInt(n),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(n,s,r,o){let a=this.value;const l=this.convertTo24Hour(n,o);this.isRangeSelection()&&(a=this.value[1]||this.value[0]),this.isMultipleSelection()&&(a=this.value[this.value.length-1]);const c=a?a.toDateString():null;return!(this.minDate&&c&&this.minDate.toDateString()===c&&(this.minDate.getHours()>l||this.minDate.getHours()===l&&(this.minDate.getMinutes()>s||this.minDate.getMinutes()===s&&this.minDate.getSeconds()>r))||this.maxDate&&c&&this.maxDate.toDateString()===c&&(this.maxDate.getHours()<l||this.maxDate.getHours()===l&&(this.maxDate.getMinutes()<s||this.maxDate.getMinutes()===s&&this.maxDate.getSeconds()<r)))}incrementHour(n){let r=this.currentHour+this.stepHour,o=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(o=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,o)&&(this.currentHour=r,this.pm=o),n.preventDefault()}onTimePickerElementMouseDown(n,s,r){this.disabled||(this.repeat(n,null,s,r),n.preventDefault())}onTimePickerElementMouseUp(n){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(n,s,r,o){let a=s||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(n,100,r,o),this.cd.markForCheck()},a),r){case 0:1===o?this.incrementHour(n):this.decrementHour(n);break;case 1:1===o?this.incrementMinute(n):this.decrementMinute(n);break;case 2:1===o?this.incrementSecond(n):this.decrementSecond(n)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(n){let s=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?s=s<0?24+s:s:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),s=s<=0?12+s:s),this.validateTime(s,this.currentMinute,this.currentSecond,r)&&(this.currentHour=s,this.pm=r),n.preventDefault()}incrementMinute(n){let s=this.currentMinute+this.stepMinute;s=s>59?s-60:s,this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s),n.preventDefault()}decrementMinute(n){let s=this.currentMinute-this.stepMinute;s=s<0?60+s:s,this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s),n.preventDefault()}incrementSecond(n){let s=this.currentSecond+this.stepSecond;s=s>59?s-60:s,this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s),n.preventDefault()}decrementSecond(n){let s=this.currentSecond-this.stepSecond;s=s<0?60+s:s,this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s),n.preventDefault()}updateTime(){let n=this.value;this.isRangeSelection()&&(n=this.value[1]||this.value[0]),this.isMultipleSelection()&&(n=this.value[this.value.length-1]),n=n?new Date(n.getTime()):new Date,n.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),n.setMinutes(this.currentMinute),n.setSeconds(this.currentSecond),this.isRangeSelection()&&(n=this.value[1]?[this.value[0],n]:[n,null]),this.isMultipleSelection()&&(n=[...this.value.slice(0,-1),n]),this.updateModel(n),this.onSelect.emit(n),this.updateInputfield()}toggleAMPM(n){const s=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,s)&&(this.pm=s,this.updateTime()),n.preventDefault()}onUserInput(n){if(!this.isKeydown)return;this.isKeydown=!1;let s=n.target.value;try{let r=this.parseValueFromString(s);this.isValidSelection(r)?(this.updateModel(r),this.updateUI()):this.keepInvalid&&this.updateModel(r)}catch{this.updateModel(this.keepInvalid?s:null)}this.filled=null!=s&&s.length,this.onInput.emit(n)}isValidSelection(n){let s=!0;return this.isSingleSelection()?this.isSelectable(n.getDate(),n.getMonth(),n.getFullYear(),!1)||(s=!1):n.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(s=n.length>1&&n[1]>n[0]),s}parseValueFromString(n){if(!n||0===n.trim().length)return null;let s;if(this.isSingleSelection())s=this.parseDateTime(n);else if(this.isMultipleSelection()){let r=n.split(this.multipleSeparator);s=[];for(let o of r)s.push(this.parseDateTime(o.trim()))}else if(this.isRangeSelection()){let r=n.split(" "+this.rangeSeparator+" ");s=[];for(let o=0;o<r.length;o++)s[o]=this.parseDateTime(r[o].trim())}return s}parseDateTime(n){let s,r=n.split(" ");if(this.timeOnly)s=new Date,this.populateTime(s,r[0],r[1]);else{const o=this.getDateFormat();if(this.showTime){let a="12"==this.hourFormat?r.pop():null,l=r.pop();s=this.parseDate(r.join(" "),o),this.populateTime(s,l,a)}else s=this.parseDate(n,o)}return s}populateTime(n,s,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let o=this.parseTime(s);n.setHours(o.hour),n.setMinutes(o.minute),n.setSeconds(o.second)}isValidDate(n){return Se.isDate(n)&&Se.isNotEmpty(n)}updateUI(){let n=this.value;Array.isArray(n)&&(n=n[0]);let s=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:n&&this.isValidDate(n)?n:new Date;this.currentMonth=s.getMonth(),this.currentYear=s.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(s.getHours()),this.currentMinute=s.getMinutes(),this.currentSecond=s.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(n){switch(n.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=n.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Zi.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Zi.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(n));break;case"void":this.onOverlayHide(),this.onClose.emit(n)}}onOverlayAnimationDone(n){switch(n.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Zi.clear(n.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?this.document.body.appendChild(this.overlay):V.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=V.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=V.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"):this.overlay.style.width=V.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px",V.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):V.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(n){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(n.style.zIndex)-1)),V.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),this.renderer.appendChild(this.document.body,this.mask),V.addClass(this.document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(V.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let s,n=this.document.body.children;for(let r=0;r<n.length;r++)if(V.hasClass(n[r],"p-datepicker-mask-scrollblocker")){s=!0;break}s||V.removeClass(this.document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(n){if(this.value=n,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=n)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(gs.FIRST_DAY_OF_WEEK)}formatDate(n,s){if(!n)return"";let r;const o=h=>{const p=r+1<s.length&&s.charAt(r+1)===h;return p&&r++,p},a=(h,p,f)=>{let m=""+p;if(o(h))for(;m.length<f;)m="0"+m;return m},l=(h,p,f,m)=>o(h)?m[p]:f[p];let c="",u=!1;if(n)for(r=0;r<s.length;r++)if(u)"'"!==s.charAt(r)||o("'")?c+=s.charAt(r):u=!1;else switch(s.charAt(r)){case"d":c+=a("d",n.getDate(),2);break;case"D":c+=l("D",n.getDay(),this.getTranslation(gs.DAY_NAMES_SHORT),this.getTranslation(gs.DAY_NAMES));break;case"o":c+=a("o",Math.round((new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime()-new Date(n.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=a("m",n.getMonth()+1,2);break;case"M":c+=l("M",n.getMonth(),this.getTranslation(gs.MONTH_NAMES_SHORT),this.getTranslation(gs.MONTH_NAMES));break;case"y":c+=o("y")?n.getFullYear():(n.getFullYear()%100<10?"0":"")+n.getFullYear()%100;break;case"@":c+=n.getTime();break;case"!":c+=1e4*n.getTime()+this.ticksTo1970;break;case"'":o("'")?c+="'":u=!0;break;default:c+=s.charAt(r)}return c}formatTime(n){if(!n)return"";let s="",r=n.getHours(),o=n.getMinutes(),a=n.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),s+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,s+=":",s+=o<10?"0"+o:o,this.showSeconds&&(s+=":",s+=a<10?"0"+a:a),"12"==this.hourFormat&&(s+=n.getHours()>11?" PM":" AM"),s}parseTime(n){let s=n.split(":");if(s.length!==(this.showSeconds?3:2))throw"Invalid time";let o=parseInt(s[0]),a=parseInt(s[1]),l=this.showSeconds?parseInt(s[2]):null;if(isNaN(o)||isNaN(a)||o>23||a>59||"12"==this.hourFormat&&o>12||this.showSeconds&&(isNaN(l)||l>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==o&&this.pm?o+=12:!this.pm&&12===o&&(o-=12)),{hour:o,minute:a,second:l}}parseDate(n,s){if(null==s||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;let r,o,a,v,l=0,c="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),u=-1,h=-1,p=-1,f=-1,m=!1,_=M=>{let D=r+1<s.length&&s.charAt(r+1)===M;return D&&r++,D},g=M=>{let D=_(M),P="@"===M?14:"!"===M?20:"y"===M&&D?4:"o"===M?3:2,N=new RegExp("^\\d{"+("y"===M?P:1)+","+P+"}"),I=n.substring(l).match(N);if(!I)throw"Missing number at position "+l;return l+=I[0].length,parseInt(I[0],10)},C=(M,D,P)=>{let R=-1,N=_(M)?P:D,I=[];for(let O=0;O<N.length;O++)I.push([O,N[O]]);I.sort((O,Y)=>-(O[1].length-Y[1].length));for(let O=0;O<I.length;O++){let Y=I[O][1];if(n.substr(l,Y.length).toLowerCase()===Y.toLowerCase()){R=I[O][0],l+=Y.length;break}}if(-1!==R)return R+1;throw"Unknown name at position "+l},w=()=>{if(n.charAt(l)!==s.charAt(r))throw"Unexpected literal at position "+l;l++};for("month"===this.view&&(p=1),r=0;r<s.length;r++)if(m)"'"!==s.charAt(r)||_("'")?w():m=!1;else switch(s.charAt(r)){case"d":p=g("d");break;case"D":C("D",this.getTranslation(gs.DAY_NAMES_SHORT),this.getTranslation(gs.DAY_NAMES));break;case"o":f=g("o");break;case"m":h=g("m");break;case"M":h=C("M",this.getTranslation(gs.MONTH_NAMES_SHORT),this.getTranslation(gs.MONTH_NAMES));break;case"y":u=g("y");break;case"@":v=new Date(g("@")),u=v.getFullYear(),h=v.getMonth()+1,p=v.getDate();break;case"!":v=new Date((g("!")-this.ticksTo1970)/1e4),u=v.getFullYear(),h=v.getMonth()+1,p=v.getDate();break;case"'":_("'")?w():m=!0;break;default:w()}if(l<n.length&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===u?u=(new Date).getFullYear():u<100&&(u+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u<=c?0:-100)),f>-1)for(h=1,p=f;o=this.getDaysCountInMonth(u,h-1),!(p<=o);)h++,p-=o;if("year"===this.view&&(h=-1===h?1:h,p=-1===p?1:p),v=this.daylightSavingAdjust(new Date(u,h-1,p)),v.getFullYear()!==u||v.getMonth()+1!==h||v.getDate()!==p)throw"Invalid date";return v}daylightSavingAdjust(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(n){let s=new Date,r={day:s.getDate(),month:s.getMonth(),year:s.getFullYear(),otherMonth:s.getMonth()!==this.currentMonth||s.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(n,r),this.onTodayClick.emit(n)}onClearButtonClick(n){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(n)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let n="";if(this.responsiveOptions){let s=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,o)=>-1*r.breakpoint.localeCompare(o.breakpoint,void 0,{numeric:!0}));for(let r=0;r<s.length;r++){let{breakpoint:o,numMonths:a}=s[r],l=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${a}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let c=a;c<this.numberOfMonths;c++)l+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${c+1}) {\n                                display: none !important;\n                            }\n                        `;n+=`\n                        @media screen and (max-width: ${o}) {\n                            ${l}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=n}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,"mousedown",s=>{this.isOutsideClicked(s)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(s),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new rb(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(n){return!(this.el.nativeElement.isSameNode(n.target)||this.isNavIconClicked(n)||this.el.nativeElement.contains(n.target)||this.overlay&&this.overlay.contains(n.target))}isNavIconClicked(n){return V.hasClass(n.target,"p-datepicker-prev")||V.hasClass(n.target,"p-datepicker-prev-icon")||V.hasClass(n.target,"p-datepicker-next")||V.hasClass(n.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!V.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Zi.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Fn),G(sn),G(pi),G(Zn),G(Wt),G(Wo),G(ib))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-calendar"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&(Nt(mee,5),Nt(gee,5),Nt(_ee,5)),2&n){let r;We(r=$e())&&(s.containerViewChild=r.first),We(r=$e())&&(s.inputfieldViewChild=r.first),We(r=$e())&&(s.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(n,s){2&n&&Kr("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focus)("p-calendar-clearable",s.showClear&&!s.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[Jt([qte])],ngContentSelectors:jte,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],[4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"disabled","click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(n,s){1&n&&(hs(Wte),S(0,"span",0,1),x(2,Dee,4,17,"ng-template",2),x(3,Gte,9,28,"div",3),E()),2&n&&(Ne(s.styleClass),y("ngClass",xa(6,$te,s.showIcon,s.timeOnly,s.disabled,s.focus))("ngStyle",s.style),b(2),y("ngIf",!s.inline),b(1),y("ngIf",s.inline||s.overlayVisible))},dependencies:function(){return[Jn,Ir,On,Nn,ri,uP,pr,Om,Lm,IP,Em,Qi,DP]},styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[ac("overlayAnimation",[vd("visibleTouchUI",wi({transform:"translate(-50%,-50%)",opacity:1})),ms("void => visible",[wi({opacity:0,transform:"scaleY(0.8)"}),Rs("{{showTransitionParams}}",wi({opacity:1,transform:"*"}))]),ms("visible => void",[Rs("{{hideTransitionParams}}",wi({opacity:0}))]),ms("void => visibleTouchUI",[wi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Rs("{{showTransitionParams}}")]),ms("visibleTouchUI => void",[Rs("{{hideTransitionParams}}",wi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})),e})(),Kte=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,xc,pn,ks,Om,Lm,IP,Em,Qi,DP,xc,pn]})),e})(),OP=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})(),LP=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})(),kP=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["AngleLeftIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})(),FP=(()=>{var i;class e extends fn{}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["AngleRightIcon"]],standalone:!0,features:[ot,nn],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0),ee(1,"path",1),E()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})),e})();function Xte(i,e){1&i&&Ie(0)}const _b=function(i){return{$implicit:i}};function Zte(i,e){if(1&i&&(S(0,"div",15),x(1,Xte,1,0,"ng-container",16),E()),2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.templateLeft)("ngTemplateOutletContext",st(2,_b,t.paginatorState))}}function Qte(i,e){if(1&i&&(S(0,"span",17),H(1),E()),2&i){const t=T(2);b(1),cn(t.currentPageReport)}}function Jte(i,e){1&i&&ee(0,"AngleDoubleLeftIcon",19),2&i&&y("styleClass","p-paginator-icon")}function ene(i,e){}function tne(i,e){1&i&&x(0,ene,0,0,"ng-template")}function nne(i,e){if(1&i&&(S(0,"span",20),x(1,tne,1,0,null,21),E()),2&i){const t=T(3);b(1),y("ngTemplateOutlet",t.firstPageLinkIconTemplate)}}const km=function(i){return{"p-disabled":i}};function ine(i,e){if(1&i){const t=Ge();S(0,"button",18),ae("click",function(s){return $(t),j(T(2).changePageToFirst(s))}),x(1,Jte,1,1,"AngleDoubleLeftIcon",6),x(2,nne,2,1,"span",7),E()}if(2&i){const t=T(2);y("disabled",t.isFirstPage()||t.empty())("ngClass",st(4,km,t.isFirstPage()||t.empty())),b(1),y("ngIf",!t.firstPageLinkIconTemplate),b(1),y("ngIf",t.firstPageLinkIconTemplate)}}function sne(i,e){1&i&&ee(0,"AngleLeftIcon",19),2&i&&y("styleClass","p-paginator-icon")}function rne(i,e){}function one(i,e){1&i&&x(0,rne,0,0,"ng-template")}function ane(i,e){if(1&i&&(S(0,"span",20),x(1,one,1,0,null,21),E()),2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.previousPageLinkIconTemplate)}}const lne=function(i){return{"p-highlight":i}};function cne(i,e){if(1&i){const t=Ge();S(0,"button",24),ae("click",function(s){const o=$(t).$implicit;return j(T(3).onPageLinkClick(s,o-1))}),H(1),E()}if(2&i){const t=e.$implicit,n=T(3);y("ngClass",st(2,lne,t-1==n.getPage())),b(1),gn(" ",n.getLocalization(t)," ")}}function une(i,e){if(1&i&&(S(0,"span",22),x(1,cne,2,4,"button",23),E()),2&i){const t=T(2);b(1),y("ngForOf",t.pageLinks)}}function dne(i,e){1&i&&H(0),2&i&&cn(T(3).currentPageReport)}function hne(i,e){if(1&i){const t=Ge();S(0,"p-dropdown",25),ae("onChange",function(s){return $(t),j(T(2).onPageDropdownChange(s))}),x(1,dne,1,1,"ng-template",26),E()}if(2&i){const t=T(2);y("options",t.pageItems)("ngModel",t.getPage())("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight)}}function pne(i,e){1&i&&ee(0,"AngleRightIcon",19),2&i&&y("styleClass","p-paginator-icon")}function fne(i,e){}function mne(i,e){1&i&&x(0,fne,0,0,"ng-template")}function gne(i,e){if(1&i&&(S(0,"span",20),x(1,mne,1,0,null,21),E()),2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.nextPageLinkIconTemplate)}}function _ne(i,e){1&i&&ee(0,"AngleDoubleRightIcon",19),2&i&&y("styleClass","p-paginator-icon")}function vne(i,e){}function yne(i,e){1&i&&x(0,vne,0,0,"ng-template")}function bne(i,e){if(1&i&&(S(0,"span",20),x(1,yne,1,0,null,21),E()),2&i){const t=T(3);b(1),y("ngTemplateOutlet",t.lastPageLinkIconTemplate)}}function wne(i,e){if(1&i){const t=Ge();S(0,"button",27),ae("click",function(s){return $(t),j(T(2).changePageToLast(s))}),x(1,_ne,1,1,"AngleDoubleRightIcon",6),x(2,bne,2,1,"span",7),E()}if(2&i){const t=T(2);y("disabled",t.isLastPage()||t.empty())("ngClass",st(4,km,t.isLastPage()||t.empty())),b(1),y("ngIf",!t.lastPageLinkIconTemplate),b(1),y("ngIf",t.lastPageLinkIconTemplate)}}function Cne(i,e){if(1&i){const t=Ge();S(0,"p-inputNumber",28),ae("ngModelChange",function(s){return $(t),j(T(2).changePage(s-1))}),E()}if(2&i){const t=T(2);y("ngModel",t.currentPage())("disabled",t.empty())}}function xne(i,e){1&i&&Ie(0)}function Tne(i,e){if(1&i&&x(0,xne,1,0,"ng-container",16),2&i){const t=e.$implicit;y("ngTemplateOutlet",T(4).dropdownItemTemplate)("ngTemplateOutletContext",st(2,_b,t))}}function Sne(i,e){1&i&&(Oe(0),x(1,Tne,1,4,"ng-template",31),Le())}function Mne(i,e){if(1&i){const t=Ge();S(0,"p-dropdown",29),ae("ngModelChange",function(s){return $(t),j(T(2).rows=s)})("onChange",function(s){return $(t),j(T(2).onRppChange(s))}),x(1,Sne,2,0,"ng-container",30),E()}if(2&i){const t=T(2);y("options",t.rowsPerPageItems)("ngModel",t.rows)("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight),b(1),y("ngIf",t.dropdownItemTemplate)}}function Ene(i,e){1&i&&Ie(0)}function Ine(i,e){if(1&i&&(S(0,"div",32),x(1,Ene,1,0,"ng-container",16),E()),2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.templateRight)("ngTemplateOutletContext",st(2,_b,t.paginatorState))}}function Dne(i,e){if(1&i){const t=Ge();S(0,"div",1),x(1,Zte,2,4,"div",2),x(2,Qte,2,1,"span",3),x(3,ine,3,6,"button",4),S(4,"button",5),ae("click",function(s){return $(t),j(T().changePageToPrev(s))}),x(5,sne,1,1,"AngleLeftIcon",6),x(6,ane,2,1,"span",7),E(),x(7,une,2,1,"span",8),x(8,hne,2,5,"p-dropdown",9),S(9,"button",10),ae("click",function(s){return $(t),j(T().changePageToNext(s))}),x(10,pne,1,1,"AngleRightIcon",6),x(11,gne,2,1,"span",7),E(),x(12,wne,3,6,"button",11),x(13,Cne,1,2,"p-inputNumber",12),x(14,Mne,2,6,"p-dropdown",13),x(15,Ine,2,4,"div",14),E()}if(2&i){const t=T();Ne(t.styleClass),y("ngStyle",t.style)("ngClass","p-paginator p-component"),b(1),y("ngIf",t.templateLeft),b(1),y("ngIf",t.showCurrentPageReport),b(1),y("ngIf",t.showFirstLastIcon),b(1),y("disabled",t.isFirstPage()||t.empty())("ngClass",st(21,km,t.isFirstPage()||t.empty())),b(1),y("ngIf",!t.previousPageLinkIconTemplate),b(1),y("ngIf",t.previousPageLinkIconTemplate),b(1),y("ngIf",t.showPageLinks),b(1),y("ngIf",t.showJumpToPageDropdown),b(1),y("disabled",t.isLastPage()||t.empty())("ngClass",st(23,km,t.isLastPage()||t.empty())),b(1),y("ngIf",!t.nextPageLinkIconTemplate),b(1),y("ngIf",t.nextPageLinkIconTemplate),b(1),y("ngIf",t.showFirstLastIcon),b(1),y("ngIf",t.showJumpToPageInput),b(1),y("ngIf",t.rowsPerPageOptions),b(1),y("ngIf",t.templateRight)}}let Ane=(()=>{var i;class e{get first(){return this._first}set first(n){this._first=n}constructor(n){d(this,"cd",void 0),d(this,"pageLinkSize",5),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"alwaysShow",!0),d(this,"dropdownAppendTo",void 0),d(this,"templateLeft",void 0),d(this,"templateRight",void 0),d(this,"appendTo",void 0),d(this,"dropdownScrollHeight","200px"),d(this,"currentPageReportTemplate","{currentPage} of {totalPages}"),d(this,"showCurrentPageReport",void 0),d(this,"showFirstLastIcon",!0),d(this,"totalRecords",0),d(this,"rows",0),d(this,"rowsPerPageOptions",void 0),d(this,"showJumpToPageDropdown",void 0),d(this,"showJumpToPageInput",void 0),d(this,"showPageLinks",!0),d(this,"locale",void 0),d(this,"dropdownItemTemplate",void 0),d(this,"onPageChange",new me),d(this,"templates",void 0),d(this,"firstPageLinkIconTemplate",void 0),d(this,"previousPageLinkIconTemplate",void 0),d(this,"lastPageLinkIconTemplate",void 0),d(this,"nextPageLinkIconTemplate",void 0),d(this,"pageLinks",void 0),d(this,"pageItems",void 0),d(this,"rowsPerPageItems",void 0),d(this,"paginatorState",void 0),d(this,"_first",0),d(this,"_page",0),this.cd=n}ngOnInit(){this.updatePaginatorState()}getLocalization(n){const s=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(s.map((o,a)=>[a,o]));return n>9?String(n).split("").map(a=>r.get(Number(a))).join(""):r.get(n)}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"firstpagelinkicon":this.firstPageLinkIconTemplate=n.template;break;case"previouspagelinkicon":this.previousPageLinkIconTemplate=n.template;break;case"lastpagelinkicon":this.lastPageLinkIconTemplate=n.template;break;case"nextpagelinkicon":this.nextPageLinkIconTemplate=n.template}})}ngOnChanges(n){n.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),n.first&&(this._first=n.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),n.rows&&(this.updatePageLinks(),this.updatePaginatorState()),n.rowsPerPageOptions&&this.updateRowsPerPageOptions()}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let n of this.rowsPerPageOptions)"object"==typeof n&&n.showAll?this.rowsPerPageItems.unshift({label:n.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(this.getLocalization(n)),value:n})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let n=this.getPageCount(),s=Math.min(this.pageLinkSize,n),r=Math.max(0,Math.ceil(this.getPage()-s/2)),o=Math.min(n-1,r+s-1);return r=Math.max(0,r-(this.pageLinkSize-(o-r+1))),[r,o]}updatePageLinks(){this.pageLinks=[];let n=this.calculatePageLinkBoundaries(),r=n[1];for(let o=n[0];o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(n){var s=this.getPageCount();if(n>=0&&n<s){this._first=this.rows*n;var r={page:n,first:this.first,rows:this.rows,pageCount:s};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const n=this.getPage();n>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(n-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(n){this.isFirstPage()||this.changePage(0),n.preventDefault()}changePageToPrev(n){this.changePage(this.getPage()-1),n.preventDefault()}changePageToNext(n){this.changePage(this.getPage()+1),n.preventDefault()}changePageToLast(n){this.isLastPage()||this.changePage(this.getPageCount()-1),n.preventDefault()}onPageLinkClick(n,s){this.changePage(s),n.preventDefault()}onRppChange(n){this.changePage(this.getPage())}onPageDropdownChange(n){this.changePage(n.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Zn))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-paginator"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",dropdownAppendTo:"dropdownAppendTo",templateLeft:"templateLeft",templateRight:"templateRight",appendTo:"appendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",locale:"locale",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[Ai],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[3,"styleClass",4,"ngIf"],["class","p-paginator-icon",4,"ngIf"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[3,"styleClass"],[1,"p-paginator-icon"],[4,"ngTemplateOutlet"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(n,s){1&n&&x(0,Dne,16,25,"div",0),2&n&&y("ngIf",!!s.alwaysShow||s.pageLinks&&s.pageLinks.length>1)},dependencies:function(){return[Jn,Ir,On,Nn,ri,Dm,Bn,Pm,hm,wm,pr,OP,LP,kP,FP]},styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0})),e})(),Pne=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,Am,Rm,xm,pn,ks,OP,LP,kP,FP,Am,Rm,xm,pn]})),e})();function Rne(i,e){1&i&&ee(0,"span",8),2&i&&(Ne(T(2).$implicit.icon),y("ngClass","p-button-icon p-button-icon-left"))}function One(i,e){if(1&i&&(Oe(0),x(1,Rne,1,3,"span",6),S(2,"span",7),H(3),E(),Le()),2&i){const t=T().$implicit,n=T();b(1),y("ngIf",t.icon),b(2),cn(n.getOptionLabel(t))}}function Lne(i,e){1&i&&Ie(0)}const kne=function(i,e){return{$implicit:i,index:e}};function Fne(i,e){if(1&i&&x(0,Lne,1,0,"ng-container",9),2&i){const t=T(),n=t.$implicit,s=t.index;y("ngTemplateOutlet",T().selectButtonTemplate)("ngTemplateOutletContext",vn(2,kne,n,s))}}const Nne=function(i,e,t){return{"p-highlight":i,"p-disabled":e,"p-button-icon-only":t}};function Vne(i,e){if(1&i){const t=Ge();S(0,"div",2,3),ae("click",function(s){const r=$(t),o=r.$implicit,a=r.index;return j(T().onItemClick(s,o,a))})("keydown.enter",function(s){const r=$(t),o=r.$implicit,a=r.index;return j(T().onItemClick(s,o,a))})("blur",function(){return $(t),j(T().onBlur())}),x(2,One,4,2,"ng-container",4),x(3,Fne,1,5,"ng-template",null,5,bi),E()}if(2&i){const t=e.$implicit,n=xn(4),s=T();Ne(t.styleClass),y("ngClass",qi(10,Nne,s.isSelected(t),s.disabled||s.isOptionDisabled(t),t.icon&&!s.getOptionLabel(t))),pe("aria-pressed",s.isSelected(t))("title",t.title)("aria-label",t.label)("tabindex",s.disabled?null:s.tabindex)("aria-labelledby",s.getOptionLabel(t)),b(2),y("ngIf",!s.itemTemplate)("ngIfElse",n)}}const Bne={provide:mi,useExisting:qt(()=>Une),multi:!0};let Une=(()=>{var i;class e{get selectButtonTemplate(){return this.itemTemplate?.template}constructor(n){d(this,"cd",void 0),d(this,"options",void 0),d(this,"optionLabel",void 0),d(this,"optionValue",void 0),d(this,"optionDisabled",void 0),d(this,"tabindex",0),d(this,"multiple",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"ariaLabelledBy",void 0),d(this,"disabled",void 0),d(this,"dataKey",void 0),d(this,"onOptionClick",new me),d(this,"onChange",new me),d(this,"itemTemplate",void 0),d(this,"value",void 0),d(this,"onModelChange",()=>{}),d(this,"onModelTouched",()=>{}),this.cd=n}getOptionLabel(n){return this.optionLabel?Se.resolveFieldData(n,this.optionLabel):null!=n.label?n.label:n}getOptionValue(n){return this.optionValue?Se.resolveFieldData(n,this.optionValue):this.optionLabel||void 0===n.value?n:n.value}isOptionDisabled(n){return this.optionDisabled?Se.resolveFieldData(n,this.optionDisabled):void 0!==n.disabled&&n.disabled}writeValue(n){this.value=n,this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}onItemClick(n,s,r){if(this.disabled||this.isOptionDisabled(s))return;const o=this.getOptionValue(s);this.multiple?(this.isSelected(s)?this.removeOption(s):this.value=[...this.value||[],o],this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value})):this.value!==o&&(this.value=o,this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value})),this.onOptionClick.emit({originalEvent:n,option:s,index:r})}onBlur(){this.onModelTouched()}removeOption(n){this.value=this.value.filter(s=>!Se.equals(s,this.getOptionValue(n),this.dataKey))}isSelected(n){let s=!1;const r=this.getOptionValue(n);if(this.multiple){if(this.value&&Array.isArray(this.value))for(let o of this.value)if(Se.equals(o,r,this.dataKey)){s=!0;break}}else s=Se.equals(r,this.value,this.dataKey);return s}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Zn))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-selectButton"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,5),2&n){let o;We(o=$e())&&(s.itemTemplate=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Jt([Bne])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,s){1&n&&(S(0,"div",0),x(1,Vne,5,14,"div",1),E()),2&n&&(Ne(s.styleClass),y("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",s.style),b(1),y("ngForOf",s.options))},dependencies:[Jn,Ir,On,Nn,ri,pr],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}p-button[iconpos=right] spinnericon{order:1}\n'],encapsulation:2,changeDetection:0})),e})(),Hne=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,ks,pn,pn]})),e})();function zne(i,e){1&i&&ee(0,"span",8),2&i&&y("ngClass",T(2).checkboxTrueIcon)}function Gne(i,e){1&i&&ee(0,"CheckIcon",11),2&i&&y("styleClass","p-checkbox-icon")}function Wne(i,e){}function $ne(i,e){1&i&&x(0,Wne,0,0,"ng-template")}function jne(i,e){if(1&i&&(S(0,"span",12),x(1,$ne,1,0,null,13),E()),2&i){const t=T(3);b(1),y("ngTemplateOutlet",t.checkIconTemplate)}}function qne(i,e){if(1&i&&(Oe(0),x(1,Gne,1,1,"CheckIcon",9),x(2,jne,2,1,"span",10),Le()),2&i){const t=T(2);b(1),y("ngIf",!t.checkIconTemplate),b(1),y("ngIf",t.checkIconTemplate)}}function Yne(i,e){if(1&i&&(Oe(0),x(1,zne,1,1,"span",7),x(2,qne,3,2,"ng-container",5),Le()),2&i){const t=T();b(1),y("ngIf",t.checkboxTrueIcon),b(1),y("ngIf",!t.checkboxTrueIcon)}}function Kne(i,e){1&i&&ee(0,"span",8),2&i&&y("ngClass",T(2).checkboxFalseIcon)}function Xne(i,e){1&i&&ee(0,"TimesIcon",11),2&i&&y("styleClass","p-checkbox-icon")}function Zne(i,e){}function Qne(i,e){1&i&&x(0,Zne,0,0,"ng-template")}function Jne(i,e){if(1&i&&(S(0,"span",12),x(1,Qne,1,0,null,13),E()),2&i){const t=T(3);b(1),y("ngTemplateOutlet",t.uncheckIconTemplate)}}function eie(i,e){if(1&i&&(Oe(0),x(1,Xne,1,1,"TimesIcon",9),x(2,Jne,2,1,"span",10),Le()),2&i){const t=T(2);b(1),y("ngIf",!t.uncheckIconTemplate),b(1),y("ngIf",t.uncheckIconTemplate)}}function tie(i,e){if(1&i&&(Oe(0),x(1,Kne,1,1,"span",7),x(2,eie,3,2,"ng-container",5),Le()),2&i){const t=T();b(1),y("ngIf",t.checkboxFalseIcon),b(1),y("ngIf",!t.checkboxFalseIcon)}}const nie=function(i,e,t){return{"p-checkbox-label-active":i,"p-disabled":e,"p-checkbox-label-focus":t}};function iie(i,e){if(1&i){const t=Ge();S(0,"label",14),ae("click",function(s){$(t);const r=T(),o=xn(3);return j(r.onClick(s,o))}),H(1),E()}if(2&i){const t=T();y("ngClass",qi(3,nie,null!=t.value,t.disabled,t.focused)),pe("for",t.inputId),b(1),cn(t.label)}}const sie=function(i,e){return{"p-checkbox p-component":!0,"p-checkbox-disabled":i,"p-checkbox-focused":e}},rie=function(i,e,t){return{"p-highlight":i,"p-disabled":e,"p-focus":t}},oie={provide:mi,useExisting:qt(()=>aie),multi:!0};let aie=(()=>{var i;class e{constructor(n){d(this,"cd",void 0),d(this,"disabled",void 0),d(this,"name",void 0),d(this,"ariaLabelledBy",void 0),d(this,"tabindex",void 0),d(this,"inputId",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"label",void 0),d(this,"readonly",void 0),d(this,"checkboxTrueIcon",void 0),d(this,"checkboxFalseIcon",void 0),d(this,"onChange",new me),d(this,"templates",void 0),d(this,"checkIconTemplate",void 0),d(this,"uncheckIconTemplate",void 0),d(this,"focused",void 0),d(this,"value",void 0),d(this,"onModelChange",()=>{}),d(this,"onModelTouched",()=>{}),this.cd=n}onClick(n,s){!this.disabled&&!this.readonly&&(this.toggle(n),this.focused=!0,s.focus())}onKeydown(n){32==n.keyCode&&n.preventDefault()}onKeyup(n){32==n.keyCode&&!this.readonly&&(this.toggle(n),n.preventDefault())}toggle(n){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value})}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"checkicon":this.checkIconTemplate=n.template;break;case"uncheckicon":this.uncheckIconTemplate=n.template}})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}writeValue(n){this.value=n,this.cd.markForCheck()}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Zn))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-triStateCheckbox"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[Jt([oie])],decls:8,vars:22,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[4,"ngIf"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(n,s){if(1&n){const r=Ge();S(0,"div",0)(1,"div",1)(2,"input",2,3),ae("keyup",function(a){return s.onKeyup(a)})("keydown",function(a){return s.onKeydown(a)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()}),E()(),S(4,"div",4),ae("click",function(a){$(r);const l=xn(3);return j(s.onClick(a,l))}),x(5,Yne,3,2,"ng-container",5),x(6,tie,3,2,"ng-container",5),E()(),x(7,iie,2,7,"label",6)}2&n&&(Ne(s.styleClass),y("ngStyle",s.style)("ngClass",vn(15,sie,s.disabled,s.focused)),b(2),y("name",s.name)("readonly",s.readonly)("disabled",s.disabled),pe("id",s.inputId)("tabindex",s.tabindex)("aria-labelledby",s.ariaLabelledBy),b(2),y("ngClass",qi(18,rie,null!=s.value,s.disabled,s.focused)),pe("aria-checked",!0===s.value),b(1),y("ngIf",!0===s.value),b(1),y("ngIf",!1===s.value),b(1),y("ngIf",s.label))},dependencies:function(){return[Jn,On,Nn,ri,Or,Qi]},encapsulation:2,changeDetection:0})),e})(),lie=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,pn,Or,Qi,pn]})),e})(),NP=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["ArrowDownIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})(),VP=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["ArrowUpIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})(),cie=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["FilterIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})(),uie=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["SortAltIcon"]],standalone:!0,features:[ot,nn],decls:9,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4),E(),S(6,"defs")(7,"clipPath",5),ee(8,"rect",6),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(6),y("id",s.pathId))},encapsulation:2})),e})(),die=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["SortAmountDownIcon"]],standalone:!0,features:[ot,nn],decls:11,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M2.59836 13.2009C2.44634 13.2009 2.29432 13.1449 2.1743 13.0248L0.174024 11.0246C-0.0580081 10.7925 -0.0580081 10.4085 0.174024 10.1764C0.406057 9.94441 0.79011 9.94441 1.02214 10.1764L2.59836 11.7527L4.17458 10.1764C4.40662 9.94441 4.79067 9.94441 5.0227 10.1764C5.25473 10.4085 5.25473 10.7925 5.0227 11.0246L3.02242 13.0248C2.90241 13.1449 2.75038 13.2009 2.59836 13.2009Z","fill","currentColor"],["d","M2.59836 13.2009C2.27032 13.2009 1.99833 12.9288 1.99833 12.6008V1.39922C1.99833 1.07117 2.27036 0.799133 2.59841 0.799133C2.92646 0.799133 3.19849 1.07117 3.19849 1.39922V12.6008C3.19849 12.9288 2.92641 13.2009 2.59836 13.2009Z","fill","currentColor"],["d","M13.3999 11.2006H6.99902C6.67098 11.2006 6.39894 10.9285 6.39894 10.6005C6.39894 10.2725 6.67098 10.0004 6.99902 10.0004H13.3999C13.728 10.0004 14 10.2725 14 10.6005C14 10.9285 13.728 11.2006 13.3999 11.2006Z","fill","currentColor"],["d","M10.1995 6.39991H6.99902C6.67098 6.39991 6.39894 6.12788 6.39894 5.79983C6.39894 5.47179 6.67098 5.19975 6.99902 5.19975H10.1995C10.5275 5.19975 10.7996 5.47179 10.7996 5.79983C10.7996 6.12788 10.5275 6.39991 10.1995 6.39991Z","fill","currentColor"],["d","M8.59925 3.99958H6.99902C6.67098 3.99958 6.39894 3.72754 6.39894 3.3995C6.39894 3.07145 6.67098 2.79941 6.99902 2.79941H8.59925C8.92729 2.79941 9.19933 3.07145 9.19933 3.3995C9.19933 3.72754 8.92729 3.99958 8.59925 3.99958Z","fill","currentColor"],["d","M11.7997 8.80025H6.99902C6.67098 8.80025 6.39894 8.52821 6.39894 8.20017C6.39894 7.87212 6.67098 7.60008 6.99902 7.60008H11.7997C12.1277 7.60008 12.3998 7.87212 12.3998 8.20017C12.3998 8.52821 12.1277 8.80025 11.7997 8.80025Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4)(6,"path",5)(7,"path",6),E(),S(8,"defs")(9,"clipPath",7),ee(10,"rect",8),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(8),y("id",s.pathId))},encapsulation:2})),e})(),hie=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["SortAmountUpAltIcon"]],standalone:!0,features:[ot,nn],decls:11,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.59864 3.99958C4.44662 3.99958 4.2946 3.94357 4.17458 3.82356L2.59836 2.24734L1.02214 3.82356C0.79011 4.05559 0.406057 4.05559 0.174024 3.82356C-0.0580081 3.59152 -0.0580081 3.20747 0.174024 2.97544L2.1743 0.97516C2.40634 0.743127 2.79039 0.743127 3.02242 0.97516L5.0227 2.97544C5.25473 3.20747 5.25473 3.59152 5.0227 3.82356C4.90268 3.94357 4.75066 3.99958 4.59864 3.99958Z","fill","currentColor"],["d","M2.59841 13.2009C2.27036 13.2009 1.99833 12.9288 1.99833 12.6008V1.39922C1.99833 1.07117 2.27036 0.799133 2.59841 0.799133C2.92646 0.799133 3.19849 1.07117 3.19849 1.39922V12.6008C3.19849 12.9288 2.92646 13.2009 2.59841 13.2009Z","fill","currentColor"],["d","M13.3999 11.2006H6.99902C6.67098 11.2006 6.39894 10.9285 6.39894 10.6005C6.39894 10.2725 6.67098 10.0004 6.99902 10.0004H13.3999C13.728 10.0004 14 10.2725 14 10.6005C14 10.9285 13.728 11.2006 13.3999 11.2006Z","fill","currentColor"],["d","M10.1995 6.39991H6.99902C6.67098 6.39991 6.39894 6.12788 6.39894 5.79983C6.39894 5.47179 6.67098 5.19975 6.99902 5.19975H10.1995C10.5275 5.19975 10.7996 5.47179 10.7996 5.79983C10.7996 6.12788 10.5275 6.39991 10.1995 6.39991Z","fill","currentColor"],["d","M8.59925 3.99958H6.99902C6.67098 3.99958 6.39894 3.72754 6.39894 3.3995C6.39894 3.07145 6.67098 2.79941 6.99902 2.79941H8.59925C8.92729 2.79941 9.19933 3.07145 9.19933 3.3995C9.19933 3.72754 8.92729 3.99958 8.59925 3.99958Z","fill","currentColor"],["d","M11.7997 8.80025H6.99902C6.67098 8.80025 6.39894 8.52821 6.39894 8.20017C6.39894 7.87212 6.67098 7.60008 6.99902 7.60008H11.7997C12.1277 7.60008 12.3998 7.87212 12.3998 8.20017C12.3998 8.52821 12.1277 8.80025 11.7997 8.80025Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4)(6,"path",5)(7,"path",6),E(),S(8,"defs")(9,"clipPath",7),ee(10,"rect",8),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(8),y("id",s.pathId))},encapsulation:2})),e})(),pie=(()=>{var i;class e extends fn{constructor(...n){super(...n),d(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Vn()+")"}}return i=e,d(e,"\u0275fac",function(){let t;return function(s){return(t||(t=xt(i)))(s||i)}}()),d(e,"\u0275cmp",tt({type:i,selectors:[["FilterSlashIcon"]],standalone:!0,features:[ot,nn],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){1&n&&(ln(),S(0,"svg",0)(1,"g"),ee(2,"path",1),E(),S(3,"defs")(4,"clipPath",2),ee(5,"rect",3),E()()()),2&n&&(Ne(s.getClassNames()),pe("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),b(1),pe("clip-path",s.pathId),b(3),y("id",s.pathId))},encapsulation:2})),e})();const fie=["container"],mie=["resizeHelper"],gie=["reorderIndicatorUp"],_ie=["reorderIndicatorDown"],vie=["wrapper"],yie=["table"],bie=["thead"],wie=["tfoot"],Cie=["scroller"];function xie(i,e){1&i&&ee(0,"i"),2&i&&Ne("p-datatable-loading-icon "+T(2).loadingIcon)}function Tie(i,e){1&i&&ee(0,"SpinnerIcon",19),2&i&&y("spin",!0)("styleClass","p-datatable-loading-icon")}function Sie(i,e){}function Mie(i,e){1&i&&x(0,Sie,0,0,"ng-template")}function Eie(i,e){if(1&i&&(S(0,"span",20),x(1,Mie,1,0,null,21),E()),2&i){const t=T(3);b(1),y("ngTemplateOutlet",t.loadingIconTemplate)}}function Iie(i,e){if(1&i&&(Oe(0),x(1,Tie,1,2,"SpinnerIcon",17),x(2,Eie,2,1,"span",18),Le()),2&i){const t=T(2);b(1),y("ngIf",!t.loadingIconTemplate),b(1),y("ngIf",t.loadingIconTemplate)}}function Die(i,e){if(1&i&&(S(0,"div",15),x(1,xie,1,2,"i",16),x(2,Iie,3,2,"ng-container",8),E()),2&i){const t=T();b(1),y("ngIf",t.loadingIcon),b(1),y("ngIf",!t.loadingIcon)}}function Aie(i,e){1&i&&Ie(0)}function Pie(i,e){if(1&i&&(S(0,"div",22),x(1,Aie,1,0,"ng-container",21),E()),2&i){const t=T();b(1),y("ngTemplateOutlet",t.captionTemplate)}}function Rie(i,e){1&i&&Ie(0)}function Oie(i,e){1&i&&x(0,Rie,1,0,"ng-container",21),2&i&&y("ngTemplateOutlet",T(3).paginatorFirstPageLinkIconTemplate)}function Lie(i,e){1&i&&x(0,Oie,1,1,"ng-template",24)}function kie(i,e){1&i&&Ie(0)}function Fie(i,e){1&i&&x(0,kie,1,0,"ng-container",21),2&i&&y("ngTemplateOutlet",T(3).paginatorPreviousPageLinkIconTemplate)}function Nie(i,e){1&i&&x(0,Fie,1,1,"ng-template",25)}function Vie(i,e){1&i&&Ie(0)}function Bie(i,e){1&i&&x(0,Vie,1,0,"ng-container",21),2&i&&y("ngTemplateOutlet",T(3).paginatorLastPageLinkIconTemplate)}function Uie(i,e){1&i&&x(0,Bie,1,1,"ng-template",26)}function Hie(i,e){1&i&&Ie(0)}function zie(i,e){1&i&&x(0,Hie,1,0,"ng-container",21),2&i&&y("ngTemplateOutlet",T(3).paginatorNextPageLinkIconTemplate)}function Gie(i,e){1&i&&x(0,zie,1,1,"ng-template",27)}function Wie(i,e){if(1&i){const t=Ge();S(0,"p-paginator",23),ae("onPageChange",function(s){return $(t),j(T().onPageChange(s))}),x(1,Lie,1,0,null,8),x(2,Nie,1,0,null,8),x(3,Uie,1,0,null,8),x(4,Gie,1,0,null,8),E()}if(2&i){const t=T();y("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)("styleClass",t.paginatorStyleClass)("locale",t.paginatorLocale),b(1),y("ngIf",t.paginatorFirstPageLinkIconTemplate),b(1),y("ngIf",t.paginatorPreviousPageLinkIconTemplate),b(1),y("ngIf",t.paginatorLastPageLinkIconTemplate),b(1),y("ngIf",t.paginatorNextPageLinkIconTemplate)}}function $ie(i,e){1&i&&Ie(0)}const BP=function(i,e){return{$implicit:i,options:e}};function jie(i,e){if(1&i&&x(0,$ie,1,0,"ng-container",31),2&i){const t=e.$implicit,n=e.options;T(2),y("ngTemplateOutlet",xn(10))("ngTemplateOutletContext",vn(2,BP,t,n))}}const qie=function(i){return{height:i}};function Yie(i,e){if(1&i){const t=Ge();S(0,"p-scroller",28,29),ae("onLazyLoad",function(s){return $(t),j(T().onLazyItemLoad(s))}),x(2,jie,1,5,"ng-template",30),E()}if(2&i){const t=T();en(st(15,qie,"flex"!==t.scrollHeight?t.scrollHeight:void 0)),y("items",t.processedData)("columns",t.columns)("scrollHeight","flex"!==t.scrollHeight?void 0:"100%")("itemSize",t.virtualScrollItemSize||t._virtualRowHeight)("step",t.rows)("delay",t.lazy?t.virtualScrollDelay:0)("inline",!0)("lazy",t.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",t.loadingBodyTemplate)("options",t.virtualScrollOptions)("autoSize",!0)}}function Kie(i,e){1&i&&Ie(0)}const Xie=function(i){return{columns:i}};function Zie(i,e){if(1&i&&(Oe(0),x(1,Kie,1,0,"ng-container",31),Le()),2&i){const t=T(),n=xn(10);b(1),y("ngTemplateOutlet",n)("ngTemplateOutletContext",vn(4,BP,t.processedData,st(2,Xie,t.columns)))}}function Qie(i,e){1&i&&Ie(0)}function Jie(i,e){1&i&&Ie(0)}function ese(i,e){if(1&i&&ee(0,"tbody",40),2&i){const t=T().options,n=T();y("value",n.frozenValue)("frozenRows",!0)("pTableBody",t.columns)("pTableBodyTemplate",n.frozenBodyTemplate)("frozen",!0)}}function tse(i,e){if(1&i&&ee(0,"tbody",41),2&i){const t=T().options;en("height: calc("+t.spacerStyle.height+" - "+t.rows.length*t.itemSize+"px);")}}function nse(i,e){1&i&&Ie(0)}const jo=function(i){return{$implicit:i}};function ise(i,e){if(1&i&&(S(0,"tfoot",42,43),x(2,nse,1,0,"ng-container",31),E()),2&i){const t=T().options,n=T();b(2),y("ngTemplateOutlet",n.footerGroupedTemplate||n.footerTemplate)("ngTemplateOutletContext",st(2,jo,t.columns))}}const sse=function(i,e,t){return{"p-datatable-table":!0,"p-datatable-scrollable-table":i,"p-datatable-resizable-table":e,"p-datatable-resizable-table-fit":t}};function rse(i,e){if(1&i&&(S(0,"table",32,33),x(2,Qie,1,0,"ng-container",31),S(3,"thead",34,35),x(5,Jie,1,0,"ng-container",31),E(),x(6,ese,1,5,"tbody",36),ee(7,"tbody",37),x(8,tse,1,2,"tbody",38),x(9,ise,3,4,"tfoot",39),E()),2&i){const t=e.options,n=T();en(n.tableStyle),Ne(n.tableStyleClass),y("ngClass",qi(20,sse,n.scrollable,n.resizableColumns,n.resizableColumns&&"fit"===n.columnResizeMode)),pe("id",n.id+"-table"),b(2),y("ngTemplateOutlet",n.colGroupTemplate)("ngTemplateOutletContext",st(24,jo,t.columns)),b(3),y("ngTemplateOutlet",n.headerGroupedTemplate||n.headerTemplate)("ngTemplateOutletContext",st(26,jo,t.columns)),b(1),y("ngIf",n.frozenValue||n.frozenBodyTemplate),b(1),en(t.contentStyle),y("ngClass",t.contentStyleClass)("value",n.dataToRender(t.rows))("pTableBody",t.columns)("pTableBodyTemplate",n.bodyTemplate)("scrollerOptions",t),b(1),y("ngIf",t.spacerStyle),b(1),y("ngIf",n.footerGroupedTemplate||n.footerTemplate)}}function ose(i,e){1&i&&Ie(0)}function ase(i,e){1&i&&x(0,ose,1,0,"ng-container",21),2&i&&y("ngTemplateOutlet",T(3).paginatorFirstPageLinkIconTemplate)}function lse(i,e){1&i&&x(0,ase,1,1,"ng-template",24)}function cse(i,e){1&i&&Ie(0)}function use(i,e){1&i&&x(0,cse,1,0,"ng-container",21),2&i&&y("ngTemplateOutlet",T(3).paginatorPreviousPageLinkIconTemplate)}function dse(i,e){1&i&&x(0,use,1,1,"ng-template",25)}function hse(i,e){1&i&&Ie(0)}function pse(i,e){1&i&&x(0,hse,1,0,"ng-container",21),2&i&&y("ngTemplateOutlet",T(3).paginatorLastPageLinkIconTemplate)}function fse(i,e){1&i&&x(0,pse,1,1,"ng-template",26)}function mse(i,e){1&i&&Ie(0)}function gse(i,e){1&i&&x(0,mse,1,0,"ng-container",21),2&i&&y("ngTemplateOutlet",T(3).paginatorNextPageLinkIconTemplate)}function _se(i,e){1&i&&x(0,gse,1,1,"ng-template",27)}function vse(i,e){if(1&i){const t=Ge();S(0,"p-paginator",44),ae("onPageChange",function(s){return $(t),j(T().onPageChange(s))}),x(1,lse,1,0,null,8),x(2,dse,1,0,null,8),x(3,fse,1,0,null,8),x(4,_se,1,0,null,8),E()}if(2&i){const t=T();y("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)("styleClass",t.paginatorStyleClass)("locale",t.paginatorLocale),b(1),y("ngIf",t.paginatorFirstPageLinkIconTemplate),b(1),y("ngIf",t.paginatorPreviousPageLinkIconTemplate),b(1),y("ngIf",t.paginatorLastPageLinkIconTemplate),b(1),y("ngIf",t.paginatorNextPageLinkIconTemplate)}}function yse(i,e){1&i&&Ie(0)}function bse(i,e){if(1&i&&(S(0,"div",45),x(1,yse,1,0,"ng-container",21),E()),2&i){const t=T();b(1),y("ngTemplateOutlet",t.summaryTemplate)}}function wse(i,e){1&i&&ee(0,"div",46,47)}function Cse(i,e){1&i&&ee(0,"ArrowDownIcon")}function xse(i,e){}function Tse(i,e){1&i&&x(0,xse,0,0,"ng-template")}function Sse(i,e){if(1&i&&(S(0,"span",48,49),x(2,Cse,1,0,"ArrowDownIcon",8),x(3,Tse,1,0,null,21),E()),2&i){const t=T();b(2),y("ngIf",!t.reorderIndicatorUpIconTemplate),b(1),y("ngTemplateOutlet",t.reorderIndicatorUpIconTemplate)}}function Mse(i,e){1&i&&ee(0,"ArrowUpIcon")}function Ese(i,e){}function Ise(i,e){1&i&&x(0,Ese,0,0,"ng-template")}function Dse(i,e){if(1&i&&(S(0,"span",50,51),x(2,Mse,1,0,"ArrowUpIcon",8),x(3,Ise,1,0,null,21),E()),2&i){const t=T();b(2),y("ngIf",!t.reorderIndicatorDownIconTemplate),b(1),y("ngTemplateOutlet",t.reorderIndicatorDownIconTemplate)}}const Ase=function(i,e,t){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":i,"p-datatable-scrollable":e,"p-datatable-flex-scrollable":t}},Pse=function(i){return{maxHeight:i}},Rse=["pTableBody",""];function Ose(i,e){1&i&&Ie(0)}const vb=function(i,e,t,n,s){return{$implicit:i,rowIndex:e,columns:t,editing:n,frozen:s}};function Lse(i,e){if(1&i&&(Oe(0,3),x(1,Ose,1,0,"ng-container",4),Le()),2&i){const t=T(),n=t.$implicit,s=t.index,r=T(2);b(1),y("ngTemplateOutlet",r.dt.groupHeaderTemplate)("ngTemplateOutletContext",sf(2,vb,n,r.getRowIndex(s),r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(n),r.frozen))}}function kse(i,e){1&i&&Ie(0)}function Fse(i,e){if(1&i&&(Oe(0),x(1,kse,1,0,"ng-container",4),Le()),2&i){const t=T(),n=t.$implicit,s=t.index,r=T(2);b(1),y("ngTemplateOutlet",n?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",sf(2,vb,n,r.getRowIndex(s),r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(n),r.frozen))}}function Nse(i,e){1&i&&Ie(0)}const Vse=function(i,e,t,n,s,r,o){return{$implicit:i,rowIndex:e,columns:t,editing:n,frozen:s,rowgroup:r,rowspan:o}};function Bse(i,e){if(1&i&&(Oe(0),x(1,Nse,1,0,"ng-container",4),Le()),2&i){const t=T(),n=t.$implicit,s=t.index,r=T(2);b(1),y("ngTemplateOutlet",n?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",function sE(i,e,t,n,s,r,o,a,l,c){const u=Gi()+i,h=ge();let p=Ys(h,u,t,n,s,r);return jp(h,u+4,o,a,l)||p?Mr(h,u+7,c?e.call(c,t,n,s,r,o,a,l):e(t,n,s,r,o,a,l)):Qu(h,u+7)}(2,Vse,n,r.getRowIndex(s),r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(n),r.frozen,r.shouldRenderRowspan(r.value,n,s),r.calculateRowGroupSize(r.value,n,s)))}}function Use(i,e){1&i&&Ie(0)}function Hse(i,e){if(1&i&&(Oe(0,3),x(1,Use,1,0,"ng-container",4),Le()),2&i){const t=T(),n=t.$implicit,s=t.index,r=T(2);b(1),y("ngTemplateOutlet",r.dt.groupFooterTemplate)("ngTemplateOutletContext",sf(2,vb,n,r.getRowIndex(s),r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(n),r.frozen))}}function zse(i,e){if(1&i&&(x(0,Lse,2,8,"ng-container",2),x(1,Fse,2,8,"ng-container",0),x(2,Bse,2,10,"ng-container",0),x(3,Hse,2,8,"ng-container",2)),2&i){const t=e.$implicit,n=e.index,s=T(2);y("ngIf",s.dt.groupHeaderTemplate&&!s.dt.virtualScroll&&"subheader"===s.dt.rowGroupMode&&s.shouldRenderRowGroupHeader(s.value,t,n)),b(1),y("ngIf","rowspan"!==s.dt.rowGroupMode),b(1),y("ngIf","rowspan"===s.dt.rowGroupMode),b(1),y("ngIf",s.dt.groupFooterTemplate&&!s.dt.virtualScroll&&"subheader"===s.dt.rowGroupMode&&s.shouldRenderRowGroupFooter(s.value,t,n))}}function Gse(i,e){if(1&i&&(Oe(0),x(1,zse,4,4,"ng-template",1),Le()),2&i){const t=T();b(1),y("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function Wse(i,e){1&i&&Ie(0)}const Fm=function(i,e,t,n,s,r){return{$implicit:i,rowIndex:e,columns:t,expanded:n,editing:s,frozen:r}};function $se(i,e){if(1&i&&(Oe(0),x(1,Wse,1,0,"ng-container",4),Le()),2&i){const t=T(),n=t.$implicit,s=t.index,r=T(2);b(1),y("ngTemplateOutlet",r.template)("ngTemplateOutletContext",ec(2,Fm,n,r.getRowIndex(s),r.columns,r.dt.isRowExpanded(n),"row"===r.dt.editMode&&r.dt.isRowEditing(n),r.frozen))}}function jse(i,e){1&i&&Ie(0)}function qse(i,e){if(1&i&&(Oe(0,3),x(1,jse,1,0,"ng-container",4),Le()),2&i){const t=T(),n=t.$implicit,s=t.index,r=T(2);b(1),y("ngTemplateOutlet",r.dt.groupHeaderTemplate)("ngTemplateOutletContext",ec(2,Fm,n,r.getRowIndex(s),r.columns,r.dt.isRowExpanded(n),"row"===r.dt.editMode&&r.dt.isRowEditing(n),r.frozen))}}function Yse(i,e){1&i&&Ie(0)}function Kse(i,e){1&i&&Ie(0)}function Xse(i,e){if(1&i&&(Oe(0,3),x(1,Kse,1,0,"ng-container",4),Le()),2&i){const t=T(2),n=t.$implicit,s=t.index,r=T(2);b(1),y("ngTemplateOutlet",r.dt.groupFooterTemplate)("ngTemplateOutletContext",ec(2,Fm,n,r.getRowIndex(s),r.columns,r.dt.isRowExpanded(n),"row"===r.dt.editMode&&r.dt.isRowEditing(n),r.frozen))}}const UP=function(i,e,t,n){return{$implicit:i,rowIndex:e,columns:t,frozen:n}};function Zse(i,e){if(1&i&&(Oe(0),x(1,Yse,1,0,"ng-container",4),x(2,Xse,2,9,"ng-container",2),Le()),2&i){const t=T(),n=t.$implicit,s=t.index,r=T(2);b(1),y("ngTemplateOutlet",r.dt.expandedRowTemplate)("ngTemplateOutletContext",xa(3,UP,n,r.getRowIndex(s),r.columns,r.frozen)),b(1),y("ngIf",r.dt.groupFooterTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,n,r.getRowIndex(s)))}}function Qse(i,e){if(1&i&&(x(0,$se,2,9,"ng-container",0),x(1,qse,2,9,"ng-container",2),x(2,Zse,3,8,"ng-container",0)),2&i){const t=e.$implicit,n=e.index,s=T(2);y("ngIf",!s.dt.groupHeaderTemplate),b(1),y("ngIf",s.dt.groupHeaderTemplate&&"subheader"===s.dt.rowGroupMode&&s.shouldRenderRowGroupHeader(s.value,t,s.getRowIndex(n))),b(1),y("ngIf",s.dt.isRowExpanded(t))}}function Jse(i,e){if(1&i&&(Oe(0),x(1,Qse,3,3,"ng-template",1),Le()),2&i){const t=T();b(1),y("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function ere(i,e){1&i&&Ie(0)}function tre(i,e){1&i&&Ie(0)}function nre(i,e){if(1&i&&(Oe(0),x(1,tre,1,0,"ng-container",4),Le()),2&i){const t=T(),n=t.$implicit,s=t.index,r=T(2);b(1),y("ngTemplateOutlet",r.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",xa(2,UP,n,r.getRowIndex(s),r.columns,r.frozen))}}function ire(i,e){if(1&i&&(x(0,ere,1,0,"ng-container",4),x(1,nre,2,7,"ng-container",0)),2&i){const t=e.$implicit,n=e.index,s=T(2);y("ngTemplateOutlet",s.template)("ngTemplateOutletContext",ec(3,Fm,t,s.getRowIndex(n),s.columns,s.dt.isRowExpanded(t),"row"===s.dt.editMode&&s.dt.isRowEditing(t),s.frozen)),b(1),y("ngIf",s.dt.isRowExpanded(t))}}function sre(i,e){if(1&i&&(Oe(0),x(1,ire,2,10,"ng-template",1),Le()),2&i){const t=T();b(1),y("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function rre(i,e){1&i&&Ie(0)}const HP=function(i,e){return{$implicit:i,frozen:e}};function ore(i,e){if(1&i&&(Oe(0),x(1,rre,1,0,"ng-container",4),Le()),2&i){const t=T();b(1),y("ngTemplateOutlet",t.dt.loadingBodyTemplate)("ngTemplateOutletContext",vn(2,HP,t.columns,t.frozen))}}function are(i,e){1&i&&Ie(0)}function lre(i,e){if(1&i&&(Oe(0),x(1,are,1,0,"ng-container",4),Le()),2&i){const t=T();b(1),y("ngTemplateOutlet",t.dt.emptyMessageTemplate)("ngTemplateOutletContext",vn(2,HP,t.columns,t.frozen))}}let yb=(()=>{var i;class e{constructor(){d(this,"sortSource",new qn),d(this,"selectionSource",new qn),d(this,"contextMenuSource",new qn),d(this,"valueSource",new qn),d(this,"totalRecordsSource",new qn),d(this,"columnsSource",new qn),d(this,"sortSource$",this.sortSource.asObservable()),d(this,"selectionSource$",this.selectionSource.asObservable()),d(this,"contextMenuSource$",this.contextMenuSource.asObservable()),d(this,"valueSource$",this.valueSource.asObservable()),d(this,"totalRecordsSource$",this.totalRecordsSource.asObservable()),d(this,"columnsSource$",this.columnsSource.asObservable())}onSort(n){this.sortSource.next(n)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(n){this.contextMenuSource.next(n)}onValueChange(n){this.valueSource.next(n)}onTotalRecordsChange(n){this.totalRecordsSource.next(n)}onColumnsChange(n){this.columnsSource.next(n)}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275prov",Qe({token:i,factory:i.\u0275fac})),e})(),bb=(()=>{var i;class e{get responsive(){return this._responsive}set responsive(n){this._responsive=n,console.warn("responsive property is deprecated as table is always responsive with scrollable behavior.")}get value(){return this._value}set value(n){this._value=n}get columns(){return this._columns}set columns(n){this._columns=n}get first(){return this._first}set first(n){this._first=n}get rows(){return this._rows}set rows(n){this._rows=n}get totalRecords(){return this._totalRecords}set totalRecords(n){this._totalRecords=n,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(n){this._sortField=n}get sortOrder(){return this._sortOrder}set sortOrder(n){this._sortOrder=n}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(n){this._multiSortMeta=n}get selection(){return this._selection}set selection(n){this._selection=n}get selectAll(){return this._selection}set selectAll(n){this._selection=n}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(n){this._virtualRowHeight=n,console.warn("The virtualRowHeight property is deprecated.")}constructor(n,s,r,o,a,l,c,u,h){d(this,"document",void 0),d(this,"platformId",void 0),d(this,"renderer",void 0),d(this,"el",void 0),d(this,"zone",void 0),d(this,"tableService",void 0),d(this,"cd",void 0),d(this,"filterService",void 0),d(this,"overlayService",void 0),d(this,"frozenColumns",void 0),d(this,"frozenValue",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"tableStyle",void 0),d(this,"tableStyleClass",void 0),d(this,"paginator",void 0),d(this,"pageLinks",5),d(this,"rowsPerPageOptions",void 0),d(this,"alwaysShowPaginator",!0),d(this,"paginatorPosition","bottom"),d(this,"paginatorStyleClass",void 0),d(this,"paginatorDropdownAppendTo",void 0),d(this,"paginatorDropdownScrollHeight","200px"),d(this,"currentPageReportTemplate","{currentPage} of {totalPages}"),d(this,"showCurrentPageReport",void 0),d(this,"showJumpToPageDropdown",void 0),d(this,"showJumpToPageInput",void 0),d(this,"showFirstLastIcon",!0),d(this,"showPageLinks",!0),d(this,"defaultSortOrder",1),d(this,"sortMode","single"),d(this,"resetPageOnSort",!0),d(this,"selectionMode",void 0),d(this,"selectionPageOnly",void 0),d(this,"contextMenuSelection",void 0),d(this,"contextMenuSelectionChange",new me),d(this,"contextMenuSelectionMode","separate"),d(this,"dataKey",void 0),d(this,"metaKeySelection",void 0),d(this,"rowSelectable",void 0),d(this,"rowTrackBy",(p,f)=>f),d(this,"lazy",!1),d(this,"lazyLoadOnInit",!0),d(this,"compareSelectionBy","deepEquals"),d(this,"csvSeparator",","),d(this,"exportFilename","download"),d(this,"filters",{}),d(this,"globalFilterFields",void 0),d(this,"filterDelay",300),d(this,"filterLocale",void 0),d(this,"expandedRowKeys",{}),d(this,"editingRowKeys",{}),d(this,"rowExpandMode","multiple"),d(this,"scrollable",void 0),d(this,"scrollDirection","vertical"),d(this,"rowGroupMode",void 0),d(this,"scrollHeight",void 0),d(this,"virtualScroll",void 0),d(this,"virtualScrollItemSize",void 0),d(this,"virtualScrollOptions",void 0),d(this,"virtualScrollDelay",250),d(this,"frozenWidth",void 0),d(this,"_responsive",void 0),d(this,"contextMenu",void 0),d(this,"resizableColumns",void 0),d(this,"columnResizeMode","fit"),d(this,"reorderableColumns",void 0),d(this,"loading",void 0),d(this,"loadingIcon",void 0),d(this,"showLoader",!0),d(this,"rowHover",void 0),d(this,"customSort",void 0),d(this,"showInitialSortBadge",!0),d(this,"autoLayout",void 0),d(this,"exportFunction",void 0),d(this,"exportHeader",void 0),d(this,"stateKey",void 0),d(this,"stateStorage","session"),d(this,"editMode","cell"),d(this,"groupRowsBy",void 0),d(this,"groupRowsByOrder",1),d(this,"responsiveLayout","scroll"),d(this,"breakpoint","960px"),d(this,"paginatorLocale",void 0),d(this,"selectAllChange",new me),d(this,"selectionChange",new me),d(this,"onRowSelect",new me),d(this,"onRowUnselect",new me),d(this,"onPage",new me),d(this,"onSort",new me),d(this,"onFilter",new me),d(this,"onLazyLoad",new me),d(this,"onRowExpand",new me),d(this,"onRowCollapse",new me),d(this,"onContextMenuSelect",new me),d(this,"onColResize",new me),d(this,"onColReorder",new me),d(this,"onRowReorder",new me),d(this,"onEditInit",new me),d(this,"onEditComplete",new me),d(this,"onEditCancel",new me),d(this,"onHeaderCheckboxToggle",new me),d(this,"sortFunction",new me),d(this,"firstChange",new me),d(this,"rowsChange",new me),d(this,"onStateSave",new me),d(this,"onStateRestore",new me),d(this,"containerViewChild",void 0),d(this,"resizeHelperViewChild",void 0),d(this,"reorderIndicatorUpViewChild",void 0),d(this,"reorderIndicatorDownViewChild",void 0),d(this,"wrapperViewChild",void 0),d(this,"tableViewChild",void 0),d(this,"tableHeaderViewChild",void 0),d(this,"tableFooterViewChild",void 0),d(this,"scroller",void 0),d(this,"templates",void 0),d(this,"_virtualRowHeight",28),d(this,"_value",[]),d(this,"_columns",void 0),d(this,"_totalRecords",0),d(this,"_first",0),d(this,"_rows",void 0),d(this,"filteredValue",void 0),d(this,"headerTemplate",void 0),d(this,"headerGroupedTemplate",void 0),d(this,"bodyTemplate",void 0),d(this,"loadingBodyTemplate",void 0),d(this,"captionTemplate",void 0),d(this,"footerTemplate",void 0),d(this,"footerGroupedTemplate",void 0),d(this,"summaryTemplate",void 0),d(this,"colGroupTemplate",void 0),d(this,"expandedRowTemplate",void 0),d(this,"groupHeaderTemplate",void 0),d(this,"groupFooterTemplate",void 0),d(this,"frozenExpandedRowTemplate",void 0),d(this,"frozenHeaderTemplate",void 0),d(this,"frozenBodyTemplate",void 0),d(this,"frozenFooterTemplate",void 0),d(this,"frozenColGroupTemplate",void 0),d(this,"emptyMessageTemplate",void 0),d(this,"paginatorLeftTemplate",void 0),d(this,"paginatorRightTemplate",void 0),d(this,"paginatorDropdownItemTemplate",void 0),d(this,"loadingIconTemplate",void 0),d(this,"reorderIndicatorUpIconTemplate",void 0),d(this,"reorderIndicatorDownIconTemplate",void 0),d(this,"sortIconTemplate",void 0),d(this,"checkboxIconTemplate",void 0),d(this,"headerCheckboxIconTemplate",void 0),d(this,"paginatorFirstPageLinkIconTemplate",void 0),d(this,"paginatorLastPageLinkIconTemplate",void 0),d(this,"paginatorPreviousPageLinkIconTemplate",void 0),d(this,"paginatorNextPageLinkIconTemplate",void 0),d(this,"selectionKeys",{}),d(this,"lastResizerHelperX",void 0),d(this,"reorderIconWidth",void 0),d(this,"reorderIconHeight",void 0),d(this,"draggedColumn",void 0),d(this,"draggedRowIndex",void 0),d(this,"droppedRowIndex",void 0),d(this,"rowDragging",void 0),d(this,"dropPosition",void 0),d(this,"editingCell",void 0),d(this,"editingCellData",void 0),d(this,"editingCellField",void 0),d(this,"editingCellRowIndex",void 0),d(this,"selfClick",void 0),d(this,"documentEditListener",void 0),d(this,"_multiSortMeta",void 0),d(this,"_sortField",void 0),d(this,"_sortOrder",1),d(this,"preventSelectionSetterPropagation",void 0),d(this,"_selection",void 0),d(this,"_selectAll",null),d(this,"anchorRowIndex",void 0),d(this,"rangeRowIndex",void 0),d(this,"filterTimeout",void 0),d(this,"initialized",void 0),d(this,"rowTouched",void 0),d(this,"restoringSort",void 0),d(this,"restoringFilter",void 0),d(this,"stateRestored",void 0),d(this,"columnOrderStateRestored",void 0),d(this,"columnWidthsState",void 0),d(this,"tableWidthState",void 0),d(this,"overlaySubscription",void 0),d(this,"resizeColumnElement",void 0),d(this,"columnResizing",!1),d(this,"rowGroupHeaderStyleObject",{}),d(this,"id",Vn()),d(this,"styleElement",void 0),d(this,"responsiveStyleElement",void 0),d(this,"window",void 0),d(this,"_initialColWidths",void 0),this.document=n,this.platformId=s,this.renderer=r,this.el=o,this.zone=a,this.tableService=l,this.cd=c,this.filterService=u,this.overlayService=h,this.window=this.document.defaultView}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"caption":this.captionTemplate=n.template;break;case"header":this.headerTemplate=n.template;break;case"headergrouped":this.headerGroupedTemplate=n.template;break;case"body":this.bodyTemplate=n.template;break;case"loadingbody":this.loadingBodyTemplate=n.template;break;case"footer":this.footerTemplate=n.template;break;case"footergrouped":this.footerGroupedTemplate=n.template;break;case"summary":this.summaryTemplate=n.template;break;case"colgroup":this.colGroupTemplate=n.template;break;case"rowexpansion":this.expandedRowTemplate=n.template;break;case"groupheader":this.groupHeaderTemplate=n.template;break;case"groupfooter":this.groupFooterTemplate=n.template;break;case"frozenheader":this.frozenHeaderTemplate=n.template;break;case"frozenbody":this.frozenBodyTemplate=n.template;break;case"frozenfooter":this.frozenFooterTemplate=n.template;break;case"frozencolgroup":this.frozenColGroupTemplate=n.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=n.template;break;case"emptymessage":this.emptyMessageTemplate=n.template;break;case"paginatorleft":this.paginatorLeftTemplate=n.template;break;case"paginatorright":this.paginatorRightTemplate=n.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=n.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=n.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=n.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=n.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=n.template;break;case"loadingicon":this.loadingIconTemplate=n.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=n.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=n.template;break;case"sorticon":this.sortIconTemplate=n.template;break;case"checkboxicon":this.checkboxIconTemplate=n.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=n.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(n){n.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=n.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(n.value.currentValue)),n.columns&&(this._columns=n.columns.currentValue,this.tableService.onColumnsChange(n.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),n.sortField&&(this._sortField=n.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),n.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),n.sortOrder&&(this._sortOrder=n.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),n.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),n.multiSortMeta&&(this._multiSortMeta=n.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),n.selection&&(this._selection=n.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),n.selectAll&&(this._selectAll=n.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get processedData(){return this.filteredValue||this.value||[]}dataToRender(n){const s=n||this.processedData;if(s&&this.paginator){const r=this.lazy?0:this.first;return s.slice(r,r+this.rows)}return s}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let n of this._selection)this.selectionKeys[String(Se.resolveFieldData(n,this.dataKey))]=1;else this.selectionKeys[String(Se.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(n){this.first=n.first,this.rows=n.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(n){let s=n.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===n.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=n.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=s.metaKey||s.ctrlKey,o=this.getSortMeta(n.field);o?r?o.order=-1*o.order:(this._multiSortMeta=[{field:n.field,order:-1*o.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:n.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let n=this.sortField||this.groupRowsBy,s=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(n&&s){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:n,order:s}):(this.value.sort((o,a)=>{let l=Se.resolveFieldData(o,n),c=Se.resolveFieldData(a,n),u=null;return u=null==l&&null!=c?-1:null!=l&&null==c?1:null==l&&null==c?0:"string"==typeof l&&"string"==typeof c?l.localeCompare(c):l<c?-1:l>c?1:0,s*u}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:n,order:s};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((n,s)=>this.multisortField(n,s,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(n,s,r,o){const a=Se.resolveFieldData(n,r[o].field),l=Se.resolveFieldData(s,r[o].field);return 0===Se.compare(a,l,this.filterLocale)?r.length-1>o?this.multisortField(n,s,r,o+1):0:this.compareValuesOnSort(a,l,r[o].order)}compareValuesOnSort(n,s,r){return Se.sort(n,s,r,this.filterLocale,this.sortOrder)}getSortMeta(n){if(this.multiSortMeta&&this.multiSortMeta.length)for(let s=0;s<this.multiSortMeta.length;s++)if(this.multiSortMeta[s].field===n)return this.multiSortMeta[s];return null}isSorted(n){if("single"===this.sortMode)return this.sortField&&this.sortField===n;if("multiple"===this.sortMode){let s=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==n){s=!0;break}return s}}handleRowClick(n){let s=n.originalEvent.target,r=s.nodeName,o=s.parentElement&&s.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&!V.hasClass(n.originalEvent.target,"p-clickable")){if(this.selectionMode){let a=n.rowData,l=n.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&n.originalEvent.shiftKey&&null!=this.anchorRowIndex)V.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(n.originalEvent),this.rangeRowIndex=l,this.selectRange(n.originalEvent,l);else{let c=this.isSelected(a);if(!c&&!this.isRowSelectable(a,l))return;let u=!this.rowTouched&&this.metaKeySelection,h=this.dataKey?String(Se.resolveFieldData(a,this.dataKey)):null;if(this.anchorRowIndex=l,this.rangeRowIndex=l,u){let p=n.originalEvent.metaKey||n.originalEvent.ctrlKey;if(c&&p){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let f=this.findIndexInSelection(a);this._selection=this.selection.filter((m,v)=>v!=f),this.selectionChange.emit(this.selection),h&&delete this.selectionKeys[h]}this.onRowUnselect.emit({originalEvent:n.originalEvent,data:a,type:"row"})}else this.isSingleSelectionMode()?(this._selection=a,this.selectionChange.emit(a),h&&(this.selectionKeys={},this.selectionKeys[h]=1)):this.isMultipleSelectionMode()&&(p?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,a],this.selectionChange.emit(this.selection),h&&(this.selectionKeys[h]=1)),this.onRowSelect.emit({originalEvent:n.originalEvent,data:a,type:"row",index:l})}else if("single"===this.selectionMode)c?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:n.originalEvent,data:a,type:"row",index:l})):(this._selection=a,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:n.originalEvent,data:a,type:"row",index:l}),h&&(this.selectionKeys={},this.selectionKeys[h]=1));else if("multiple"===this.selectionMode)if(c){let p=this.findIndexInSelection(a);this._selection=this.selection.filter((f,m)=>m!=p),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:n.originalEvent,data:a,type:"row",index:l}),h&&delete this.selectionKeys[h]}else this._selection=this.selection?[...this.selection,a]:[a],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:n.originalEvent,data:a,type:"row",index:l}),h&&(this.selectionKeys[h]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(n){this.rowTouched=!0}handleRowRightClick(n){if(this.contextMenu){const s=n.rowData,r=n.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=s,this.contextMenuSelectionChange.emit(s),this.onContextMenuSelect.emit({originalEvent:n.originalEvent,data:s,index:n.rowIndex}),this.contextMenu.show(n.originalEvent),this.tableService.onContextMenu(s);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(s),a=this.dataKey?String(Se.resolveFieldData(s,this.dataKey)):null;if(!o){if(!this.isRowSelectable(s,r))return;this.isSingleSelectionMode()?(this.selection=s,this.selectionChange.emit(s),a&&(this.selectionKeys={},this.selectionKeys[a]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),a&&(this.selectionKeys[a]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(n.originalEvent),this.onContextMenuSelect.emit({originalEvent:n,data:s,index:n.rowIndex})}}}selectRange(n,s){let r,o;this.anchorRowIndex>s?(r=s,o=this.anchorRowIndex):this.anchorRowIndex<s?(r=this.anchorRowIndex,o=s):(r=s,o=s),this.lazy&&this.paginator&&(r-=this.first);let a=[];for(let l=r;l<=o;l++){let c=this.filteredValue?this.filteredValue[l]:this.value[l];if(!this.isSelected(c)){if(!this.isRowSelectable(c,s))continue;a.push(c),this._selection=[...this.selection,c];let u=this.dataKey?String(Se.resolveFieldData(c,this.dataKey)):null;u&&(this.selectionKeys[u]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:n,data:a,type:"row"})}clearSelectionRange(n){let s,r,o=this.rangeRowIndex,a=this.anchorRowIndex;o>a?(s=this.anchorRowIndex,r=this.rangeRowIndex):o<a?(s=this.rangeRowIndex,r=this.anchorRowIndex):(s=this.rangeRowIndex,r=this.rangeRowIndex);for(let l=s;l<=r;l++){let c=this.value[l],u=this.findIndexInSelection(c);this._selection=this.selection.filter((p,f)=>f!=u);let h=this.dataKey?String(Se.resolveFieldData(c,this.dataKey)):null;h&&delete this.selectionKeys[h],this.onRowUnselect.emit({originalEvent:n,data:c,type:"row"})}}isSelected(n){return!(!n||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[Se.resolveFieldData(n,this.dataKey)]:Array.isArray(this.selection)?this.findIndexInSelection(n)>-1:this.equals(n,this.selection))}findIndexInSelection(n){let s=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(n,this.selection[r])){s=r;break}return s}isRowSelectable(n,s){return!(this.rowSelectable&&!this.rowSelectable({data:n,index:s}))}toggleRowWithRadio(n,s){if(this.preventSelectionSetterPropagation=!0,this.selection!=s){if(!this.isRowSelectable(s,n.rowIndex))return;this._selection=s,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:n.originalEvent,index:n.rowIndex,data:s,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(Se.resolveFieldData(s,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:n.originalEvent,index:n.rowIndex,data:s,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(n,s){this.selection=this.selection||[];let r=this.isSelected(s),o=this.dataKey?String(Se.resolveFieldData(s,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let a=this.findIndexInSelection(s);this._selection=this.selection.filter((l,c)=>c!=a),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:n.originalEvent,index:n.rowIndex,data:s,type:"checkbox"}),o&&delete this.selectionKeys[o]}else{if(!this.isRowSelectable(s,n.rowIndex))return;this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:n.originalEvent,index:n.rowIndex,data:s,type:"checkbox"}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(n,s){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:n,checked:s});else{const r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let o=this.selectionPageOnly&&this._selection?this._selection.filter(a=>!r.some(l=>this.equals(a,l))):[];s&&(o=this.frozenValue?[...o,...this.frozenValue,...r]:[...o,...r],o=this.rowSelectable?o.filter((a,l)=>this.rowSelectable({data:a,index:l})):o),this._selection=o,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:n,checked:s}),this.isStateful()&&this.saveState()}}equals(n,s){return"equals"===this.compareSelectionBy?n===s:Se.equals(n,s,this.dataKey)}filter(n,s,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(n)?this.filters[s]&&delete this.filters[s]:this.filters[s]={value:n,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(n,s){this.filter(n,"global",s)}isFilterBlank(n){return null==n||!!("string"==typeof n&&0==n.trim().length||Array.isArray(n)&&0==n.length)}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let n;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");n=this.globalFilterFields||this.columns}this.filteredValue=[];for(let s=0;s<this.value.length;s++){let l,r=!0,o=!1,a=!1;for(let c in this.filters)if(this.filters.hasOwnProperty(c)&&"global"!==c){a=!0;let u=c,h=this.filters[u];if(Array.isArray(h)){for(let p of h)if(r=this.executeLocalFilter(u,this.value[s],p),p.operator===cP.OR&&r||p.operator===cP.AND&&!r)break}else r=this.executeLocalFilter(u,this.value[s],h);if(!r)break}if(this.filters.global&&!o&&n)for(let c=0;c<n.length&&(o=this.filterService.filters[this.filters.global.matchMode](Se.resolveFieldData(this.value[s],n[c].field||n[c]),this.filters.global.value,this.filterLocale),!o);c++);l=this.filters.global?a?a&&r&&o:o:a&&r,l&&this.filteredValue.push(this.value[s])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(n,s,r){let o=r.value,a=r.matchMode||Ri.STARTS_WITH,l=Se.resolveFieldData(s,n);return(0,this.filterService.filters[a])(l,o,this.filterLocale)}hasFilter(){let n=!0;for(let s in this.filters)if(this.filters.hasOwnProperty(s)){n=!1;break}return!n}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.clearFilterValues(),this.filteredValue=null,this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}clearFilterValues(){for(const[,n]of Object.entries(this.filters))if(Array.isArray(n))for(let s of n)s.value=null;else n&&(n.value=null)}reset(){this.clear()}getExportHeader(n){return n[this.exportHeader]||n.header||n.field}exportCSV(n){let s,r="",o=this.columns;n&&n.selectionOnly?s=this.selection||[]:n&&n.allValues?s=this.value||[]:(s=this.filteredValue||this.value,this.frozenValue&&(s=s?[...this.frozenValue,...s]:this.frozenValue));for(let c=0;c<o.length;c++){let u=o[c];!1!==u.exportable&&u.field&&(r+='"'+this.getExportHeader(u)+'"',c<o.length-1&&(r+=this.csvSeparator))}s.forEach((c,u)=>{r+="\n";for(let h=0;h<o.length;h++){let p=o[h];if(!1!==p.exportable&&p.field){let f=Se.resolveFieldData(c,p.field);f=null!=f?this.exportFunction?this.exportFunction({data:f,field:p.field}):String(f).replace(/"/g,'""'):"",r+='"'+f+'"',h<o.length-1&&(r+=this.csvSeparator)}}});let a=new Blob([r],{type:"text/csv;charset=utf-8;"}),l=this.renderer.createElement("a");l.style.display="none",this.renderer.appendChild(this.document.body,l),void 0!==l.download?(l.setAttribute("href",URL.createObjectURL(a)),l.setAttribute("download",this.exportFilename+".csv"),l.click()):(r="data:text/csv;charset=utf-8,"+r,this.window.open(encodeURI(r))),this.renderer.removeChild(this.document.body,l)}onLazyItemLoad(n){this.onLazyLoad.emit({...this.createLazyLoadMetadata(),...n,rows:n.last-n.first})}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(n){this.scroller&&this.scroller.scrollToIndex(n)}scrollTo(n){this.virtualScroll?this.scroller?.scrollTo(n):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(n):(this.wrapperViewChild.nativeElement.scrollLeft=n.left,this.wrapperViewChild.nativeElement.scrollTop=n.top))}updateEditingCell(n,s,r,o){this.editingCell=n,this.editingCellData=s,this.editingCellField=r,this.editingCellRowIndex=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===V.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",n=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(V.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:n,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}initRowEdit(n){let s=String(Se.resolveFieldData(n,this.dataKey));this.editingRowKeys[s]=!0}saveRowEdit(n,s){if(0===V.find(s,".ng-invalid.ng-dirty").length){let r=String(Se.resolveFieldData(n,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(n){let s=String(Se.resolveFieldData(n,this.dataKey));delete this.editingRowKeys[s]}toggleRow(n,s){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(Se.resolveFieldData(n,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:s,data:n})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:s,data:n})),s&&s.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(n){return!0===this.expandedRowKeys[String(Se.resolveFieldData(n,this.dataKey))]}isRowEditing(n){return!0===this.editingRowKeys[String(Se.resolveFieldData(n,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(n){let s=V.getOffset(this.containerViewChild?.nativeElement).left;this.resizeColumnElement=n.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=n.pageX-s+this.containerViewChild?.nativeElement.scrollLeft,this.onColumnResize(n),n.preventDefault()}onColumnResize(n){let s=V.getOffset(this.containerViewChild?.nativeElement).left;V.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=n.pageX-s+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let n=this.resizeHelperViewChild?.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+n;if(r>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let l=this.resizeColumnElement.nextElementSibling.offsetWidth-n;r>15&&l>15&&this.resizeTableCells(r,l)}else"expand"===this.columnResizeMode&&(this._initialColWidths=this._totalTableWidth(),this.setResizeTableWidth(this.tableViewChild?.nativeElement.offsetWidth+n+"px"),this.resizeTableCells(r,null));this.onColResize.emit({element:this.resizeColumnElement,delta:n}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",V.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}_totalTableWidth(){let n=[];const s=V.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");return V.find(s,"tr > th").forEach(o=>n.push(V.getOuterWidth(o))),n}resizeTableCells(n,s){let r=V.index(this.resizeColumnElement),o="expand"===this.columnResizeMode?this._initialColWidths:this._totalTableWidth();this.destroyStyleElement(),this.createStyleElement();let a="";o.forEach((l,c)=>{let u=c===r?n:s&&c===r+1?s:l;a+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${c+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${c+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${c+1}) {\n                    width: ${u}px !important; max-width: ${u}px !important;\n                }\n            `}),this.renderer.setProperty(this.styleElement,"innerHTML",a)}onColumnDragStart(n,s){this.reorderIconWidth=V.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=V.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=s,n.dataTransfer.setData("text","b")}onColumnDragEnter(n,s){if(this.reorderableColumns&&this.draggedColumn&&s){n.preventDefault();let r=V.getOffset(this.containerViewChild?.nativeElement),o=V.getOffset(s);if(this.draggedColumn!=s){V.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),V.indexWithinGroup(s,"preorderablecolumn");let c=o.left-r.left,h=o.left+s.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+s.offsetHeight+"px",n.pageX>h?(this.reorderIndicatorUpViewChild.nativeElement.style.left=c+s.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=c+s.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=c-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=c-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else n.dataTransfer.dropEffect="none"}}onColumnDragLeave(n){this.reorderableColumns&&this.draggedColumn&&n.preventDefault()}onColumnDrop(n,s){if(n.preventDefault(),this.draggedColumn){let r=V.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=V.indexWithinGroup(s,"preorderablecolumn"),a=r!=o;a&&(o-r==1&&-1===this.dropPosition||r-o==1&&1===this.dropPosition)&&(a=!1),a&&o<r&&1===this.dropPosition&&(o+=1),a&&o>r&&-1===this.dropPosition&&(o-=1),a&&(Se.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(n,s){this.rowDragging=!0,this.draggedRowIndex=s,n.dataTransfer.setData("text","b")}onRowDragOver(n,s,r){if(this.rowDragging&&this.draggedRowIndex!==s){let o=V.getOffset(r).top,a=n.pageY,l=o+V.getOuterHeight(r)/2,c=r.previousElementSibling;a<l?(V.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=s,c?V.addClass(c,"p-datatable-dragpoint-bottom"):V.addClass(r,"p-datatable-dragpoint-top")):(c?V.removeClass(c,"p-datatable-dragpoint-bottom"):V.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=s+1,V.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(n,s){let r=s.previousElementSibling;r&&V.removeClass(r,"p-datatable-dragpoint-bottom"),V.removeClass(s,"p-datatable-dragpoint-bottom"),V.removeClass(s,"p-datatable-dragpoint-top")}onRowDragEnd(n){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(n,s){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;Se.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(n,s),this.onRowDragEnd(n)}isEmpty(){let n=this.filteredValue||this.value;return null==n||0==n.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){if(!Dr(this.platformId))throw new Error("Browser storage is not available in the server side.");switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const n=this.getStorage();let s={};this.paginator&&(s.first=this.first,s.rows=this.rows),this.sortField&&(s.sortField=this.sortField,s.sortOrder=this.sortOrder),this.multiSortMeta&&(s.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(s.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(s),this.reorderableColumns&&this.saveColumnOrder(s),this.selection&&(s.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(s.expandedRowKeys=this.expandedRowKeys),n.setItem(this.stateKey,JSON.stringify(s)),this.onStateSave.emit(s)}clearState(){const n=this.getStorage();this.stateKey&&n.removeItem(this.stateKey)}restoreState(){const s=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(s){let a=JSON.parse(s,function(a,l){return"string"==typeof l&&r.test(l)?new Date(l):l});this.paginator&&(void 0!==this.first&&(this.first=a.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=a.rows,this.rowsChange.emit(this.rows))),a.sortField&&(this.restoringSort=!0,this._sortField=a.sortField,this._sortOrder=a.sortOrder),a.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=a.multiSortMeta),a.filters&&(this.restoringFilter=!0,this.filters=a.filters),this.resizableColumns&&(this.columnWidthsState=a.columnWidths,this.tableWidthState=a.tableWidth),a.expandedRowKeys&&(this.expandedRowKeys=a.expandedRowKeys),a.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(a.selection)),this.stateRestored=!0,this.onStateRestore.emit(a)}}saveColumnWidths(n){let s=[];V.find(this.containerViewChild?.nativeElement,".p-datatable-thead > tr > th").forEach(o=>s.push(V.getOuterWidth(o))),n.columnWidths=s.join(","),"expand"===this.columnResizeMode&&(n.tableWidth=V.getOuterWidth(this.tableViewChild?.nativeElement))}setResizeTableWidth(n){this.tableViewChild.nativeElement.style.width=n,this.tableViewChild.nativeElement.style.minWidth=n}restoreColumnWidths(){if(this.columnWidthsState){let n=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),Se.isNotEmpty(n)){this.createStyleElement();let s="";n.forEach((r,o)=>{s+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${o+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${o+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${o+1}) {\n                            width: ${r}px !important; max-width: ${r}px !important\n                        }\n                    `}),this.styleElement.innerHTML=s}}}saveColumnOrder(n){if(this.columns){let s=[];this.columns.map(r=>{s.push(r.field||r.key)}),n.columnOrder=s}}restoreColumnOrder(){const s=this.getStorage().getItem(this.stateKey);if(s){let o=JSON.parse(s).columnOrder;if(o){let a=[];o.map(l=>{let c=this.findColumnByKey(l);c&&a.push(c)}),this.columnOrderStateRestored=!0,this.columns=a}}}findColumnByKey(n){if(!this.columns)return null;for(let s of this.columns)if(s.key===n||s.field===n)return s}createStyleElement(){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){Dr(this.platformId)&&!this.responsiveStyleElement&&(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",this.renderer.appendChild(this.document.head,this.responsiveStyleElement),this.renderer.setProperty(this.responsiveStyleElement,"innerHTML",`\n    @media screen and (max-width: ${this.breakpoint}) {\n        #${this.id}-table > .p-datatable-thead > tr > th,\n        #${this.id}-table > .p-datatable-tfoot > tr > td {\n            display: none !important;\n        }\n\n        #${this.id}-table > .p-datatable-tbody > tr > td {\n            display: flex;\n            width: 100% !important;\n            align-items: center;\n            justify-content: space-between;\n        }\n\n        #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n            border: 0 none;\n        }\n\n        #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n            border-top: 0;\n            border-right: 0;\n            border-left: 0;\n        }\n\n        #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n            display: block;\n        }\n    }\n    `))}destroyResponsiveStyle(){this.responsiveStyleElement&&(this.renderer.removeChild(this.document.head,this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Fn),G(Is),G(pi),G(sn),G(Wt),G(yb),G(Zn),G(tb),G(ib))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-table"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&(Nt(fie,5),Nt(mie,5),Nt(gie,5),Nt(_ie,5),Nt(vie,5),Nt(yie,5),Nt(bie,5),Nt(wie,5),Nt(Cie,5)),2&n){let r;We(r=$e())&&(s.containerViewChild=r.first),We(r=$e())&&(s.resizeHelperViewChild=r.first),We(r=$e())&&(s.reorderIndicatorUpViewChild=r.first),We(r=$e())&&(s.reorderIndicatorDownViewChild=r.first),We(r=$e())&&(s.wrapperViewChild=r.first),We(r=$e())&&(s.tableViewChild=r.first),We(r=$e())&&(s.tableHeaderViewChild=r.first),We(r=$e())&&(s.tableFooterViewChild=r.first),We(r=$e())&&(s.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",paginatorLocale:"paginatorLocale",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll",virtualRowHeight:"virtualRowHeight"},outputs:{contextMenuSelectionChange:"contextMenuSelectionChange",selectAllChange:"selectAllChange",selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[Jt([yb]),Ai],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","p-datatable-reorder-indicator-up","style","display: none;",4,"ngIf"],["class","p-datatable-reorder-indicator-down","style","display: none;",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-datatable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-datatable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-datatable-header"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","onPageChange"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(n,s){1&n&&(S(0,"div",0,1),x(2,Die,3,2,"div",2),x(3,Pie,2,1,"div",3),x(4,Wie,5,23,"p-paginator",4),S(5,"div",5,6),x(7,Yie,3,17,"p-scroller",7),x(8,Zie,2,7,"ng-container",8),x(9,rse,10,28,"ng-template",null,9,bi),E(),x(11,vse,5,23,"p-paginator",10),x(12,bse,2,1,"div",11),x(13,wse,2,0,"div",12),x(14,Sse,4,2,"span",13),x(15,Dse,4,2,"span",14),E()),2&n&&(Ne(s.styleClass),y("ngStyle",s.style)("ngClass",qi(16,Ase,s.rowHover||s.selectionMode,s.scrollable,s.scrollable&&"flex"===s.scrollHeight)),pe("id",s.id),b(2),y("ngIf",s.loading&&s.showLoader),b(1),y("ngIf",s.captionTemplate),b(1),y("ngIf",s.paginator&&("top"===s.paginatorPosition||"both"==s.paginatorPosition)),b(1),y("ngStyle",st(20,Pse,s.virtualScroll?"":s.scrollHeight)),b(2),y("ngIf",s.virtualScroll),b(1),y("ngIf",!s.virtualScroll),b(3),y("ngIf",s.paginator&&("bottom"===s.paginatorPosition||"both"==s.paginatorPosition)),b(1),y("ngIf",s.summaryTemplate),b(1),y("ngIf",s.resizableColumns),b(1),y("ngIf",s.reorderableColumns),b(1),y("ngIf",s.reorderableColumns))},dependencies:function(){return[Jn,On,Nn,ri,Ane,Bn,vP,NP,VP,Cc,ioe]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-icon-wrapper{display:inline}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2})),e})(),ioe=(()=>{var i;class e{get value(){return this._value}set value(n){this._value=n,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}constructor(n,s,r,o){d(this,"dt",void 0),d(this,"tableService",void 0),d(this,"cd",void 0),d(this,"el",void 0),d(this,"columns",void 0),d(this,"template",void 0),d(this,"frozen",void 0),d(this,"frozenRows",void 0),d(this,"scrollerOptions",void 0),d(this,"subscription",void 0),d(this,"_value",void 0),this.dt=n,this.tableService=s,this.cd=r,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}shouldRenderRowGroupHeader(n,s,r){let o=Se.resolveFieldData(s,this.dt.groupRowsBy),a=n[r-1];return!a||o!==Se.resolveFieldData(a,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(n,s,r){let o=Se.resolveFieldData(s,this.dt.groupRowsBy),a=n[r+1];return!a||o!==Se.resolveFieldData(a,this.dt.groupRowsBy)}shouldRenderRowspan(n,s,r){let o=Se.resolveFieldData(s,this.dt.groupRowsBy),a=n[r-1];return!a||o!==Se.resolveFieldData(a,this.dt.groupRowsBy)}calculateRowGroupSize(n,s,r){let o=Se.resolveFieldData(s,this.dt.groupRowsBy),a=o,l=0;for(;o===a;){l++;let c=n[++r];if(!c)break;a=Se.resolveFieldData(c,this.dt.groupRowsBy)}return 1===l?null:l}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=V.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let n=V.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=n+"px"}}getScrollerOption(n,s){return this.dt.virtualScroll&&(s=s||this.scrollerOptions)?s[n]:null}getRowIndex(n){const s=this.dt.paginator?this.dt.first+n:n,r=this.getScrollerOption("getItemOptions");return r?r(s).index:s}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(bb),G(yb),G(Zn),G(sn))}),d(e,"\u0275cmp",tt({type:i,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:Rse,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,s){1&n&&(x(0,Gse,2,2,"ng-container",0),x(1,Jse,2,2,"ng-container",0),x(2,sre,2,2,"ng-container",0),x(3,ore,2,5,"ng-container",0),x(4,lre,2,5,"ng-container",0)),2&n&&(y("ngIf",!s.dt.expandedRowTemplate),b(1),y("ngIf",s.dt.expandedRowTemplate&&!(s.frozen&&s.dt.frozenExpandedRowTemplate)),b(1),y("ngIf",s.dt.frozenExpandedRowTemplate&&s.frozen),b(1),y("ngIf",s.dt.loading),b(1),y("ngIf",s.dt.isEmpty()&&!s.dt.loading))},dependencies:[Ir,On,Nn],encapsulation:2})),e})(),soe=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,Pne,db,Am,xm,xc,Hne,Kte,Rm,lie,Sm,NP,VP,Cc,uie,hie,die,Or,cie,pie,pn,Sm]})),e})();function roe(i,e){1&i&&Ie(0)}function ooe(i,e){if(1&i&&(Oe(0),x(1,roe,1,0,"ng-container",3),Le()),2&i){const t=T(2);b(1),y("ngTemplateOutlet",t.contentTemplate)}}function aoe(i,e){if(1&i&&(S(0,"div",1),zn(1),x(2,ooe,2,1,"ng-container",2),E()),2&i){const t=T();y("hidden",!t.selected),pe("id",t.tabView.getTabContentId(t.id))("aria-hidden",!t.selected)("aria-labelledby",t.tabView.getTabHeaderActionId(t.id))("data-pc-name","tabpanel"),b(2),y("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected))}}const zP=["*"],loe=["content"],coe=["navbar"],uoe=["prevBtn"],doe=["nextBtn"],hoe=["inkbar"],poe=["elementToObserve"];function foe(i,e){1&i&&ee(0,"ChevronLeftIcon"),2&i&&pe("aria-hidden",!0)}function moe(i,e){}function goe(i,e){1&i&&x(0,moe,0,0,"ng-template")}function _oe(i,e){if(1&i){const t=Ge();S(0,"button",13,14),ae("click",function(){return $(t),j(T().navBackward())}),x(2,foe,1,1,"ChevronLeftIcon",15),x(3,goe,1,0,null,16),E()}if(2&i){const t=T();pe("tabindex",t.tabindex)("aria-label",t.prevButtonAriaLabel),b(2),y("ngIf",!t.previousIconTemplate),b(1),y("ngTemplateOutlet",t.previousIconTemplate)}}function voe(i,e){1&i&&ee(0,"span",25),2&i&&y("ngClass",T(3).$implicit.leftIcon)}function yoe(i,e){}function boe(i,e){1&i&&x(0,yoe,0,0,"ng-template")}function woe(i,e){if(1&i&&(S(0,"span",26),x(1,boe,1,0,null,16),E()),2&i){const t=T(3).$implicit;b(1),y("ngTemplateOutlet",t.leftIconTemplate)}}function Coe(i,e){1&i&&ee(0,"span",27),2&i&&y("ngClass",T(3).$implicit.rightIcon)}function xoe(i,e){}function Toe(i,e){1&i&&x(0,xoe,0,0,"ng-template")}function Soe(i,e){if(1&i&&(S(0,"span",28),x(1,Toe,1,0,null,16),E()),2&i){const t=T(3).$implicit;b(1),y("ngTemplateOutlet",t.rightIconTemplate)}}function Moe(i,e){if(1&i&&(Oe(0),x(1,voe,1,1,"span",20),x(2,woe,2,1,"span",21),S(3,"span",22),H(4),E(),x(5,Coe,1,1,"span",23),x(6,Soe,2,1,"span",24),Le()),2&i){const t=T(2).$implicit;b(1),y("ngIf",t.leftIcon&&!t.leftIconTemplate),b(1),y("ngIf",t.leftIconTemplate),b(2),cn(t.header),b(1),y("ngIf",t.rightIcon&&!t.rightIconTemplate),b(1),y("ngIf",t.rightIconTemplate)}}function Eoe(i,e){1&i&&Ie(0)}function Ioe(i,e){if(1&i){const t=Ge();S(0,"TimesIcon",31),ae("click",function(s){$(t);const r=T(3).$implicit;return j(T().close(s,r))}),E()}2&i&&y("styleClass","p-tabview-close")}function Doe(i,e){1&i&&ee(0,"span",32)}function Aoe(i,e){}function Poe(i,e){1&i&&x(0,Aoe,0,0,"ng-template")}function Roe(i,e){if(1&i&&(Oe(0),x(1,Ioe,1,1,"TimesIcon",29),x(2,Doe,1,0,"span",30),x(3,Poe,1,0,null,16),Le()),2&i){const t=T(2).$implicit;b(1),y("ngIf",!t.closeIconTemplate),b(1),y("ngIf",t.closeIconTemplate),b(1),y("ngTemplateOutlet",t.closeIconTemplate)}}const Ooe=function(i,e){return{"p-highlight":i,"p-disabled":e}};function Loe(i,e){if(1&i){const t=Ge();S(0,"li",18)(1,"a",19),ae("click",function(s){$(t);const r=T().$implicit;return j(T().open(s,r))})("keydown",function(s){$(t);const r=T().$implicit;return j(T().onTabKeyDown(s,r))}),x(2,Moe,7,5,"ng-container",15),x(3,Eoe,1,0,"ng-container",16),x(4,Roe,4,3,"ng-container",15),E()()}if(2&i){const t=T(),n=t.$implicit,s=t.index,r=T();Ne(n.headerStyleClass),y("ngClass",vn(19,Ooe,n.selected,n.disabled))("ngStyle",n.headerStyle),pe("data-p-disabled",n.disabled),b(1),y("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass),pe("id",r.getTabHeaderActionId(n.id))("aria-controls",r.getTabContentId(n.id))("aria-selected",n.selected)("tabindex",n.disabled||!n.selected?"-1":r.tabindex)("aria-disabled",n.disabled)("data-pc-index",s)("data-pc-section","headeraction"),b(1),y("ngIf",!n.headerTemplate),b(1),y("ngTemplateOutlet",n.headerTemplate),b(1),y("ngIf",n.closable)}}function koe(i,e){1&i&&x(0,Loe,5,22,"li",17),2&i&&y("ngIf",!e.$implicit.closed)}function Foe(i,e){1&i&&ee(0,"ChevronRightIcon"),2&i&&pe("aria-hidden",!0)}function Noe(i,e){}function Voe(i,e){1&i&&x(0,Noe,0,0,"ng-template")}function Boe(i,e){if(1&i){const t=Ge();S(0,"button",33,34),ae("click",function(){return $(t),j(T().navForward())}),x(2,Foe,1,1,"ChevronRightIcon",15),x(3,Voe,1,0,null,16),E()}if(2&i){const t=T();pe("tabindex",t.tabindex)("aria-label",t.nextButtonAriaLabel),b(2),y("ngIf",!t.nextIconTemplate),b(1),y("ngTemplateOutlet",t.nextIconTemplate)}}const Uoe=function(i){return{"p-tabview p-component":!0,"p-tabview-scrollable":i}};let wb=(()=>{var i;class e{get selected(){return!!this._selected}set selected(n){this._selected=n,this.loaded||this.cd.detectChanges(),n&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(n){this._disabled=n,this.tabView.cd.markForCheck()}get header(){return this._header}set header(n){this._header=n,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(n){this._leftIcon=n,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(n){this._rightIcon=n,this.tabView.cd.markForCheck()}constructor(n,s,r,o){d(this,"el",void 0),d(this,"viewContainer",void 0),d(this,"cd",void 0),d(this,"closable",!1),d(this,"headerStyle",void 0),d(this,"headerStyleClass",void 0),d(this,"cache",!0),d(this,"tooltip",void 0),d(this,"tooltipPosition","top"),d(this,"tooltipPositionStyle","absolute"),d(this,"tooltipStyleClass",void 0),d(this,"templates",void 0),d(this,"closed",!1),d(this,"view",null),d(this,"_selected",void 0),d(this,"_disabled",void 0),d(this,"_header",void 0),d(this,"_leftIcon",void 0),d(this,"_rightIcon",void 0),d(this,"loaded",!1),d(this,"id",void 0),d(this,"contentTemplate",void 0),d(this,"headerTemplate",void 0),d(this,"leftIconTemplate",void 0),d(this,"rightIconTemplate",void 0),d(this,"closeIconTemplate",void 0),d(this,"tabView",void 0),this.el=s,this.viewContainer=r,this.cd=o,this.tabView=n,this.id=Vn()}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"header":this.headerTemplate=n.template;break;case"content":default:this.contentTemplate=n.template;break;case"righticon":this.rightIconTemplate=n.template;break;case"lefticon":this.leftIconTemplate=n.template;break;case"closeicon":this.closeIconTemplate=n.template}})}ngOnDestroy(){this.view=null}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(qt(()=>Cb)),G(sn),G(As),G(Zn))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-tabPanel"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:zP,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(n,s){1&n&&(hs(),x(0,aoe,3,6,"div",0)),2&n&&y("ngIf",!s.closed)},dependencies:[On,Nn],encapsulation:2})),e})(),Cb=(()=>{var i;class e{get activeIndex(){return this._activeIndex}set activeIndex(n){this._activeIndex=n,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(n))}constructor(n,s,r,o){d(this,"platformId",void 0),d(this,"el",void 0),d(this,"cd",void 0),d(this,"renderer",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"controlClose",void 0),d(this,"scrollable",void 0),d(this,"selectOnFocus",!1),d(this,"tabindex",0),d(this,"onChange",new me),d(this,"onClose",new me),d(this,"activeIndexChange",new me),d(this,"content",void 0),d(this,"navbar",void 0),d(this,"prevBtn",void 0),d(this,"nextBtn",void 0),d(this,"inkbar",void 0),d(this,"tabPanels",void 0),d(this,"templates",void 0),d(this,"initialized",void 0),d(this,"tabs",void 0),d(this,"_activeIndex",void 0),d(this,"preventActiveIndexPropagation",void 0),d(this,"tabChanged",void 0),d(this,"backwardIsDisabled",!0),d(this,"forwardIsDisabled",!1),d(this,"tabChangesSubscription",void 0),d(this,"nextIconTemplate",void 0),d(this,"previousIconTemplate",void 0),d(this,"resizeObserver",void 0),d(this,"shouldVisible",void 0),d(this,"elementToObserve",void 0),this.platformId=n,this.el=s,this.cd=r,this.renderer=o}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(n=>{this.initTabs()}),this.templates.forEach(n=>{switch(n.getType()){case"previousicon":this.previousIconTemplate=n.template;break;case"nexticon":this.nextIconTemplate=n.template}})}ngAfterViewInit(){Dr(this.platformId)&&this.bindResizeObserver()}bindResizeObserver(){this.resizeObserver||(this.resizeObserver=new ResizeObserver(n=>{for(let s of n){const r=parseFloat(getComputedStyle(this.navbar.nativeElement).width);this.shouldVisible=s.contentRect.width<r,this.cd.detectChanges()}}),this.resizeObserver.observe(this.elementToObserve.nativeElement))}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){Dr(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(n){return`${n}_header_action`}getTabContentId(n){return`${n}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(n,s){switch(n.code){case"ArrowLeft":this.onTabArrowLeftKey(n);break;case"ArrowRight":this.onTabArrowRightKey(n);break;case"Home":case"PageUp":this.onTabHomeKey(n);break;case"End":case"PageDown":this.onTabEndKey(n);break;case"Enter":case"Space":this.open(n,s)}}onTabArrowLeftKey(n){const s=this.findPrevHeaderAction(n.target.parentElement),r=V.getAttribute(s,"data-pc-index");s?this.changeFocusedTab(n,s,r):this.onTabEndKey(n),n.preventDefault()}onTabArrowRightKey(n){const s=this.findNextHeaderAction(n.target.parentElement),r=V.getAttribute(s,"data-pc-index");s?this.changeFocusedTab(n,s,r):this.onTabHomeKey(n),n.preventDefault()}onTabHomeKey(n){const s=this.findFirstHeaderAction(),r=V.getAttribute(s,"data-pc-index");this.changeFocusedTab(n,s,r),n.preventDefault()}onTabEndKey(n){const s=this.findLastHeaderAction(),r=V.getAttribute(s,"data-pc-index");this.changeFocusedTab(n,s,r),n.preventDefault()}changeFocusedTab(n,s,r){s&&(V.focus(s),s.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(n,this.tabs[r])}findNextHeaderAction(n,s=!1){const r=s?n:n.nextElementSibling;return r?V.getAttribute(r,"data-p-disabled")||"inkbar"===V.getAttribute(r,"data-pc-section")?this.findNextHeaderAction(r):V.findSingle(r,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(n,s=!1){const r=s?n:n.previousElementSibling;return r?V.getAttribute(r,"data-p-disabled")||"inkbar"===V.getAttribute(r,"data-pc-section")?this.findPrevHeaderAction(r):V.findSingle(r,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const n=this.navbar.nativeElement.lastElementChild,s="inkbar"===V.getAttribute(n,"data-pc-section")?n.previousElementSibling:n;return this.findPrevHeaderAction(s,!0)}open(n,s){if(s.disabled)n&&n.preventDefault();else{if(!s.selected){let r=this.findSelectedTab();r&&(r.selected=!1),this.tabChanged=!0,s.selected=!0;let o=this.findTabIndex(s);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(o),this.onChange.emit({originalEvent:n,index:o}),this.updateScrollBar(o)}n&&n.preventDefault()}}close(n,s){this.controlClose?this.onClose.emit({originalEvent:n,index:this.findTabIndex(s),close:()=>{this.closeTab(s)}}):(this.closeTab(s),this.onClose.emit({originalEvent:n,index:this.findTabIndex(s)}))}closeTab(n){if(!n.disabled){if(n.selected){this.tabChanged=!0,n.selected=!1;for(let s=0;s<this.tabs.length;s++){let r=this.tabs[s];if(!r.closed&&!n.disabled){r.selected=!0;break}}}n.closed=!0}}findSelectedTab(){for(let n=0;n<this.tabs.length;n++)if(this.tabs[n].selected)return this.tabs[n];return null}findTabIndex(n){let s=-1;for(let r=0;r<this.tabs.length;r++)if(this.tabs[r]==n){s=r;break}return s}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(this.navbar){const n=V.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!n)return;this.inkbar.nativeElement.style.width=V.getWidth(n)+"px",this.inkbar.nativeElement.style.left=V.getOffset(n).left-V.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(n){this.navbar.nativeElement.children[n].scrollIntoView({block:"nearest"})}updateButtonState(){const n=this.content.nativeElement,{scrollLeft:s,scrollWidth:r}=n,o=V.getWidth(n);this.backwardIsDisabled=0===s,this.forwardIsDisabled=s===r-o}onScroll(n){this.scrollable&&this.updateButtonState(),n.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((n,s)=>s?n+V.getWidth(s):n,0)}navBackward(){const n=this.content.nativeElement,s=V.getWidth(n)-this.getVisibleButtonWidths(),r=n.scrollLeft-s;n.scrollLeft=r<=0?0:r}navForward(){const n=this.content.nativeElement,s=V.getWidth(n)-this.getVisibleButtonWidths(),r=n.scrollLeft+s,o=n.scrollWidth-s;n.scrollLeft=r>=o?o:r}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Is),G(sn),G(Zn),G(pi))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-tabView"]],contentQueries:function(n,s,r){if(1&n&&(yn(r,wb,4),yn(r,Bn,4)),2&n){let o;We(o=$e())&&(s.tabPanels=o),We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&(Nt(loe,5),Nt(coe,5),Nt(uoe,5),Nt(doe,5),Nt(hoe,5),Nt(poe,5)),2&n){let r;We(r=$e())&&(s.content=r.first),We(r=$e())&&(s.navbar=r.first),We(r=$e())&&(s.prevBtn=r.first),We(r=$e())&&(s.nextBtn=r.first),We(r=$e())&&(s.inkbar=r.first),We(r=$e())&&(s.elementToObserve=r.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex",selectOnFocus:"selectOnFocus",tabindex:"tabindex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:zP,decls:14,vars:11,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["elementToObserve",""],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"styleClass","click"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""]],template:function(n,s){1&n&&(hs(),S(0,"div",0)(1,"div",1,2),x(3,_oe,4,4,"button",3),S(4,"div",4,5),ae("scroll",function(o){return s.onScroll(o)}),S(6,"ul",6,7),x(8,koe,1,1,"ng-template",8),ee(9,"li",9,10),E()(),x(11,Boe,4,4,"button",11),E(),S(12,"div",12),zn(13),E()()),2&n&&(Ne(s.styleClass),y("ngClass",st(9,Uoe,s.scrollable))("ngStyle",s.style),pe("data-pc-name","tabview"),b(3),y("ngIf",s.scrollable&&!s.backwardIsDisabled),b(5),y("ngForOf",s.tabs),b(1),pe("data-pc-section","inkbar"),b(2),y("ngIf",s.scrollable&&!s.forwardIsDisabled&&s.shouldVisible))},dependencies:function(){return[Jn,Ir,On,Nn,ri,yP,pr,Qi,Om,Lm]},styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0})),e})(),Hoe=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,pn,Mm,ks,Qi,Om,Lm,pn]})),e})();const GP=["container"];function zoe(i,e){1&i&&ee(0,"span"),2&i&&Ne("p-toast-message-icon pi "+T(2).message.icon)}function Goe(i,e){1&i&&ee(0,"CheckIcon"),2&i&&pe("aria-hidden",!0)("data-pc-section","icon")}function Woe(i,e){1&i&&ee(0,"InfoCircleIcon"),2&i&&pe("aria-hidden",!0)("data-pc-section","icon")}function $oe(i,e){1&i&&ee(0,"TimesCircleIcon"),2&i&&pe("aria-hidden",!0)("data-pc-section","icon")}function joe(i,e){1&i&&ee(0,"ExclamationTriangleIcon"),2&i&&pe("aria-hidden",!0)("data-pc-section","icon")}function qoe(i,e){if(1&i&&(S(0,"span",11),Oe(1),x(2,Goe,1,2,"CheckIcon",3),x(3,Woe,1,2,"InfoCircleIcon",3),x(4,$oe,1,2,"TimesCircleIcon",3),x(5,joe,1,2,"ExclamationTriangleIcon",3),Le(),E()),2&i){const t=T(2);pe("aria-hidden",!0)("data-pc-section","icon"),b(2),y("ngIf","success"===t.message.severity),b(1),y("ngIf","info"===t.message.severity),b(1),y("ngIf","error"===t.message.severity),b(1),y("ngIf","warn"===t.message.severity)}}function Yoe(i,e){if(1&i&&(Oe(0),x(1,zoe,1,2,"span",5),x(2,qoe,6,6,"span",7),S(3,"div",8)(4,"div",9),H(5),E(),S(6,"div",10),H(7),E()(),Le()),2&i){const t=T();b(1),y("ngIf",t.message.icon),b(1),y("ngIf",!t.message.icon),b(1),pe("data-pc-section","text"),b(1),pe("data-pc-section","summary"),b(1),cn(t.message.summary),b(1),pe("data-pc-section","detail"),b(1),cn(t.message.detail)}}function Koe(i,e){1&i&&Ie(0)}function Xoe(i,e){1&i&&ee(0,"span"),2&i&&Ne("p-toast-message-icon pi "+T().message.closeIcon)}function Zoe(i,e){1&i&&ee(0,"TimesIcon",14),2&i&&(y("styleClass","p-toast-icon-close-icon"),pe("aria-hidden",!0)("data-pc-section","closeicon"))}function Qoe(i,e){if(1&i){const t=Ge();S(0,"button",12),ae("click",function(s){return $(t),j(T().onCloseIconClick(s))})("keydown.enter",function(s){return $(t),j(T().onCloseIconClick(s))}),x(1,Zoe,1,3,"TimesIcon",13),E()}if(2&i){const t=T();pe("aria-label","Close")("data-pc-section","closebutton"),b(1),y("ngIf",!t.message.closeIcon)}}const Joe=function(i){return[i,"p-toast-message"]},eae=function(i,e,t,n){return{showTransformParams:i,hideTransformParams:e,showTransitionParams:t,hideTransitionParams:n}},tae=function(i){return{value:"visible",params:i}},nae=function(i){return{$implicit:i}};function iae(i,e){if(1&i){const t=Ge();S(0,"p-toastItem",3),ae("onClose",function(s){return $(t),j(T().onMessageClose(s))})("@toastAnimation.start",function(s){return $(t),j(T().onAnimationStart(s))})("@toastAnimation.done",function(s){return $(t),j(T().onAnimationEnd(s))}),E()}if(2&i){const t=e.$implicit,n=e.index,s=T();y("message",t)("index",n)("life",s.life)("template",s.template)("@toastAnimation",void 0)("showTransformOptions",s.showTransformOptions)("hideTransformOptions",s.hideTransformOptions)("showTransitionOptions",s.showTransitionOptions)("hideTransitionOptions",s.hideTransitionOptions)}}let sae=(()=>{var i;class e{constructor(n){d(this,"zone",void 0),d(this,"message",void 0),d(this,"index",void 0),d(this,"life",void 0),d(this,"template",void 0),d(this,"showTransformOptions",void 0),d(this,"hideTransformOptions",void 0),d(this,"showTransitionOptions",void 0),d(this,"hideTransitionOptions",void 0),d(this,"onClose",new me),d(this,"containerViewChild",void 0),d(this,"timeout",void 0),this.zone=n}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(n){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),n.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Wt))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-toastItem"]],viewQuery:function(n,s){if(1&n&&Nt(GP,5),2&n){let r;We(r=$e())&&(s.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",life:"life",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:7,vars:25,consts:[["role","alert","aria-live","assertive","aria-atomic","true",3,"ngClass","mouseenter","mouseleave"],["container",""],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(n,s){1&n&&(S(0,"div",0,1),ae("mouseenter",function(){return s.onMouseEnter()})("mouseleave",function(){return s.onMouseLeave()}),S(2,"div",2),x(3,Yoe,8,7,"ng-container",3),x(4,Koe,1,0,"ng-container",4),x(5,Xoe,1,2,"span",5),x(6,Qoe,2,3,"button",6),E()()),2&n&&(Ne(null==s.message?null:s.message.styleClass),y("ngClass",st(14,Joe,"p-toast-message-"+(null==s.message?null:s.message.severity)))("@messageState",st(21,tae,xa(16,eae,s.showTransformOptions,s.hideTransformOptions,s.showTransitionOptions,s.hideTransitionOptions))),pe("id",null==s.message?null:s.message.id)("data-pc-name","toast")("data-pc-section","root"),b(2),y("ngClass",null==s.message?null:s.message.contentStyleClass),pe("data-pc-section","content"),b(1),y("ngIf",!s.template),b(1),y("ngTemplateOutlet",s.template)("ngTemplateOutletContext",st(23,nae,s.message)),b(1),y("ngIf",s.message.closeIcon),b(1),y("ngIf",!1!==(null==s.message?null:s.message.closable)))},dependencies:function(){return[Jn,On,Nn,pr,Or,fb,mb,pb,Qi]},encapsulation:2,data:{animation:[ac("messageState",[vd("visible",wi({transform:"translateY(0)",opacity:1})),ms("void => *",[wi({transform:"{{showTransformParams}}",opacity:0}),Rs("{{showTransitionParams}}")]),ms("* => void",[Rs("{{hideTransitionParams}}",wi({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})),e})(),rae=(()=>{var i;class e{constructor(n,s,r,o,a){d(this,"document",void 0),d(this,"renderer",void 0),d(this,"messageService",void 0),d(this,"cd",void 0),d(this,"config",void 0),d(this,"key",void 0),d(this,"autoZIndex",!0),d(this,"baseZIndex",0),d(this,"life",3e3),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"position","top-right"),d(this,"preventOpenDuplicates",!1),d(this,"preventDuplicates",!1),d(this,"showTransformOptions","translateY(100%)"),d(this,"hideTransformOptions","translateY(-100%)"),d(this,"showTransitionOptions","300ms ease-out"),d(this,"hideTransitionOptions","250ms ease-in"),d(this,"breakpoints",void 0),d(this,"onClose",new me),d(this,"containerViewChild",void 0),d(this,"templates",void 0),d(this,"messageSubscription",void 0),d(this,"clearSubscription",void 0),d(this,"messages",void 0),d(this,"messagesArchieve",void 0),d(this,"template",void 0),d(this,"styleElement",void 0),d(this,"id",Vn()),this.document=n,this.renderer=s,this.messageService=r,this.cd=o,this.config=a}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(n=>{if(n)if(Array.isArray(n)){const s=n.filter(r=>this.canAdd(r));this.add(s)}else this.canAdd(n)&&this.add([n])}),this.clearSubscription=this.messageService.clearObserver.subscribe(n=>{n?this.key===n&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(n){this.messages=this.messages?[...this.messages,...n]:[...n],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...n]:[...n]),this.cd.markForCheck()}canAdd(n){let s=this.key===n.key;return s&&this.preventOpenDuplicates&&(s=!this.containsMessage(this.messages,n)),s&&this.preventDuplicates&&(s=!this.containsMessage(this.messagesArchieve,n)),s}containsMessage(n,s){return!!n&&null!=n.find(r=>r.summary===s.summary&&r.detail==s.detail&&r.severity===s.severity)}ngAfterContentInit(){this.templates?.forEach(n=>{n.getType(),this.template=n.template})}onMessageClose(n){this.messages?.splice(n.index,1),this.onClose.emit({message:n.message}),this.cd.detectChanges()}onAnimationStart(n){"void"===n.fromState&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&""===this.containerViewChild?.nativeElement.style.zIndex&&Zi.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(n){"void"===n.toState&&this.autoZIndex&&Se.isEmpty(this.messages)&&Zi.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let n="";for(let s in this.breakpoints){let r="";for(let o in this.breakpoints[s])r+=o+":"+this.breakpoints[s][o]+" !important;";n+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.renderer.setProperty(this.styleElement,"innerHTML",n)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Zi.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Fn),G(pi),G(nb),G(Zn),G(Wo))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-toast"]],contentQueries:function(n,s,r){if(1&n&&yn(r,Bn,4),2&n){let o;We(o=$e())&&(s.templates=o)}},viewQuery:function(n,s){if(1&n&&Nt(GP,5),2&n){let r;We(r=$e())&&(s.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",life:"life",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","life","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","life","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(n,s){1&n&&(S(0,"div",0,1),x(2,iae,1,9,"p-toastItem",2),E()),2&n&&(Ne(s.styleClass),y("ngClass","p-toast p-component p-toast-"+s.position)("ngStyle",s.style),b(2),y("ngForOf",s.messages))},dependencies:[Jn,Ir,ri,sae],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[ac("toastAnimation",[ms(":enter, :leave",[mz("@*",fz())])])]},changeDetection:0})),e})(),oae=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,ks,Or,fb,mb,pb,Qi,pn]})),e})();const aae=function(i,e){return{"p-button-icon":!0,"p-button-icon-left":i,"p-button-icon-right":e}};function lae(i,e){if(1&i&&ee(0,"span",3),2&i){const t=T();Ne(t.checked?t.onIcon:t.offIcon),y("ngClass",vn(3,aae,"left"===t.iconPos,"right"===t.iconPos))}}function cae(i,e){if(1&i&&(S(0,"span",4),H(1),E()),2&i){const t=T();b(1),cn(t.checked?t.hasOnLabel?t.onLabel:"":t.hasOffLabel?t.offLabel:"")}}const uae=function(i,e,t){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":i,"p-highlight":e,"p-disabled":t}},dae={provide:mi,useExisting:qt(()=>hae),multi:!0};let hae=(()=>{var i;class e{constructor(n){d(this,"cd",void 0),d(this,"onLabel",void 0),d(this,"offLabel",void 0),d(this,"onIcon",void 0),d(this,"offIcon",void 0),d(this,"ariaLabelledBy",void 0),d(this,"disabled",void 0),d(this,"style",void 0),d(this,"styleClass",void 0),d(this,"inputId",void 0),d(this,"tabindex",void 0),d(this,"iconPos","left"),d(this,"onChange",new me),d(this,"checked",!1),d(this,"onModelChange",()=>{}),d(this,"onModelTouched",()=>{}),this.cd=n}toggle(n){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:n,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(n){this.checked=n,this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return i=e,d(e,"\u0275fac",function(n){return new(n||i)(G(Zn))}),d(e,"\u0275cmp",tt({type:i,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[Jt([dae])],decls:3,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(n,s){1&n&&(S(0,"div",0),ae("click",function(o){return s.toggle(o)})("keydown.enter",function(o){return s.toggle(o)}),x(1,lae,1,6,"span",1),x(2,cae,2,1,"span",2),E()),2&n&&(Ne(s.styleClass),y("ngClass",qi(8,uae,s.onIcon&&s.offIcon&&!s.hasOnLabel&&!s.hasOffLabel,s.checked,s.disabled))("ngStyle",s.style),pe("tabindex",s.disabled?null:"0")("aria-checked",s.checked),b(1),y("ngIf",s.onIcon||s.offIcon),b(1),y("ngIf",s.onLabel||s.offLabel))},dependencies:[Jn,On,ri,pr],styles:['.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}'],changeDetection:0})),e})(),pae=(()=>{var i;class e{}return i=e,d(e,"\u0275fac",function(n){return new(n||i)}),d(e,"\u0275mod",Rt({type:i})),d(e,"\u0275inj",Dt({imports:[un,ks]})),e})(),fae=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({imports:[fee,Am,db,mY,Rm,DY,hJ,pae,OZ,ree,Hoe,soe,xc,AJ,bK,oae]}),e})(),mae=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275cmp=tt({type:i,selectors:[["app-home"]],decls:27,vars:0,consts:[[1,"container"],[1,"left"],[1,"slogan","second-text-color"],[1,"slogan","text-color"],[1,"subtitle"],[1,"buttons"],[1,"button"],[1,"rigth","contract-background-color"],[1,"autores_title","text-color"],[1,"autores_container"],[1,"author-info"],["src","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBhMIBwgWFQkXGBkbGBgYGR4WFRseHxgXHxgeGxUeHSgiHR4tHx4dITEhJS0rLi4uHR8zODMtNygtLi0BCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAMgA+gMBIgACEQEDEQH/xAAcAAEAAgIDAQAAAAAAAAAAAAAABwgFBgIDBAH/xABBEAACAQIDBAUIBwUJAAAAAAAAAQIDBQQGEQcSITEiQVFhkRMyYnGBobHRCBcjQlNUkxQkUsHhJTNDgoOSotLw/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AJxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANBzvtSsuVm8LTfl7iv8OD4Rfpz6vVzNf2x7Rqlp1y/Yqn7/JfaTXOCf3Y+k/cYvZvsiWJpxu+botuXSjRber1471R8+PZ4gYKttF2g5qrOnYaEo09eVCnvaeuo9f5H1Zf2uVl5V1cTr310n4b5YbB4PD4HDrD4OhGFFcoxSjFexHoArdPMW1LKn2lwjXdFfiwVWH+9cvE3TJ+2u33GpHC5hoKhXeiVSLbpN9/XH3olqUYzjuyXR8URvn3ZNab/Sli7RTjQuXF8OFOb7JJcvWgJGpVadamqlKacGtU09Vp2pnaV32dZ1uOSb28t5mUlgd7de9zpN8mvRf9SwsJxnHei9YvwA5gAAAAAAAAAAAAAAAAAAAAAAAAAAAABhc4XuGXct17rU504txXbJ8IrxaM0RL9IvHzoZWoYOL4VKur9UI6/FoDUdjWW55qzLVzFeFv0qct7pcVOrLite5c/AsQaNsZt0bfs+wziunUUqj795vT3JG8gAAAAAET7d8oU7lZHfsJT/faPn6c5U+vXvjz9Wp7NhmZpXvK7wGKnrisO1HvcH5j9nFewkTG4anjcHPC1lrTnGUX6mtGV82GV52zaJWtbfRlCpB+unLVfBgWLAAAAAAAAAAAAAAAAAAAAAAAAAAAAACGfpJUZStWDrJdFVJp+txWnwJmNE2zWSV6yLVVGOtelpViuvSPnf8AFsDI7L68a+QMFOL4eSjH2x1T+BtREH0eswwxVkqWKrP7elJyiu2EuenqfxJfAAAAAAPjaS1fIrlso/fNsNTE0/7vXES9jbS+KJm2j5gp5bylXxrl9s4uFNdbnJaLw5+wjX6Odmm54m+Vo9HRUoPteu9N/ACcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ThGpBxmtYtNPs0ZzAFas32i47L87xu9pi/wBhlJypv7uj8+nL/wBy0J0ydmu25stixlvqdNab8G+nB9jX8z3X6y4DMFslb7pQUsPLxT6mn1NEB3/Ieatn9yd1y3XnPCLlOnxml2VKfWvFAWPBBWX9u9SnFUcxWvemuc6T0ftpv5m109tuUJw1lKspdnk9X7mBJR5LlcMJbMHLGY+vGGHitZSlwSRE962822lBxs1rqTqdTqNQj4LVmkbmedq2OXlE1gU+vWGHh/2fiwOeb77ctqebadrs9NrBRbVNPlp96pPs4e4sBlix4XLljpWrBroQSTfXJ9cn62YrIeRrbk7A+Twy3sZJLylV+dJ9i7I9xtgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABrOc862jJ+C8tcautdroUo8Zy+S72Qtjdoees6Yt4XLlCdOl/DRWskvSqvl7gLHNpc2fHOL4byK5w2XbQ7gvLYvFaTf4lduXu1Pv1PZ6/PU/wBaXyAmi85Jyve5OdxtNKVR/eXRn4x0NdnsZyXKW8qFRLs8q9COfqez1+ep/rS+Q+p7PX56n+tL5AS1a9muTrXNVKFohKouTqN1PdJ6G20o0aNNU6SUYLqWiS9hXj6ns9fnqf60vkPqez1+ep/rS+QFi1KL5M5Fcnskz5RW/Sxkd7uryTOiV22l5DmpY91XhV+J9tSf+fjp4oCygI62f7VLbmqSwWMiqFz/AIW+hN+g+3uZIoAAAAAAAAAAAAAAAAAAAAAAAAAwecMw4fK9gqXTE8d1aRj1yk/NijOECfSIu9XE3jDWKg+jGO/JdspvSPuXvAweUMt3TajmWpdr1Vl+xJ/aS7eynDs4eBYez2jAWTAxwVrw0adBdUVp7W+t97PBkmw0ct5ZoW2nHpRinN9s3xk37TPgAAAAAAAADqrUqdek6VaClBrimtU13o7QBA21jZpG003mLLFNxpRe9Upx+56cOxdq6jc9j2d5Zqs7wlwn/adHTefXOPVP19T/AKkhVqVOvSdKrDWDTTT4pp80VutUJZA2y/skHphXV3P9Op5vhqvACyoAAAAAAAAAAAAAAAAAAAAAAABBefMp3u6bXKWLpW+csC5UHv6awUYab2r6uTJ0AAAAAAAAAAAAAAAIN2t5TvVx2g4fH2u3znRlGkt6K1inGXHefVw0JyAHGGu50uZyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//Z","alt",""],[1,"text-color"]],template:function(n,s){1&n&&(S(0,"div",0)(1,"div",1)(2,"span",2),H(3," Pon Seguridad "),E(),S(4,"span",3),H(5," En Cada Paso. "),E(),S(6,"span",4),H(7," Determinaci\xf3n del nivel de riesgo, dise\xf1o de protecci\xf3n contra rayos, dise\xf1o de apantallamiento y puesta a tierra. "),E(),S(8,"span",4),H(9," Basado en las normativas NTC-4552 y TIA-942 "),E(),S(10,"div",5)(11,"p-button",6),H(12,"Iniciar"),E(),S(13,"p-button",6),H(14,"Manual de usuario"),E()()(),S(15,"div",7)(16,"strong",8),H(17," Autores "),E(),S(18,"div",9)(19,"div",10),ee(20,"img",11),S(21,"strong",12),H(22," Yeiner Molina "),E()(),S(23,"div",10),ee(24,"img",11),S(25,"strong",12),H(26," Laura Berm\xfadez "),E()()()()())},dependencies:[ob],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;width:100%;height:100%;padding:40px 60px 0}.left[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:30%;height:80%;padding-bottom:40px}.slogan[_ngcontent-%COMP%]{font-size:xx-large;font-weight:700}.subtitle[_ngcontent-%COMP%]{padding-top:30px;line-height:22px}.rigth[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:40%;padding-top:30px;height:80%;border-radius:30px;gap:5%}.rigth[_ngcontent-%COMP%]   .autores_title[_ngcontent-%COMP%]{font-size:x-large}.rigth[_ngcontent-%COMP%]   .autores_container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.rigth[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]{margin:0 auto;padding-top:30px;width:40%;display:flex;flex-direction:column;align-items:center}.rigth[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px;width:100%;margin-bottom:15px}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding-top:20px;gap:20px}.buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:10px}.buttons[_ngcontent-%COMP%]     .p-button{min-width:110px;display:flex;justify-content:center;background-color:var(--buttons-color)}"]}),e})();class gae extends rs{constructor(e,t){super()}schedule(e,t=0){return this}}const Nm={setInterval(i,e,...t){const{delegate:n}=Nm;return n?.setInterval?n.setInterval(i,e,...t):setInterval(i,e,...t)},clearInterval(i){const{delegate:e}=Nm;return(e?.clearInterval||clearInterval)(i)},delegate:void 0},WP={now:()=>(WP.delegate||Date).now(),delegate:void 0};class Zd{constructor(e,t=Zd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}Zd.now=WP.now;const yae=new class vae extends Zd{constructor(e,t=Zd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}(class _ae extends gae{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return Nm.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&Nm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,n=!1;try{this.work(e)}catch(r){n=!0,s=r||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ll(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}});function $P(i,e,t,n,s,r,o){try{var a=i[r](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(n,s)}const qP=1,YP=2,ro=3,Bm=0,qae=1,Yae=2,Ko=0,Kae=1,Xae=2,Zae=3,Qae=4,Jae=5,Xo=301,Na=302,Qd=306,Ji=1001,oi=1003,ai=1006,Va=1008,Zo=1009,Qo=1014,ao=1015,Jd=1016,Ba=1020,Js=1023,Ua=1026,Ec=1027,Ha=3001,Ci="srgb",lo="srgb-linear",Fb="display-p3",Ym="display-p3-linear",Km="linear",An="srgb",Xm="rec709",Zm="p3",Ac=7680,FR="300 es",co=2e3;class Ga{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const s=this._listeners[e];if(void 0!==s){const r=s.indexOf(t);-1!==r&&s.splice(r,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const n=this._listeners[e.type];if(void 0!==n){e.target=this;const s=n.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,e);e.target=null}}}const Bi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Wa=Math.PI/180,Pc=180/Math.PI;function Fs(){const i=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Bi[255&i]+Bi[i>>8&255]+Bi[i>>16&255]+Bi[i>>24&255]+"-"+Bi[255&e]+Bi[e>>8&255]+"-"+Bi[e>>16&15|64]+Bi[e>>24&255]+"-"+Bi[63&t|128]+Bi[t>>8&255]+"-"+Bi[t>>16&255]+Bi[t>>24&255]+Bi[255&n]+Bi[n>>8&255]+Bi[n>>16&255]+Bi[n>>24&255]).toLowerCase()}function Wn(i,e,t){return Math.max(e,Math.min(t,i))}function eh(i,e,t){return(1-t)*i+t*e}function Bb(i){return 0==(i&i-1)&&0!==i}function eg(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function vs(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function kt(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(4294967295*i);case Uint16Array:return Math.round(65535*i);case Uint8Array:return Math.round(255*i);case Int32Array:return Math.round(2147483647*i);case Int16Array:return Math.round(32767*i);case Int8Array:return Math.round(127*i);default:throw new Error("Invalid component type.")}}const Nle_DEG2RAD=Wa;class de{constructor(e=0,t=0){de.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6],this.y=s[1]*t+s[4]*n+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Wn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),s=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*s+e.x,this.y=r*s+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ut{constructor(e,t,n,s,r,o,a,l,c){Ut.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,s,r,o,a,l,c)}set(e,t,n,s,r,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=s,u[2]=a,u[3]=t,u[4]=r,u[5]=l,u[6]=n,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,s=t.elements,r=this.elements,o=n[0],a=n[3],l=n[6],c=n[1],u=n[4],h=n[7],p=n[2],f=n[5],m=n[8],v=s[0],_=s[3],g=s[6],C=s[1],w=s[4],M=s[7],D=s[2],P=s[5],R=s[8];return r[0]=o*v+a*C+l*D,r[3]=o*_+a*w+l*P,r[6]=o*g+a*M+l*R,r[1]=c*v+u*C+h*D,r[4]=c*_+u*w+h*P,r[7]=c*g+u*M+h*R,r[2]=p*v+f*C+m*D,r[5]=p*_+f*w+m*P,r[8]=p*g+f*M+m*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-n*r*u+n*a*l+s*r*c-s*o*l}invert(){const e=this.elements,t=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,p=a*l-u*r,f=c*r-o*l,m=t*h+n*p+s*f;if(0===m)return this.set(0,0,0,0,0,0,0,0,0);const v=1/m;return e[0]=h*v,e[1]=(s*c-u*n)*v,e[2]=(a*n-s*o)*v,e[3]=p*v,e[4]=(u*t-s*l)*v,e[5]=(s*r-a*t)*v,e[6]=f*v,e[7]=(n*l-c*t)*v,e[8]=(o*t-n*r)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,s,r,o,a){const l=Math.cos(r),c=Math.sin(r);return this.set(n*l,n*c,-n*(l*o+c*a)+o+e,-s*c,s*l,-s*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Ub.makeScale(e,t)),this}rotate(e){return this.premultiply(Ub.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ub.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let s=0;s<9;s++)if(t[s]!==n[s])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Ub=new Ut;function BR(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}function th(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function Ble(){const i=th("canvas");return i.style.display="block",i}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const UR={};function nh(i){i in UR||(UR[i]=!0,console.warn(i))}const HR=(new Ut).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),zR=(new Ut).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),tg={[lo]:{transfer:Km,primaries:Xm,toReference:i=>i,fromReference:i=>i},[Ci]:{transfer:An,primaries:Xm,toReference:i=>i.convertSRGBToLinear(),fromReference:i=>i.convertLinearToSRGB()},[Ym]:{transfer:Km,primaries:Zm,toReference:i=>i.applyMatrix3(zR),fromReference:i=>i.applyMatrix3(HR)},[Fb]:{transfer:An,primaries:Zm,toReference:i=>i.convertSRGBToLinear().applyMatrix3(zR),fromReference:i=>i.applyMatrix3(HR).convertLinearToSRGB()}},Ule=new Set([lo,Ym]),bn={enabled:!0,_workingColorSpace:lo,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(i){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!i},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(i){if(!Ule.has(i))throw new Error(`Unsupported working color space, "${i}".`);this._workingColorSpace=i},convert:function(i,e,t){return!1!==this.enabled&&e!==t&&e&&t?(0,tg[t].fromReference)((0,tg[e].toReference)(i)):i},fromWorkingColorSpace:function(i,e){return this.convert(i,this._workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this._workingColorSpace)},getPrimaries:function(i){return tg[i].primaries},getTransfer:function(i){return""===i?Km:tg[i].transfer}};function Oc(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function Hb(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}let Lc;class GR{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Lc&&(Lc=th("canvas")),Lc.width=e.width,Lc.height=e.height;const n=Lc.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Lc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=th("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const s=n.getImageData(0,0,e.width,e.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=255*Oc(r[o]/255);return n.putImageData(s,0,0),t}if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t[n]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*Oc(t[n]/255)):Oc(t[n]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Hle=0;class kc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Hle++}),this.uuid=Fs(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},s=this.data;if(null!==s){let r;if(Array.isArray(s)){r=[];for(let o=0,a=s.length;o<a;o++)r.push(zb(s[o].isDataTexture?s[o].image:s[o]))}else r=zb(s);n.url=r}return t||(e.images[this.uuid]=n),n}}function zb(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?GR.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let zle=0,Jo=(()=>{class i extends Ga{constructor(t=i.DEFAULT_IMAGE,n=i.DEFAULT_MAPPING,s=Ji,r=Ji,o=ai,a=Va,l=Js,c=Zo,u=i.DEFAULT_ANISOTROPY,h=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:zle++}),this.uuid=Fs(),this.name="",this.source=new kc(t),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=s,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new de(0,0),this.repeat=new de(1,1),this.center=new de(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ut,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof h?this.colorSpace=h:(nh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===Ha?Ci:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const n=void 0===t||"string"==typeof t;if(!n&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const s={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),n||(t.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Ji:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Ji:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return nh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Ci?Ha:3e3}set encoding(t){nh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===Ha?Ci:""}}return i.DEFAULT_IMAGE=null,i.DEFAULT_MAPPING=300,i.DEFAULT_ANISOTROPY=1,i})();class wn{constructor(e=0,t=0,n=0,s=1){wn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,s){return this.x=e,this.y=t,this.z=n,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,s=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*s+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*s+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*s+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*s+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,s,r;const l=e.elements,c=l[0],u=l[4],h=l[8],p=l[1],f=l[5],m=l[9],v=l[2],_=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(h-v)<.01&&Math.abs(m-_)<.01){if(Math.abs(u+p)<.1&&Math.abs(h+v)<.1&&Math.abs(m+_)<.1&&Math.abs(c+f+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,M=(f+1)/2,D=(g+1)/2,P=(u+p)/4,R=(h+v)/4,N=(m+_)/4;return w>M&&w>D?w<.01?(n=0,s=.707106781,r=.707106781):(n=Math.sqrt(w),s=P/n,r=R/n):M>D?M<.01?(n=.707106781,s=0,r=.707106781):(s=Math.sqrt(M),n=P/s,r=N/s):D<.01?(n=.707106781,s=.707106781,r=0):(r=Math.sqrt(D),n=R/r,s=N/r),this.set(n,s,r,t),this}let C=Math.sqrt((_-m)*(_-m)+(h-v)*(h-v)+(p-u)*(p-u));return Math.abs(C)<.001&&(C=1),this.x=(_-m)/C,this.y=(h-v)/C,this.z=(p-u)/C,this.w=Math.acos((c+f+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Gle extends Ga{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new wn(0,0,e,t),this.scissorTest=!1,this.viewport=new wn(0,0,e,t);const s={width:e,height:t,depth:1};void 0!==n.encoding&&(nh("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Ha?Ci:""),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ai,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},n),this.texture=new Jo(s,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps,this.texture.internalFormat=n.internalFormat,this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new kc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class $a extends Gle{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class Gb extends Jo{constructor(e=null,t=1,n=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:s},this.magFilter=oi,this.minFilter=oi,this.wrapR=Ji,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WR extends Jo{constructor(e=null,t=1,n=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:s},this.magFilter=oi,this.minFilter=oi,this.wrapR=Ji,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class es{constructor(e=0,t=0,n=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=s}static slerpFlat(e,t,n,s,r,o,a){let l=n[s+0],c=n[s+1],u=n[s+2],h=n[s+3];const p=r[o+0],f=r[o+1],m=r[o+2],v=r[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=h);if(1===a)return e[t+0]=p,e[t+1]=f,e[t+2]=m,void(e[t+3]=v);if(h!==v||l!==p||c!==f||u!==m){let _=1-a;const g=l*p+c*f+u*m+h*v,C=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const D=Math.sqrt(w),P=Math.atan2(D,g*C);_=Math.sin(_*P)/D,a=Math.sin(a*P)/D}const M=a*C;if(l=l*_+p*M,c=c*_+f*M,u=u*_+m*M,h=h*_+v*M,_===1-a){const D=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=D,c*=D,u*=D,h*=D}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,n,s,r,o){const a=n[s],l=n[s+1],c=n[s+2],u=n[s+3],h=r[o],p=r[o+1],f=r[o+2],m=r[o+3];return e[t]=a*m+u*h+l*f-c*p,e[t+1]=l*m+u*p+c*h-a*f,e[t+2]=c*m+u*f+a*p-l*h,e[t+3]=u*m-a*h-l*p-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,s){return this._x=e,this._y=t,this._z=n,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,s=e._y,r=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(n/2),u=a(s/2),h=a(r/2),p=l(n/2),f=l(s/2),m=l(r/2);switch(o){case"XYZ":this._x=p*u*h+c*f*m,this._y=c*f*h-p*u*m,this._z=c*u*m+p*f*h,this._w=c*u*h-p*f*m;break;case"YXZ":this._x=p*u*h+c*f*m,this._y=c*f*h-p*u*m,this._z=c*u*m-p*f*h,this._w=c*u*h+p*f*m;break;case"ZXY":this._x=p*u*h-c*f*m,this._y=c*f*h+p*u*m,this._z=c*u*m+p*f*h,this._w=c*u*h-p*f*m;break;case"ZYX":this._x=p*u*h-c*f*m,this._y=c*f*h+p*u*m,this._z=c*u*m-p*f*h,this._w=c*u*h+p*f*m;break;case"YZX":this._x=p*u*h+c*f*m,this._y=c*f*h+p*u*m,this._z=c*u*m-p*f*h,this._w=c*u*h-p*f*m;break;case"XZY":this._x=p*u*h-c*f*m,this._y=c*f*h-p*u*m,this._z=c*u*m+p*f*h,this._w=c*u*h+p*f*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,s=Math.sin(n);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],s=t[4],r=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],p=n+a+h;if(p>0){const f=.5/Math.sqrt(p+1);this._w=.25/f,this._x=(u-l)*f,this._y=(r-c)*f,this._z=(o-s)*f}else if(n>a&&n>h){const f=2*Math.sqrt(1+n-a-h);this._w=(u-l)/f,this._x=.25*f,this._y=(s+o)/f,this._z=(r+c)/f}else if(a>h){const f=2*Math.sqrt(1+a-n-h);this._w=(r-c)/f,this._x=(s+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+h-n-a);this._w=(o-s)/f,this._x=(r+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Wn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const s=Math.min(1,t/n);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,s=e._y,r=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=n*u+o*a+s*c-r*l,this._y=s*u+o*l+r*a-n*c,this._z=r*u+o*c+n*l-s*a,this._w=o*u-n*a-s*l-r*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,s=this._y,r=this._z,o=this._w;let a=o*e._w+n*e._x+s*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=s,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*n+t*this._x,this._y=f*s+t*this._y,this._z=f*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*h+this._w*p,this._x=n*h+this._x*p,this._y=s*h+this._y*p,this._z=r*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),s=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(s),n*Math.sin(r),n*Math.cos(r),t*Math.sin(s))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,t=0,n=0){k.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion($R.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion($R.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*s,this.y=r[1]*t+r[4]*n+r[7]*s,this.z=r[2]*t+r[5]*n+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,s=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*s+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*s+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*s+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*s+r[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,s=this.z,r=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*s-a*n),u=2*(a*t-r*s),h=2*(r*n-o*t);return this.x=t+l*c+o*h-a*u,this.y=n+l*u+a*c-r*h,this.z=s+l*h+r*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*s,this.y=r[1]*t+r[5]*n+r[9]*s,this.z=r[2]*t+r[6]*n+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,s=e.y,r=e.z,o=t.x,a=t.y,l=t.z;return this.x=s*l-r*a,this.y=r*o-n*l,this.z=n*a-s*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Wb.copy(this).projectOnVector(e),this.sub(Wb)}reflect(e){return this.sub(Wb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Wn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,s=this.z-e.z;return t*t+n*n+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const s=Math.sin(t)*e;return this.x=s*Math.sin(n),this.y=Math.cos(t)*e,this.z=s*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Wb=new k,$R=new es;class uo{constructor(e=new k(1/0,1/0,1/0),t=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(fr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(fr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=fr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let o=0,a=r.count;o<a;o++)!0===e.isMesh?e.getVertexPosition(o,fr):fr.fromBufferAttribute(r,o),fr.applyMatrix4(e.matrixWorld),this.expandByPoint(fr);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),ng.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),ng.copy(n.boundingBox)),ng.applyMatrix4(e.matrixWorld),this.union(ng)}const s=e.children;for(let r=0,o=s.length;r<o;r++)this.expandByObject(s[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,fr),fr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ih),ig.subVectors(this.max,ih),Fc.subVectors(e.a,ih),Nc.subVectors(e.b,ih),Vc.subVectors(e.c,ih),ea.subVectors(Nc,Fc),ta.subVectors(Vc,Nc),ja.subVectors(Fc,Vc);let t=[0,-ea.z,ea.y,0,-ta.z,ta.y,0,-ja.z,ja.y,ea.z,0,-ea.x,ta.z,0,-ta.x,ja.z,0,-ja.x,-ea.y,ea.x,0,-ta.y,ta.x,0,-ja.y,ja.x,0];return!(!$b(t,Fc,Nc,Vc,ig)||(t=[1,0,0,0,1,0,0,0,1],!$b(t,Fc,Nc,Vc,ig)))&&(sg.crossVectors(ea,ta),t=[sg.x,sg.y,sg.z],$b(t,Fc,Nc,Vc,ig))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,fr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(fr).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ho[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ho[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ho[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ho[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ho[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ho[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ho[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ho[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ho)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ho=[new k,new k,new k,new k,new k,new k,new k,new k],fr=new k,ng=new uo,Fc=new k,Nc=new k,Vc=new k,ea=new k,ta=new k,ja=new k,ih=new k,ig=new k,sg=new k,qa=new k;function $b(i,e,t,n,s){for(let r=0,o=i.length-3;r<=o;r+=3){qa.fromArray(i,r);const a=s.x*Math.abs(qa.x)+s.y*Math.abs(qa.y)+s.z*Math.abs(qa.z),l=e.dot(qa),c=t.dot(qa),u=n.dot(qa);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Wle=new uo,sh=new k,jb=new k;class Lr{constructor(e=new k,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Wle.setFromPoints(e).getCenter(n);let s=0;for(let r=0,o=e.length;r<o;r++)s=Math.max(s,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;sh.subVectors(e,this.center);const t=sh.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),s=.5*(n-this.radius);this.center.addScaledVector(sh,s/n),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(jb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(sh.copy(e.center).add(jb)),this.expandByPoint(sh.copy(e.center).sub(jb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const po=new k,qb=new k,rg=new k,na=new k,Yb=new k,og=new k,Kb=new k;class Bc{constructor(e=new k,t=new k(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,po)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=po.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(po.copy(this.origin).addScaledVector(this.direction,t),po.distanceToSquared(e))}distanceSqToSegment(e,t,n,s){qb.copy(e).add(t).multiplyScalar(.5),rg.copy(t).sub(e).normalize(),na.copy(this.origin).sub(qb);const r=.5*e.distanceTo(t),o=-this.direction.dot(rg),a=na.dot(this.direction),l=-na.dot(rg),c=na.lengthSq(),u=Math.abs(1-o*o);let h,p,f,m;if(u>0)if(h=o*l-a,p=o*a-l,m=r*u,h>=0)if(p>=-m)if(p<=m){const v=1/u;h*=v,p*=v,f=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=r,h=Math.max(0,-(o*p+a)),f=-h*h+p*(p+2*l)+c;else p=-r,h=Math.max(0,-(o*p+a)),f=-h*h+p*(p+2*l)+c;else p<=-m?(h=Math.max(0,-(-o*r+a)),p=h>0?-r:Math.min(Math.max(-r,-l),r),f=-h*h+p*(p+2*l)+c):p<=m?(h=0,p=Math.min(Math.max(-r,-l),r),f=p*(p+2*l)+c):(h=Math.max(0,-(o*r+a)),p=h>0?r:Math.min(Math.max(-r,-l),r),f=-h*h+p*(p+2*l)+c);else p=o>0?-r:r,h=Math.max(0,-(o*p+a)),f=-h*h+p*(p+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,h),s&&s.copy(qb).addScaledVector(rg,p),f}intersectSphere(e,t){po.subVectors(e.center,this.origin);const n=po.dot(this.direction),s=po.dot(po)-n*n,r=e.radius*e.radius;if(s>r)return null;const o=Math.sqrt(r-s),a=n-o,l=n+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,s,r,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(n=(e.min.x-p.x)*c,s=(e.max.x-p.x)*c):(n=(e.max.x-p.x)*c,s=(e.min.x-p.x)*c),u>=0?(r=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(r=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),n>o||r>s||((r>n||isNaN(n))&&(n=r),(o<s||isNaN(s))&&(s=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),n>l||a>s)||((a>n||n!=n)&&(n=a),(l<s||s!=s)&&(s=l),s<0)?null:this.at(n>=0?n:s,t)}intersectsBox(e){return null!==this.intersectBox(e,po)}intersectTriangle(e,t,n,s,r){Yb.subVectors(t,e),og.subVectors(n,e),Kb.crossVectors(Yb,og);let a,o=this.direction.dot(Kb);if(o>0){if(s)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}na.subVectors(this.origin,e);const l=a*this.direction.dot(og.crossVectors(na,og));if(l<0)return null;const c=a*this.direction.dot(Yb.cross(na));if(c<0||l+c>o)return null;const u=-a*na.dot(Kb);return u<0?null:this.at(u/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Pt{constructor(e,t,n,s,r,o,a,l,c,u,h,p,f,m,v,_){Pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,s,r,o,a,l,c,u,h,p,f,m,v,_)}set(e,t,n,s,r,o,a,l,c,u,h,p,f,m,v,_){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=s,g[1]=r,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=h,g[14]=p,g[3]=f,g[7]=m,g[11]=v,g[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Pt).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,s=1/Uc.setFromMatrixColumn(e,0).length(),r=1/Uc.setFromMatrixColumn(e,1).length(),o=1/Uc.setFromMatrixColumn(e,2).length();return t[0]=n[0]*s,t[1]=n[1]*s,t[2]=n[2]*s,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,s=e.y,r=e.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(s),c=Math.sin(s),u=Math.cos(r),h=Math.sin(r);if("XYZ"===e.order){const p=o*u,f=o*h,m=a*u,v=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=f+m*c,t[5]=p-v*c,t[9]=-a*l,t[2]=v-p*c,t[6]=m+f*c,t[10]=o*l}else if("YXZ"===e.order){const p=l*u,f=l*h,m=c*u,v=c*h;t[0]=p+v*a,t[4]=m*a-f,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=f*a-m,t[6]=v+p*a,t[10]=o*l}else if("ZXY"===e.order){const p=l*u,f=l*h,m=c*u,v=c*h;t[0]=p-v*a,t[4]=-o*h,t[8]=m+f*a,t[1]=f+m*a,t[5]=o*u,t[9]=v-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const p=o*u,f=o*h,m=a*u,v=a*h;t[0]=l*u,t[4]=m*c-f,t[8]=p*c+v,t[1]=l*h,t[5]=v*c+p,t[9]=f*c-m,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const p=o*l,f=o*c,m=a*l,v=a*c;t[0]=l*u,t[4]=v-p*h,t[8]=m*h+f,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*h+m,t[10]=p-v*h}else if("XZY"===e.order){const p=o*l,f=o*c,m=a*l,v=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=p*h+v,t[5]=o*u,t[9]=f*h-m,t[2]=m*h-f,t[6]=a*u,t[10]=v*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose($le,e,jle)}lookAt(e,t,n){const s=this.elements;return Ns.subVectors(e,t),0===Ns.lengthSq()&&(Ns.z=1),Ns.normalize(),ia.crossVectors(n,Ns),0===ia.lengthSq()&&(1===Math.abs(n.z)?Ns.x+=1e-4:Ns.z+=1e-4,Ns.normalize(),ia.crossVectors(n,Ns)),ia.normalize(),ag.crossVectors(Ns,ia),s[0]=ia.x,s[4]=ag.x,s[8]=Ns.x,s[1]=ia.y,s[5]=ag.y,s[9]=Ns.y,s[2]=ia.z,s[6]=ag.z,s[10]=Ns.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,s=t.elements,r=this.elements,o=n[0],a=n[4],l=n[8],c=n[12],u=n[1],h=n[5],p=n[9],f=n[13],m=n[2],v=n[6],_=n[10],g=n[14],C=n[3],w=n[7],M=n[11],D=n[15],P=s[0],R=s[4],N=s[8],I=s[12],O=s[1],Y=s[5],le=s[9],fe=s[13],z=s[2],te=s[6],q=s[10],K=s[14],Q=s[3],X=s[7],he=s[11],_e=s[15];return r[0]=o*P+a*O+l*z+c*Q,r[4]=o*R+a*Y+l*te+c*X,r[8]=o*N+a*le+l*q+c*he,r[12]=o*I+a*fe+l*K+c*_e,r[1]=u*P+h*O+p*z+f*Q,r[5]=u*R+h*Y+p*te+f*X,r[9]=u*N+h*le+p*q+f*he,r[13]=u*I+h*fe+p*K+f*_e,r[2]=m*P+v*O+_*z+g*Q,r[6]=m*R+v*Y+_*te+g*X,r[10]=m*N+v*le+_*q+g*he,r[14]=m*I+v*fe+_*K+g*_e,r[3]=C*P+w*O+M*z+D*Q,r[7]=C*R+w*Y+M*te+D*X,r[11]=C*N+w*le+M*q+D*he,r[15]=C*I+w*fe+M*K+D*_e,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],s=e[8],r=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],p=e[10],f=e[14];return e[3]*(+r*l*h-s*c*h-r*a*p+n*c*p+s*a*f-n*l*f)+e[7]*(+t*l*f-t*c*p+r*o*p-s*o*f+s*c*u-r*l*u)+e[11]*(+t*c*h-t*a*f-r*o*h+n*o*f+r*a*u-n*c*u)+e[15]*(-s*a*u-t*l*h+t*a*p+s*o*h-n*o*p+n*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],f=e[11],m=e[12],v=e[13],_=e[14],g=e[15],C=h*_*c-v*p*c+v*l*f-a*_*f-h*l*g+a*p*g,w=m*p*c-u*_*c-m*l*f+o*_*f+u*l*g-o*p*g,M=u*v*c-m*h*c+m*a*f-o*v*f-u*a*g+o*h*g,D=m*h*l-u*v*l-m*a*p+o*v*p+u*a*_-o*h*_,P=t*C+n*w+s*M+r*D;if(0===P)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=C*R,e[1]=(v*p*r-h*_*r-v*s*f+n*_*f+h*s*g-n*p*g)*R,e[2]=(a*_*r-v*l*r+v*s*c-n*_*c-a*s*g+n*l*g)*R,e[3]=(h*l*r-a*p*r-h*s*c+n*p*c+a*s*f-n*l*f)*R,e[4]=w*R,e[5]=(u*_*r-m*p*r+m*s*f-t*_*f-u*s*g+t*p*g)*R,e[6]=(m*l*r-o*_*r-m*s*c+t*_*c+o*s*g-t*l*g)*R,e[7]=(o*p*r-u*l*r+u*s*c-t*p*c-o*s*f+t*l*f)*R,e[8]=M*R,e[9]=(m*h*r-u*v*r-m*n*f+t*v*f+u*n*g-t*h*g)*R,e[10]=(o*v*r-m*a*r+m*n*c-t*v*c-o*n*g+t*a*g)*R,e[11]=(u*a*r-o*h*r-u*n*c+t*h*c+o*n*f-t*a*f)*R,e[12]=D*R,e[13]=(u*v*s-m*h*s+m*n*p-t*v*p-u*n*_+t*h*_)*R,e[14]=(m*a*s-o*v*s-m*n*l+t*v*l+o*n*_-t*a*_)*R,e[15]=(o*h*s-u*a*s+u*n*l-t*h*l-o*n*p+t*a*p)*R,this}scale(e){const t=this.elements,n=e.x,s=e.y,r=e.z;return t[0]*=n,t[4]*=s,t[8]*=r,t[1]*=n,t[5]*=s,t[9]*=r,t[2]*=n,t[6]*=s,t[10]*=r,t[3]*=n,t[7]*=s,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),s=Math.sin(t),r=1-n,o=e.x,a=e.y,l=e.z,c=r*o,u=r*a;return this.set(c*o+n,c*a-s*l,c*l+s*a,0,c*a+s*l,u*a+n,u*l-s*o,0,c*l-s*a,u*l+s*o,r*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,s,r,o){return this.set(1,n,r,0,e,1,o,0,t,s,1,0,0,0,0,1),this}compose(e,t,n){const s=this.elements,r=t._x,o=t._y,a=t._z,l=t._w,c=r+r,u=o+o,h=a+a,p=r*c,f=r*u,m=r*h,v=o*u,_=o*h,g=a*h,C=l*c,w=l*u,M=l*h,D=n.x,P=n.y,R=n.z;return s[0]=(1-(v+g))*D,s[1]=(f+M)*D,s[2]=(m-w)*D,s[3]=0,s[4]=(f-M)*P,s[5]=(1-(p+g))*P,s[6]=(_+C)*P,s[7]=0,s[8]=(m+w)*R,s[9]=(_-C)*R,s[10]=(1-(p+v))*R,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,n){const s=this.elements;let r=Uc.set(s[0],s[1],s[2]).length();const o=Uc.set(s[4],s[5],s[6]).length(),a=Uc.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],mr.copy(this);const c=1/r,u=1/o,h=1/a;return mr.elements[0]*=c,mr.elements[1]*=c,mr.elements[2]*=c,mr.elements[4]*=u,mr.elements[5]*=u,mr.elements[6]*=u,mr.elements[8]*=h,mr.elements[9]*=h,mr.elements[10]*=h,t.setFromRotationMatrix(mr),n.x=r,n.y=o,n.z=a,this}makePerspective(e,t,n,s,r,o,a=co){const l=this.elements,c=2*r/(t-e),u=2*r/(n-s),h=(t+e)/(t-e),p=(n+s)/(n-s);let f,m;if(a===co)f=-(o+r)/(o-r),m=-2*o*r/(o-r);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);f=-o/(o-r),m=-o*r/(o-r)}return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,s,r,o,a=co){const l=this.elements,c=1/(t-e),u=1/(n-s),h=1/(o-r),p=(t+e)*c,f=(n+s)*u;let m,v;if(a===co)m=(o+r)*h,v=-2*h;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);m=r*h,v=-1*h}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=v,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let s=0;s<16;s++)if(t[s]!==n[s])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Uc=new k,mr=new Pt,$le=new k(0,0,0),jle=new k(1,1,1),ia=new k,ag=new k,Ns=new k,jR=new Pt,qR=new es;let qle=(()=>{class i{constructor(t=0,n=0,s=0,r=i.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=n,this._z=s,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,s,r=this._order){return this._x=t,this._y=n,this._z=s,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,s=!0){const r=t.elements,o=r[0],a=r[4],l=r[8],c=r[1],u=r[5],h=r[9],p=r[2],f=r[6],m=r[10];switch(n){case"XYZ":this._y=Math.asin(Wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Wn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,m),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-p,o),this._z=0);break;case"ZXY":this._x=Math.asin(Wn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-p,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-Wn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Wn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-p,o)):(this._x=0,this._y=Math.atan2(l,m));break;case"XZY":this._z=Math.asin(-Wn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!0===s&&this._onChangeCallback(),this}setFromQuaternion(t,n,s){return jR.makeRotationFromQuaternion(t),this.setFromRotationMatrix(jR,n,s)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return qR.setFromEuler(this),this.setFromQuaternion(qR,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return i.DEFAULT_ORDER="XYZ",i})();class Xb{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Yle=0;const YR=new k,Hc=new es,fo=new Pt,lg=new k,rh=new k,Kle=new k,Xle=new es,KR=new k(1,0,0),XR=new k(0,1,0),ZR=new k(0,0,1),Zle={type:"added"},Qle={type:"removed"};let ys=(()=>{class i extends Ga{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Yle++}),this.uuid=Fs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=i.DEFAULT_UP.clone();const t=new k,n=new qle,s=new es,r=new k(1,1,1);n._onChange(function o(){s.setFromEuler(n,!1)}),s._onChange(function a(){n.setFromQuaternion(s,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Pt},normalMatrix:{value:new Ut}}),this.matrix=new Pt,this.matrixWorld=new Pt,this.matrixAutoUpdate=i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Xb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,n){this.quaternion.setFromAxisAngle(t,n)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,n){return Hc.setFromAxisAngle(t,n),this.quaternion.multiply(Hc),this}rotateOnWorldAxis(t,n){return Hc.setFromAxisAngle(t,n),this.quaternion.premultiply(Hc),this}rotateX(t){return this.rotateOnAxis(KR,t)}rotateY(t){return this.rotateOnAxis(XR,t)}rotateZ(t){return this.rotateOnAxis(ZR,t)}translateOnAxis(t,n){return YR.copy(t).applyQuaternion(this.quaternion),this.position.add(YR.multiplyScalar(n)),this}translateX(t){return this.translateOnAxis(KR,t)}translateY(t){return this.translateOnAxis(XR,t)}translateZ(t){return this.translateOnAxis(ZR,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(fo.copy(this.matrixWorld).invert())}lookAt(t,n,s){t.isVector3?lg.copy(t):lg.set(t,n,s);const r=this.parent;this.updateWorldMatrix(!0,!1),rh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fo.lookAt(rh,lg,this.up):fo.lookAt(lg,rh,this.up),this.quaternion.setFromRotationMatrix(fo),r&&(fo.extractRotation(r.matrixWorld),Hc.setFromRotationMatrix(fo),this.quaternion.premultiply(Hc.invert()))}add(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Zle)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(Qle)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),fo.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),fo.multiply(t.parent.matrixWorld)),t.applyMatrix4(fo),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,n){if(this[t]===n)return this;for(let s=0,r=this.children.length;s<r;s++){const a=this.children[s].getObjectByProperty(t,n);if(void 0!==a)return a}}getObjectsByProperty(t,n){let s=[];this[t]===n&&s.push(this);for(let r=0,o=this.children.length;r<o;r++){const a=this.children[r].getObjectsByProperty(t,n);a.length>0&&(s=s.concat(a))}return s}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rh,t,Kle),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rh,Xle,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return t.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(t){t(this);const n=this.children;for(let s=0,r=n.length;s<r;s++)n[s].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const n=this.children;for(let s=0,r=n.length;s<r;s++)n[s].traverseVisible(t)}traverseAncestors(t){const n=this.parent;null!==n&&(t(n),n.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const n=this.children;for(let s=0,r=n.length;s<r;s++){const o=n[s];(!0===o.matrixWorldAutoUpdate||!0===t)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,n){const s=this.parent;if(!0===t&&null!==s&&!0===s.matrixWorldAutoUpdate&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n){const r=this.children;for(let o=0,a=r.length;o<a;o++){const l=r[o];!0===l.matrixWorldAutoUpdate&&l.updateWorldMatrix(!1,!0)}}}toJSON(t){const n=void 0===t||"string"==typeof t,s={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,h=c.length;u<h;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));r.material=l}else r.material=o(t.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++)r.animations.push(o(t.animations,this.animations[l]))}if(n){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),h=a(t.images),p=a(t.shapes),f=a(t.skeletons),m=a(t.animations),v=a(t.nodes);l.length>0&&(s.geometries=l),c.length>0&&(s.materials=c),u.length>0&&(s.textures=u),h.length>0&&(s.images=h),p.length>0&&(s.shapes=p),f.length>0&&(s.skeletons=f),m.length>0&&(s.animations=m),v.length>0&&(s.nodes=v)}return s.object=r,s;function a(l){const c=[];for(const u in l){const h=l[u];delete h.metadata,c.push(h)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,n=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===n)for(let s=0;s<t.children.length;s++)this.add(t.children[s].clone());return this}}return i.DEFAULT_UP=new k(0,1,0),i.DEFAULT_MATRIX_AUTO_UPDATE=!0,i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,i})();const gr=new k,mo=new k,Zb=new k,go=new k,zc=new k,Gc=new k,QR=new k,Qb=new k,Jb=new k,ew=new k;let cg=!1;class Vs{constructor(e=new k,t=new k,n=new k){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,s){s.subVectors(n,t),gr.subVectors(e,t),s.cross(gr);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,t,n,s,r){gr.subVectors(s,t),mo.subVectors(n,t),Zb.subVectors(e,t);const o=gr.dot(gr),a=gr.dot(mo),l=gr.dot(Zb),c=mo.dot(mo),u=mo.dot(Zb),h=o*c-a*a;if(0===h)return r.set(-2,-1,-1);const p=1/h,f=(c*l-a*u)*p,m=(o*u-a*l)*p;return r.set(1-f-m,m,f)}static containsPoint(e,t,n,s){return this.getBarycoord(e,t,n,s,go),go.x>=0&&go.y>=0&&go.x+go.y<=1}static getUV(e,t,n,s,r,o,a,l){return!1===cg&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),cg=!0),this.getInterpolation(e,t,n,s,r,o,a,l)}static getInterpolation(e,t,n,s,r,o,a,l){return this.getBarycoord(e,t,n,s,go),l.setScalar(0),l.addScaledVector(r,go.x),l.addScaledVector(o,go.y),l.addScaledVector(a,go.z),l}static isFrontFacing(e,t,n,s){return gr.subVectors(n,t),mo.subVectors(e,t),gr.cross(mo).dot(s)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,s){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,n,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,s),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return gr.subVectors(this.c,this.b),mo.subVectors(this.a,this.b),.5*gr.cross(mo).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Vs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Vs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,s,r){return!1===cg&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),cg=!0),Vs.getInterpolation(e,this.a,this.b,this.c,t,n,s,r)}getInterpolation(e,t,n,s,r){return Vs.getInterpolation(e,this.a,this.b,this.c,t,n,s,r)}containsPoint(e){return Vs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Vs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,s=this.b,r=this.c;let o,a;zc.subVectors(s,n),Gc.subVectors(r,n),Qb.subVectors(e,n);const l=zc.dot(Qb),c=Gc.dot(Qb);if(l<=0&&c<=0)return t.copy(n);Jb.subVectors(e,s);const u=zc.dot(Jb),h=Gc.dot(Jb);if(u>=0&&h<=u)return t.copy(s);const p=l*h-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(n).addScaledVector(zc,o);ew.subVectors(e,r);const f=zc.dot(ew),m=Gc.dot(ew);if(m>=0&&f<=m)return t.copy(r);const v=f*c-l*m;if(v<=0&&c>=0&&m<=0)return a=c/(c-m),t.copy(n).addScaledVector(Gc,a);const _=u*m-f*h;if(_<=0&&h-u>=0&&f-m>=0)return QR.subVectors(r,s),a=(h-u)/(h-u+(f-m)),t.copy(s).addScaledVector(QR,a);const g=1/(_+v+p);return o=v*g,a=p*g,t.copy(n).addScaledVector(zc,o).addScaledVector(Gc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const JR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sa={h:0,s:0,l:0},ug={h:0,s:0,l:0};function tw(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+6*(e-i)*t:t<.5?e:t<2/3?i+6*(e-i)*(2/3-t):i}class je{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const s=e;s&&s.isColor?this.copy(s):"number"==typeof s?this.setHex(s):"string"==typeof s&&this.setStyle(s)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ci){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,bn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,s=bn.workingColorSpace){return this.r=e,this.g=t,this.b=n,bn.toWorkingColorSpace(this,s),this}setHSL(e,t,n,s=bn.workingColorSpace){if(e=function Vb(i,e){return(i%e+e)%e}(e,1),t=Wn(t,0,1),n=Wn(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,o=2*n-r;this.r=tw(o,r,e+1/3),this.g=tw(o,r,e),this.b=tw(o,r,e-1/3)}return bn.toWorkingColorSpace(this,s),this}setStyle(e,t=Ci){function n(r){void 0!==r&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const a=s[2];switch(s[1]){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],o=r.length;if(3===o)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ci){const n=JR[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Oc(e.r),this.g=Oc(e.g),this.b=Oc(e.b),this}copyLinearToSRGB(e){return this.r=Hb(e.r),this.g=Hb(e.g),this.b=Hb(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ci){return bn.fromWorkingColorSpace(Ui.copy(this),e),65536*Math.round(Wn(255*Ui.r,0,255))+256*Math.round(Wn(255*Ui.g,0,255))+Math.round(Wn(255*Ui.b,0,255))}getHexString(e=Ci){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=bn.workingColorSpace){bn.fromWorkingColorSpace(Ui.copy(this),t);const n=Ui.r,s=Ui.g,r=Ui.b,o=Math.max(n,s,r),a=Math.min(n,s,r);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case n:l=(s-r)/h+(s<r?6:0);break;case s:l=(r-n)/h+2;break;case r:l=(n-s)/h+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=bn.workingColorSpace){return bn.fromWorkingColorSpace(Ui.copy(this),t),e.r=Ui.r,e.g=Ui.g,e.b=Ui.b,e}getStyle(e=Ci){bn.fromWorkingColorSpace(Ui.copy(this),e);const t=Ui.r,n=Ui.g,s=Ui.b;return e!==Ci?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*s)})`}offsetHSL(e,t,n){return this.getHSL(sa),this.setHSL(sa.h+e,sa.s+t,sa.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(sa),e.getHSL(ug);const n=eh(sa.h,ug.h,t),s=eh(sa.s,ug.s,t),r=eh(sa.l,ug.l,t);return this.setHSL(n,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,s=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*s,this.g=r[1]*t+r[4]*n+r[7]*s,this.b=r[2]*t+r[5]*n+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ui=new je;je.NAMES=JR;let Jle=0;class Wc extends Ga{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Jle++}),this.uuid=Fs(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new je(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ac,this.stencilZFail=Ac,this.stencilZPass=Ac,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];void 0!==s?s&&s.isColor?s.set(n):s&&s.isVector3&&n&&n.isVector3?s.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function s(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ac&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Ac&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Ac&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const r=s(e.textures),o=s(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const s=t.length;n=new Array(s);for(let r=0;r!==s;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class kr extends Wc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const li=new k,dg=new de;class xi{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=ao,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=t.array[n+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)dg.fromBufferAttribute(this,t),dg.applyMatrix3(e),this.setXY(t,dg.x,dg.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)li.fromBufferAttribute(this,t),li.applyMatrix3(e),this.setXYZ(t,li.x,li.y,li.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)li.fromBufferAttribute(this,t),li.applyMatrix4(e),this.setXYZ(t,li.x,li.y,li.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)li.fromBufferAttribute(this,t),li.applyNormalMatrix(e),this.setXYZ(t,li.x,li.y,li.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)li.fromBufferAttribute(this,t),li.transformDirection(e),this.setXYZ(t,li.x,li.y,li.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=vs(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=kt(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=vs(t,this.array)),t}setX(e,t){return this.normalized&&(t=kt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=vs(t,this.array)),t}setY(e,t){return this.normalized&&(t=kt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=vs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=kt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=vs(t,this.array)),t}setW(e,t){return this.normalized&&(t=kt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=kt(t,this.array),n=kt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,s){return e*=this.itemSize,this.normalized&&(t=kt(t,this.array),n=kt(n,this.array),s=kt(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=s,this}setXYZW(e,t,n,s,r){return e*=this.itemSize,this.normalized&&(t=kt(t,this.array),n=kt(n,this.array),s=kt(s,this.array),r=kt(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class eO extends xi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class tO extends xi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class it extends xi{constructor(e,t,n){super(new Float32Array(e),t,n)}}let tce=0;const tr=new Pt,nw=new ys,$c=new k,Bs=new uo,ah=new uo,Ti=new k;class jt extends Ga{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:tce++}),this.uuid=Fs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(BR(e)?tO:eO)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const r=(new Ut).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(e),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return tr.makeRotationFromQuaternion(e),this.applyMatrix4(tr),this}rotateX(e){return tr.makeRotationX(e),this.applyMatrix4(tr),this}rotateY(e){return tr.makeRotationY(e),this.applyMatrix4(tr),this}rotateZ(e){return tr.makeRotationZ(e),this.applyMatrix4(tr),this}translate(e,t,n){return tr.makeTranslation(e,t,n),this.applyMatrix4(tr),this}scale(e,t,n){return tr.makeScale(e,t,n),this.applyMatrix4(tr),this}lookAt(e){return nw.lookAt(e),nw.updateMatrix(),this.applyMatrix4(nw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($c).negate(),this.translate($c.x,$c.y,$c.z),this}setFromPoints(e){const t=[];for(let n=0,s=e.length;n<s;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new it(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new uo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,s=t.length;n<s;n++)Bs.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(Ti.addVectors(this.boundingBox.min,Bs.min),this.boundingBox.expandByPoint(Ti),Ti.addVectors(this.boundingBox.max,Bs.max),this.boundingBox.expandByPoint(Ti)):(this.boundingBox.expandByPoint(Bs.min),this.boundingBox.expandByPoint(Bs.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Lr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new k,1/0);if(e){const n=this.boundingSphere.center;if(Bs.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++)ah.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(Ti.addVectors(Bs.min,ah.min),Bs.expandByPoint(Ti),Ti.addVectors(Bs.max,ah.max),Bs.expandByPoint(Ti)):(Bs.expandByPoint(ah.min),Bs.expandByPoint(ah.max));Bs.getCenter(n);let s=0;for(let r=0,o=e.count;r<o;r++)Ti.fromBufferAttribute(e,r),s=Math.max(s,n.distanceToSquared(Ti));if(t)for(let r=0,o=t.length;r<o;r++){const a=t[r],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Ti.fromBufferAttribute(a,c),l&&($c.fromBufferAttribute(e,c),Ti.add($c)),s=Math.max(s,n.distanceToSquared(Ti))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,s=t.position.array,r=t.normal.array,o=t.uv.array,a=s.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new xi(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let O=0;O<a;O++)c[O]=new k,u[O]=new k;const h=new k,p=new k,f=new k,m=new de,v=new de,_=new de,g=new k,C=new k;function w(O,Y,le){h.fromArray(s,3*O),p.fromArray(s,3*Y),f.fromArray(s,3*le),m.fromArray(o,2*O),v.fromArray(o,2*Y),_.fromArray(o,2*le),p.sub(h),f.sub(h),v.sub(m),_.sub(m);const fe=1/(v.x*_.y-_.x*v.y);isFinite(fe)&&(g.copy(p).multiplyScalar(_.y).addScaledVector(f,-v.y).multiplyScalar(fe),C.copy(f).multiplyScalar(v.x).addScaledVector(p,-_.x).multiplyScalar(fe),c[O].add(g),c[Y].add(g),c[le].add(g),u[O].add(C),u[Y].add(C),u[le].add(C))}let M=this.groups;0===M.length&&(M=[{start:0,count:n.length}]);for(let O=0,Y=M.length;O<Y;++O){const le=M[O],fe=le.start;for(let te=fe,q=fe+le.count;te<q;te+=3)w(n[te+0],n[te+1],n[te+2])}const D=new k,P=new k,R=new k,N=new k;function I(O){R.fromArray(r,3*O),N.copy(R);const Y=c[O];D.copy(Y),D.sub(R.multiplyScalar(R.dot(Y))).normalize(),P.crossVectors(N,Y);const fe=P.dot(u[O])<0?-1:1;l[4*O]=D.x,l[4*O+1]=D.y,l[4*O+2]=D.z,l[4*O+3]=fe}for(let O=0,Y=M.length;O<Y;++O){const le=M[O],fe=le.start;for(let te=fe,q=fe+le.count;te<q;te+=3)I(n[te+0]),I(n[te+1]),I(n[te+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new xi(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let p=0,f=n.count;p<f;p++)n.setXYZ(p,0,0,0);const s=new k,r=new k,o=new k,a=new k,l=new k,c=new k,u=new k,h=new k;if(e)for(let p=0,f=e.count;p<f;p+=3){const m=e.getX(p+0),v=e.getX(p+1),_=e.getX(p+2);s.fromBufferAttribute(t,m),r.fromBufferAttribute(t,v),o.fromBufferAttribute(t,_),u.subVectors(o,r),h.subVectors(s,r),u.cross(h),a.fromBufferAttribute(n,m),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,_),a.add(u),l.add(u),c.add(u),n.setXYZ(m,a.x,a.y,a.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(_,c.x,c.y,c.z)}else for(let p=0,f=t.count;p<f;p+=3)s.fromBufferAttribute(t,p+0),r.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,r),h.subVectors(s,r),u.cross(h),n.setXYZ(p+0,u.x,u.y,u.z),n.setXYZ(p+1,u.x,u.y,u.z),n.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ti.fromBufferAttribute(e,t),Ti.normalize(),e.setXYZ(t,Ti.x,Ti.y,Ti.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,p=new c.constructor(l.length*u);let f=0,m=0;for(let v=0,_=l.length;v<_;v++){f=a.isInterleavedBufferAttribute?l[v]*a.data.stride+a.offset:l[v]*u;for(let g=0;g<u;g++)p[m++]=c[f++]}return new xi(p,u,h)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new jt,n=this.index.array,s=this.attributes;for(const a in s){const c=e(s[a],n);t.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const l=[],c=r[a];for(let u=0,h=c.length;u<h;u++){const f=e(c[u],n);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n)e.data.attributes[l]=n[l].toJSON(e.data);const s={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,p=c.length;h<p;h++)u.push(c[h].toJSON(e.data));u.length>0&&(s[l]=u,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const s=e.attributes;for(const c in s)this.setAttribute(c,s[c].clone(t));const r=e.morphAttributes;for(const c in r){const u=[],h=r[c];for(let p=0,f=h.length;p<f;p++)u.push(h[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const nO=new Pt,Ya=new Bc,hg=new Lr,iO=new k,jc=new k,qc=new k,Yc=new k,iw=new k,pg=new k,fg=new de,mg=new de,gg=new de,sO=new k,rO=new k,oO=new k,_g=new k,vg=new k;class gi extends ys{constructor(e=new jt,t=new kr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(e,t){const n=this.geometry,r=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(n.attributes.position,e);const a=this.morphTargetInfluences;if(r&&a){pg.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const u=a[l];0!==u&&(iw.fromBufferAttribute(r[l],e),pg.addScaledVector(o?iw:iw.sub(t),u))}t.add(pg)}return t}raycast(e,t){const n=this.geometry,r=this.matrixWorld;void 0!==this.material&&(null===n.boundingSphere&&n.computeBoundingSphere(),hg.copy(n.boundingSphere),hg.applyMatrix4(r),Ya.copy(e.ray).recast(e.near),(!1!==hg.containsPoint(Ya.origin)||!(null===Ya.intersectSphere(hg,iO)||Ya.origin.distanceToSquared(iO)>(e.far-e.near)**2))&&(nO.copy(r).invert(),Ya.copy(e.ray).applyMatrix4(nO),(null===n.boundingBox||!1!==Ya.intersectsBox(n.boundingBox))&&this._computeIntersections(e,t,Ya)))}_computeIntersections(e,t,n){let s;const r=this.geometry,o=this.material,a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv1,h=r.attributes.normal,p=r.groups,f=r.drawRange;if(null!==a)if(Array.isArray(o))for(let m=0,v=p.length;m<v;m++){const _=p[m],g=o[_.materialIndex];for(let M=Math.max(_.start,f.start),D=Math.min(a.count,Math.min(_.start+_.count,f.start+f.count));M<D;M+=3)s=yg(this,g,e,n,c,u,h,a.getX(M),a.getX(M+1),a.getX(M+2)),s&&(s.faceIndex=Math.floor(M/3),s.face.materialIndex=_.materialIndex,t.push(s))}else for(let _=Math.max(0,f.start),g=Math.min(a.count,f.start+f.count);_<g;_+=3)s=yg(this,o,e,n,c,u,h,a.getX(_),a.getX(_+1),a.getX(_+2)),s&&(s.faceIndex=Math.floor(_/3),t.push(s));else if(void 0!==l)if(Array.isArray(o))for(let m=0,v=p.length;m<v;m++){const _=p[m],g=o[_.materialIndex];for(let M=Math.max(_.start,f.start),D=Math.min(l.count,Math.min(_.start+_.count,f.start+f.count));M<D;M+=3)s=yg(this,g,e,n,c,u,h,M,M+1,M+2),s&&(s.faceIndex=Math.floor(M/3),s.face.materialIndex=_.materialIndex,t.push(s))}else for(let _=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);_<g;_+=3)s=yg(this,o,e,n,c,u,h,_,_+1,_+2),s&&(s.faceIndex=Math.floor(_/3),t.push(s))}}function yg(i,e,t,n,s,r,o,a,l,c){i.getVertexPosition(a,jc),i.getVertexPosition(l,qc),i.getVertexPosition(c,Yc);const u=function nce(i,e,t,n,s,r,o,a){let l;if(l=1===e.side?n.intersectTriangle(o,r,s,!0,a):n.intersectTriangle(s,r,o,0===e.side,a),null===l)return null;vg.copy(a),vg.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(vg);return c<t.near||c>t.far?null:{distance:c,point:vg.clone(),object:i}}(i,e,t,n,jc,qc,Yc,_g);if(u){s&&(fg.fromBufferAttribute(s,a),mg.fromBufferAttribute(s,l),gg.fromBufferAttribute(s,c),u.uv=Vs.getInterpolation(_g,jc,qc,Yc,fg,mg,gg,new de)),r&&(fg.fromBufferAttribute(r,a),mg.fromBufferAttribute(r,l),gg.fromBufferAttribute(r,c),u.uv1=Vs.getInterpolation(_g,jc,qc,Yc,fg,mg,gg,new de),u.uv2=u.uv1),o&&(sO.fromBufferAttribute(o,a),rO.fromBufferAttribute(o,l),oO.fromBufferAttribute(o,c),u.normal=Vs.getInterpolation(_g,jc,qc,Yc,sO,rO,oO,new k),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new k,materialIndex:0};Vs.getNormal(jc,qc,Yc,h.normal),u.face=h}return u}class vo extends jt{constructor(e=1,t=1,n=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:s,heightSegments:r,depthSegments:o};const a=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],u=[],h=[];let p=0,f=0;function m(v,_,g,C,w,M,D,P,R,N,I){const O=M/R,Y=D/N,le=M/2,fe=D/2,z=P/2,te=R+1,q=N+1;let K=0,Q=0;const X=new k;for(let he=0;he<q;he++){const _e=he*Y-fe;for(let Z=0;Z<te;Z++)X[v]=(Z*O-le)*C,X[_]=_e*w,X[g]=z,c.push(X.x,X.y,X.z),X[v]=0,X[_]=0,X[g]=P>0?1:-1,u.push(X.x,X.y,X.z),h.push(Z/R),h.push(1-he/N),K+=1}for(let he=0;he<N;he++)for(let _e=0;_e<R;_e++){const we=p+_e+te*(he+1),be=p+(_e+1)+te*(he+1),Ke=p+(_e+1)+te*he;l.push(p+_e+te*he,we,Ke),l.push(we,be,Ke),Q+=6}a.addGroup(f,Q,I),f+=Q,p+=K}m("z","y","x",-1,-1,n,t,e,o,r,0),m("z","y","x",1,-1,n,t,-e,o,r,1),m("x","z","y",1,1,e,n,t,s,o,2),m("x","z","y",1,-1,e,n,-t,s,o,3),m("x","y","z",1,-1,e,t,n,s,r,4),m("x","y","z",-1,-1,e,t,-n,s,r,5),this.setIndex(l),this.setAttribute("position",new it(c,3)),this.setAttribute("normal",new it(u,3)),this.setAttribute("uv",new it(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Kc(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const s=i[t][n];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=s.clone():e[t][n]=Array.isArray(s)?s.slice():s}}return e}function ts(i){const e={};for(let t=0;t<i.length;t++){const n=Kc(i[t]);for(const s in n)e[s]=n[s]}return e}function aO(i){return null===i.getRenderTarget()?i.outputColorSpace:bn.workingColorSpace}const sce={clone:Kc,merge:ts};class ra extends Wc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Kc(e.uniforms),this.uniformsGroups=function ice(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;t.uniforms[s]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const s in this.extensions)!0===this.extensions[s]&&(n[s]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class sw extends ys{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pt,this.projectionMatrix=new Pt,this.projectionMatrixInverse=new Pt,this.coordinateSystem=co}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Oi extends sw{constructor(e=50,t=1,n=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Pc*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Wa*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Pc*Math.atan(Math.tan(.5*Wa*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,s,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Wa*this.fov)/this.zoom,n=2*t,s=this.aspect*n,r=-.5*s;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*s/l,t-=o.offsetY*n/c,s*=o.width/l,n*=o.height/c}const a=this.filmOffset;0!==a&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class ace extends ys{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Oi(-90,1,e,t);s.layers=this.layers,this.add(s);const r=new Oi(-90,1,e,t);r.layers=this.layers,this.add(r);const o=new Oi(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new Oi(-90,1,e,t);a.layers=this.layers,this.add(a);const l=new Oi(-90,1,e,t);l.layers=this.layers,this.add(l);const c=new Oi(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,s,r,o,a,l]=t;for(const c of t)this.remove(c);if(e===co)n.up.set(0,1,0),n.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,a,l,c,u]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,s),e.render(t,r),e.setRenderTarget(n,1,s),e.render(t,o),e.setRenderTarget(n,2,s),e.render(t,a),e.setRenderTarget(n,3,s),e.render(t,l),e.setRenderTarget(n,4,s),e.render(t,c),n.texture.generateMipmaps=v,e.setRenderTarget(n,5,s),e.render(t,u),e.setRenderTarget(h,p,f),e.xr.enabled=m,n.texture.needsPMREMUpdate=!0}}class bg extends Jo{constructor(e,t,n,s,r,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:Xo,n,s,r,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class lce extends $a{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},s=[n,n,n,n,n,n];void 0!==t.encoding&&(nh("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Ha?Ci:""),this.texture=new bg(s,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:ai}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new vo(5,5,5),r=new ra({name:"CubemapFromEquirect",uniforms:Kc(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=t;const o=new gi(s,r),a=t.minFilter;return t.minFilter===Va&&(t.minFilter=ai),new ace(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,s){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,s);e.setRenderTarget(r)}}const rw=new k,cce=new k,uce=new Ut;class oa{constructor(e=new k(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,s){return this.normal.set(e,t,n),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const s=rw.subVectors(n,t).cross(cce.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(rw),s=this.normal.dot(n);if(0===s)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||uce.getNormalMatrix(e),s=this.coplanarPoint(rw).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Ka=new Lr,wg=new k;class ow{constructor(e=new oa,t=new oa,n=new oa,s=new oa,r=new oa,o=new oa){this.planes=[e,t,n,s,r,o]}set(e,t,n,s,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(s),a[4].copy(r),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=co){const n=this.planes,s=e.elements,r=s[0],o=s[1],a=s[2],l=s[3],c=s[4],u=s[5],h=s[6],p=s[7],f=s[8],m=s[9],v=s[10],_=s[11],g=s[12],C=s[13],w=s[14],M=s[15];if(n[0].setComponents(l-r,p-c,_-f,M-g).normalize(),n[1].setComponents(l+r,p+c,_+f,M+g).normalize(),n[2].setComponents(l+o,p+u,_+m,M+C).normalize(),n[3].setComponents(l-o,p-u,_-m,M-C).normalize(),n[4].setComponents(l-a,p-h,_-v,M-w).normalize(),t===co)n[5].setComponents(l+a,p+h,_+v,M+w).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,h,v,w).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Ka.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Ka.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ka)}intersectsSprite(e){return Ka.center.set(0,0,0),Ka.radius=.7071067811865476,Ka.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ka)}intersectsSphere(e){const t=this.planes,n=e.center,s=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const s=t[n];if(wg.x=s.normal.x>0?e.max.x:e.min.x,wg.y=s.normal.y>0?e.max.y:e.min.y,wg.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(wg)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function lO(){let i=null,e=!1,t=null,n=null;function s(r,o){t(r,o),n=i.requestAnimationFrame(s)}return{start:function(){!0!==e&&null!==t&&(n=i.requestAnimationFrame(s),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){i=r}}}function dce(i,e){const t=e.isWebGL2,n=new WeakMap;return{get:function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=n.get(c);u&&(i.deleteBuffer(u.buffer),n.delete(c))},update:function l(c,u){if(c.isGLBufferAttribute){const p=n.get(c);return void((!p||p.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const h=n.get(c);void 0===h?n.set(c,function s(c,u){const h=c.array,p=c.usage,f=i.createBuffer();let m;if(i.bindBuffer(u,f),i.bufferData(u,h,p),c.onUploadCallback(),h instanceof Float32Array)m=i.FLOAT;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");m=i.HALF_FLOAT}else m=i.UNSIGNED_SHORT;else if(h instanceof Int16Array)m=i.SHORT;else if(h instanceof Uint32Array)m=i.UNSIGNED_INT;else if(h instanceof Int32Array)m=i.INT;else if(h instanceof Int8Array)m=i.BYTE;else if(h instanceof Uint8Array)m=i.UNSIGNED_BYTE;else{if(!(h instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);m=i.UNSIGNED_BYTE}return{buffer:f,type:m,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}(c,u)):h.version<c.version&&(function r(c,u,h){const p=u.array,f=u.updateRange;i.bindBuffer(h,c),-1===f.count?i.bufferSubData(h,0,p):(t?i.bufferSubData(h,f.offset*p.BYTES_PER_ELEMENT,p,f.offset,f.count):i.bufferSubData(h,f.offset*p.BYTES_PER_ELEMENT,p.subarray(f.offset,f.offset+f.count)),f.count=-1),u.onUploadCallback()}(h.buffer,c,u),h.version=c.version)}}}class Cg extends jt{constructor(e=1,t=1,n=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:s};const r=e/2,o=t/2,a=Math.floor(n),l=Math.floor(s),c=a+1,u=l+1,h=e/a,p=t/l,f=[],m=[],v=[],_=[];for(let g=0;g<u;g++){const C=g*p-o;for(let w=0;w<c;w++)m.push(w*h-r,-C,0),v.push(0,0,1),_.push(w/a),_.push(1-g/l)}for(let g=0;g<l;g++)for(let C=0;C<a;C++){const M=C+c*(g+1),D=C+1+c*(g+1),P=C+1+c*g;f.push(C+c*g,M,P),f.push(M,D,P)}this.setIndex(f),this.setAttribute("position",new it(m,3)),this.setAttribute("normal",new it(v,3)),this.setAttribute("uv",new it(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cg(e.width,e.height,e.widthSegments,e.heightSegments)}}const Vt={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Fe={common:{diffuse:{value:new je(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ut},alphaMap:{value:null},alphaMapTransform:{value:new Ut},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ut}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ut}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ut}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ut},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ut},normalScale:{value:new de(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ut},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ut}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ut}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ut}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new je(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new je(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ut},alphaTest:{value:0},uvTransform:{value:new Ut}},sprite:{diffuse:{value:new je(16777215)},opacity:{value:1},center:{value:new de(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ut},alphaMap:{value:null},alphaMapTransform:{value:new Ut},alphaTest:{value:0}}},Fr={basic:{uniforms:ts([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:Vt.meshbasic_vert,fragmentShader:Vt.meshbasic_frag},lambert:{uniforms:ts([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new je(0)}}]),vertexShader:Vt.meshlambert_vert,fragmentShader:Vt.meshlambert_frag},phong:{uniforms:ts([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new je(0)},specular:{value:new je(1118481)},shininess:{value:30}}]),vertexShader:Vt.meshphong_vert,fragmentShader:Vt.meshphong_frag},standard:{uniforms:ts([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new je(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Vt.meshphysical_vert,fragmentShader:Vt.meshphysical_frag},toon:{uniforms:ts([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new je(0)}}]),vertexShader:Vt.meshtoon_vert,fragmentShader:Vt.meshtoon_frag},matcap:{uniforms:ts([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:Vt.meshmatcap_vert,fragmentShader:Vt.meshmatcap_frag},points:{uniforms:ts([Fe.points,Fe.fog]),vertexShader:Vt.points_vert,fragmentShader:Vt.points_frag},dashed:{uniforms:ts([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Vt.linedashed_vert,fragmentShader:Vt.linedashed_frag},depth:{uniforms:ts([Fe.common,Fe.displacementmap]),vertexShader:Vt.depth_vert,fragmentShader:Vt.depth_frag},normal:{uniforms:ts([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:Vt.meshnormal_vert,fragmentShader:Vt.meshnormal_frag},sprite:{uniforms:ts([Fe.sprite,Fe.fog]),vertexShader:Vt.sprite_vert,fragmentShader:Vt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ut},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Vt.background_vert,fragmentShader:Vt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Vt.backgroundCube_vert,fragmentShader:Vt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Vt.cube_vert,fragmentShader:Vt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Vt.equirect_vert,fragmentShader:Vt.equirect_frag},distanceRGBA:{uniforms:ts([Fe.common,Fe.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Vt.distanceRGBA_vert,fragmentShader:Vt.distanceRGBA_frag},shadow:{uniforms:ts([Fe.lights,Fe.fog,{color:{value:new je(0)},opacity:{value:1}}]),vertexShader:Vt.shadow_vert,fragmentShader:Vt.shadow_frag}};Fr.physical={uniforms:ts([Fr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ut},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ut},clearcoatNormalScale:{value:new de(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ut},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ut},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ut},sheen:{value:0},sheenColor:{value:new je(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ut},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ut},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ut},transmissionSamplerSize:{value:new de},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ut},attenuationDistance:{value:0},attenuationColor:{value:new je(0)},specularColor:{value:new je(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ut},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ut},anisotropyVector:{value:new de},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ut}}]),vertexShader:Vt.meshphysical_vert,fragmentShader:Vt.meshphysical_frag};const xg={r:0,b:0,g:0};function cde(i,e,t,n,s,r,o){const a=new je(0);let c,u,l=!0===r?0:1,h=null,p=0,f=null;function v(_,g){_.getRGB(xg,aO(i)),n.buffers.color.setClear(xg.r,xg.g,xg.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(_,g=1){a.set(_),l=g,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,v(a,l)},render:function m(_,g){let C=!1,w=!0===g.isScene?g.background:null;w&&w.isTexture&&(w=(g.backgroundBlurriness>0?t:e).get(w)),null===w?v(a,l):w&&w.isColor&&(v(w,1),C=!0);const M=i.xr.getEnvironmentBlendMode();"additive"===M?n.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===M&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||C)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),w&&(w.isCubeTexture||w.mapping===Qd)?(void 0===u&&(u=new gi(new vo(1,1,1),new ra({name:"BackgroundCubeMaterial",uniforms:Kc(Fr.backgroundCube.uniforms),vertexShader:Fr.backgroundCube.vertexShader,fragmentShader:Fr.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(D,P,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(u)),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=bn.getTransfer(w.colorSpace)!==An,(h!==w||p!==w.version||f!==i.toneMapping)&&(u.material.needsUpdate=!0,h=w,p=w.version,f=i.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(void 0===c&&(c=new gi(new Cg(2,2),new ra({name:"BackgroundMaterial",uniforms:Kc(Fr.background.uniforms),vertexShader:Fr.background.vertexShader,fragmentShader:Fr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=bn.getTransfer(w.colorSpace)!==An,!0===w.matrixAutoUpdate&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(h!==w||p!==w.version||f!==i.toneMapping)&&(c.material.needsUpdate=!0,h=w,p=w.version,f=i.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}}}function ude(i,e,t,n){const s=i.getParameter(i.MAX_VERTEX_ATTRIBS),r=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||null!==r,a={},l=_(null);let c=l,u=!1;function f(z){return n.isWebGL2?i.bindVertexArray(z):r.bindVertexArrayOES(z)}function m(z){return n.isWebGL2?i.deleteVertexArray(z):r.deleteVertexArrayOES(z)}function _(z){const te=[],q=[],K=[];for(let Q=0;Q<s;Q++)te[Q]=0,q[Q]=0,K[Q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:te,enabledAttributes:q,attributeDivisors:K,object:z,attributes:{},index:null}}function w(){const z=c.newAttributes;for(let te=0,q=z.length;te<q;te++)z[te]=0}function M(z){D(z,0)}function D(z,te){const K=c.enabledAttributes,Q=c.attributeDivisors;c.newAttributes[z]=1,0===K[z]&&(i.enableVertexAttribArray(z),K[z]=1),Q[z]!==te&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,te),Q[z]=te)}function P(){const z=c.newAttributes,te=c.enabledAttributes;for(let q=0,K=te.length;q<K;q++)te[q]!==z[q]&&(i.disableVertexAttribArray(q),te[q]=0)}function R(z,te,q,K,Q,X,he){!0===he?i.vertexAttribIPointer(z,te,q,Q,X):i.vertexAttribPointer(z,te,q,K,Q,X)}function le(){fe(),u=!0,c!==l&&(c=l,f(c.object))}function fe(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function h(z,te,q,K,Q){let X=!1;if(o){const he=function v(z,te,q){const K=!0===q.wireframe;let Q=a[z.id];void 0===Q&&(Q={},a[z.id]=Q);let X=Q[te.id];void 0===X&&(X={},Q[te.id]=X);let he=X[K];return void 0===he&&(he=_(function p(){return n.isWebGL2?i.createVertexArray():r.createVertexArrayOES()}()),X[K]=he),he}(K,q,te);c!==he&&(c=he,f(c.object)),X=function g(z,te,q,K){const Q=c.attributes,X=te.attributes;let he=0;const _e=q.getAttributes();for(const Z in _e)if(_e[Z].location>=0){const be=Q[Z];let Ke=X[Z];if(void 0===Ke&&("instanceMatrix"===Z&&z.instanceMatrix&&(Ke=z.instanceMatrix),"instanceColor"===Z&&z.instanceColor&&(Ke=z.instanceColor)),void 0===be||be.attribute!==Ke||Ke&&be.data!==Ke.data)return!0;he++}return c.attributesNum!==he||c.index!==K}(z,K,q,Q),X&&function C(z,te,q,K){const Q={},X=te.attributes;let he=0;const _e=q.getAttributes();for(const Z in _e)if(_e[Z].location>=0){let be=X[Z];void 0===be&&("instanceMatrix"===Z&&z.instanceMatrix&&(be=z.instanceMatrix),"instanceColor"===Z&&z.instanceColor&&(be=z.instanceColor));const Ke={};Ke.attribute=be,be&&be.data&&(Ke.data=be.data),Q[Z]=Ke,he++}c.attributes=Q,c.attributesNum=he,c.index=K}(z,K,q,Q)}else{const he=!0===te.wireframe;(c.geometry!==K.id||c.program!==q.id||c.wireframe!==he)&&(c.geometry=K.id,c.program=q.id,c.wireframe=he,X=!0)}null!==Q&&t.update(Q,i.ELEMENT_ARRAY_BUFFER),(X||u)&&(u=!1,function N(z,te,q,K){if(!1===n.isWebGL2&&(z.isInstancedMesh||K.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;w();const Q=K.attributes,X=q.getAttributes(),he=te.defaultAttributeValues;for(const _e in X){const Z=X[_e];if(Z.location>=0){let we=Q[_e];if(void 0===we&&("instanceMatrix"===_e&&z.instanceMatrix&&(we=z.instanceMatrix),"instanceColor"===_e&&z.instanceColor&&(we=z.instanceColor)),void 0!==we){const be=we.normalized,Ke=we.itemSize,Je=t.get(we);if(void 0===Je)continue;const He=Je.buffer,mt=Je.type,Ue=Je.bytesPerElement,It=!0===n.isWebGL2&&(mt===i.INT||mt===i.UNSIGNED_INT||1013===we.gpuType);if(we.isInterleavedBufferAttribute){const pt=we.data,B=pt.stride,Re=we.offset;if(pt.isInstancedInterleavedBuffer){for(let ue=0;ue<Z.locationSize;ue++)D(Z.location+ue,pt.meshPerAttribute);!0!==z.isInstancedMesh&&void 0===K._maxInstanceCount&&(K._maxInstanceCount=pt.meshPerAttribute*pt.count)}else for(let ue=0;ue<Z.locationSize;ue++)M(Z.location+ue);i.bindBuffer(i.ARRAY_BUFFER,He);for(let ue=0;ue<Z.locationSize;ue++)R(Z.location+ue,Ke/Z.locationSize,mt,be,B*Ue,(Re+Ke/Z.locationSize*ue)*Ue,It)}else{if(we.isInstancedBufferAttribute){for(let pt=0;pt<Z.locationSize;pt++)D(Z.location+pt,we.meshPerAttribute);!0!==z.isInstancedMesh&&void 0===K._maxInstanceCount&&(K._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let pt=0;pt<Z.locationSize;pt++)M(Z.location+pt);i.bindBuffer(i.ARRAY_BUFFER,He);for(let pt=0;pt<Z.locationSize;pt++)R(Z.location+pt,Ke/Z.locationSize,mt,be,Ke*Ue,Ke/Z.locationSize*pt*Ue,It)}}else if(void 0!==he){const be=he[_e];if(void 0!==be)switch(be.length){case 2:i.vertexAttrib2fv(Z.location,be);break;case 3:i.vertexAttrib3fv(Z.location,be);break;case 4:i.vertexAttrib4fv(Z.location,be);break;default:i.vertexAttrib1fv(Z.location,be)}}}}P()}(z,te,q,K),null!==Q&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.get(Q).buffer))},reset:le,resetDefaultState:fe,dispose:function I(){le();for(const z in a){const te=a[z];for(const q in te){const K=te[q];for(const Q in K)m(K[Q].object),delete K[Q];delete te[q]}delete a[z]}},releaseStatesOfGeometry:function O(z){if(void 0===a[z.id])return;const te=a[z.id];for(const q in te){const K=te[q];for(const Q in K)m(K[Q].object),delete K[Q];delete te[q]}delete a[z.id]},releaseStatesOfProgram:function Y(z){for(const te in a){const q=a[te];if(void 0===q[z.id])continue;const K=q[z.id];for(const Q in K)m(K[Q].object),delete K[Q];delete q[z.id]}},initAttributes:w,enableAttribute:M,disableUnusedAttributes:P}}function dde(i,e,t,n){const s=n.isWebGL2;let r;this.setMode=function o(c){r=c},this.render=function a(c,u){i.drawArrays(r,c,u),t.update(u,r,1)},this.renderInstances=function l(c,u,h){if(0===h)return;let p,f;if(s)p=i,f="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===p)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");p[f](r,c,u,h),t.update(u,r,h)}}function hde(i,e,t){let n;function r(R){if("highp"===R){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return"mediump"===R&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===i.constructor.name;let a=void 0!==t.precision?t.precision:"highp";const l=r(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,h=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),p=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=i.getParameter(i.MAX_TEXTURE_SIZE),m=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),v=i.getParameter(i.MAX_VERTEX_ATTRIBS),_=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),g=i.getParameter(i.MAX_VARYING_VECTORS),C=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,M=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function s(){if(void 0!==n)return n;if(!0===e.has("EXT_texture_filter_anisotropic")){const R=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:p,maxTextureSize:f,maxCubemapSize:m,maxAttributes:v,maxVertexUniforms:_,maxVaryings:g,maxFragmentUniforms:C,vertexTextures:w,floatFragmentTextures:M,floatVertexTextures:w&&M,maxSamples:o?i.getParameter(i.MAX_SAMPLES):0}}function pde(i){const e=this;let t=null,n=0,s=!1,r=!1;const o=new oa,a=new Ut,l={value:null,needsUpdate:!1};function u(h,p,f,m){const v=null!==h?h.length:0;let _=null;if(0!==v){if(_=l.value,!0!==m||null===_){const g=f+4*v,C=p.matrixWorldInverse;a.getNormalMatrix(C),(null===_||_.length<g)&&(_=new Float32Array(g));for(let w=0,M=f;w!==v;++w,M+=4)o.copy(h[w]).applyMatrix4(C,a),o.normal.toArray(_,M),_[M+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,_}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const f=0!==h.length||p||0!==n||s;return s=p,n=h.length,f},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(h,p){t=u(h,p,0)},this.setState=function(h,p,f){const m=h.clippingPlanes,v=h.clipIntersection,_=h.clipShadows,g=i.get(h);if(!s||null===m||0===m.length||r&&!_)r?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}();else{const C=r?0:n,w=4*C;let M=g.clippingState||null;l.value=M,M=u(m,p,w,f);for(let D=0;D!==w;++D)M[D]=t[D];g.clippingState=M,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=C}}}function fde(i){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=Xo:304===a&&(o.mapping=Na),o}function s(o){const a=o.target;a.removeEventListener("dispose",s);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function n(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new lce(l.height/2);return c.fromEquirectangularTexture(i,o),e.set(o,c),o.addEventListener("dispose",s),t(c.texture,o.mapping)}return null}}}return o},dispose:function r(){e=new WeakMap}}}class aw extends sw{constructor(e=-1,t=1,n=1,s=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,s,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=n-e,o=n+e,a=s+t,l=s-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const cO=[.125,.215,.35,.446,.526,.582],lw=new aw,uO=new je;let cw=null,uw=0,dw=0;const Za=(1+Math.sqrt(5))/2,Jc=1/Za,dO=[new k(1,1,1),new k(-1,1,1),new k(1,1,-1),new k(-1,1,-1),new k(0,Za,Jc),new k(0,Za,-Jc),new k(Jc,0,Za),new k(-Jc,0,Za),new k(Za,Jc,0),new k(-Za,Jc,0)];class hO{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,s=100){cw=this._renderer.getRenderTarget(),uw=this._renderer.getActiveCubeFace(),dw=this._renderer.getActiveMipmapLevel(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,s,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=mO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=fO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(cw,uw,dw),e.scissorTest=!1,Tg(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Xo||e.mapping===Na?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),cw=this._renderer.getRenderTarget(),uw=this._renderer.getActiveCubeFace(),dw=this._renderer.getActiveMipmapLevel();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ai,minFilter:ai,generateMipmaps:!1,type:Jd,format:Js,colorSpace:lo,depthBuffer:!1},s=pO(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=pO(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function mde(i){const e=[],t=[],n=[];let s=i;const r=i-4+1+cO.length;for(let o=0;o<r;o++){const a=Math.pow(2,s);t.push(a);let l=1/a;o>i-4?l=cO[o-i+4-1]:0===o&&(l=0),n.push(l);const c=1/(a-2),u=-c,h=1+c,p=[u,u,h,u,h,h,u,u,h,h,u,h],f=6,m=6,v=3,_=2,g=1,C=new Float32Array(v*m*f),w=new Float32Array(_*m*f),M=new Float32Array(g*m*f);for(let P=0;P<f;P++){const R=P%3*2/3-1,N=P>2?0:-1;C.set([R,N,0,R+2/3,N,0,R+2/3,N+1,0,R,N,0,R+2/3,N+1,0,R,N+1,0],v*m*P),w.set(p,_*m*P),M.set([P,P,P,P,P,P],g*m*P)}const D=new jt;D.setAttribute("position",new xi(C,v)),D.setAttribute("uv",new xi(w,_)),D.setAttribute("faceIndex",new xi(M,g)),e.push(D),s>4&&s--}return{lodPlanes:e,sizeLods:t,sigmas:n}}(r)),this._blurMaterial=function gde(i,e,t){const n=new Float32Array(20),s=new k(0,1,0);return new ra({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(r,e,t)}return s}_compileMaterial(e){const t=new gi(this._lodPlanes[0],e);this._renderer.compile(t,lw)}_sceneToCubeUV(e,t,n,s){const a=new Oi(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,p=u.toneMapping;u.getClearColor(uO),u.toneMapping=Ko,u.autoClear=!1;const f=new kr({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),m=new gi(new vo,f);let v=!1;const _=e.background;_?_.isColor&&(f.color.copy(_),e.background=null,v=!0):(f.color.copy(uO),v=!0);for(let g=0;g<6;g++){const C=g%3;0===C?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):1===C?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const w=this._cubeSize;Tg(s,C*w,g>2?w:0,w,w),u.setRenderTarget(s),v&&u.render(m,a),u.render(e,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=p,u.autoClear=h,e.background=_}_textureToCubeUV(e,t){const n=this._renderer,s=e.mapping===Xo||e.mapping===Na;s?(null===this._cubemapMaterial&&(this._cubemapMaterial=mO()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=fO());const r=s?this._cubemapMaterial:this._equirectMaterial,o=new gi(this._lodPlanes[0],r);r.uniforms.envMap.value=e;const l=this._cubeSize;Tg(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(o,lw)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let s=1;s<this._lodPlanes.length;s++){const r=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(e,s-1,s,r,dO[(s-1)%dO.length])}t.autoClear=n}_blur(e,t,n,s,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,s,"latitudinal",r),this._halfBlur(o,e,n,n,s,"longitudinal",r)}_halfBlur(e,t,n,s,r,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const h=new gi(this._lodPlanes[s],c),p=c.uniforms,f=this._sizeLods[n]-1,m=isFinite(r)?Math.PI/(2*f):2*Math.PI/39,v=r/m,_=isFinite(r)?1+Math.floor(3*v):20;_>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${_} samples when the maximum is set to 20`);const g=[];let C=0;for(let R=0;R<20;++R){const N=R/v,I=Math.exp(-N*N/2);g.push(I),0===R?C+=I:R<_&&(C+=2*I)}for(let R=0;R<g.length;R++)g[R]=g[R]/C;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=g,p.latitudinal.value="latitudinal"===o,a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=m,p.mipInt.value=w-n;const M=this._sizeLods[s];Tg(t,3*M*(s>w-4?s-w+4:0),4*(this._cubeSize-M),3*M,2*M),l.setRenderTarget(t),l.render(h,lw)}}function pO(i,e,t){const n=new $a(i,e,t);return n.texture.mapping=Qd,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Tg(i,e,t,n,s){i.viewport.set(e,t,n,s),i.scissor.set(e,t,n,s)}function fO(){return new ra({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function mO(){return new ra({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function _de(i){let e=new WeakMap,t=null;function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function n(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=l===Xo||l===Na;if(c||u){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let h=e.get(a);return null===t&&(t=new hO(i)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&function s(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(h)){null===t&&(t=new hO(i));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",r),p.texture}return null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function vde(i){const e={};function t(n){if(void 0!==e[n])return e[n];let s;switch(n){case"WEBGL_depth_texture":s=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=i.getExtension(n)}return e[n]=s,s}return{has:function(n){return null!==t(n)},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const s=t(n);return null===s&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),s}}}function yde(i,e,t,n){const s={},r=new WeakMap;function o(h){const p=h.target;null!==p.index&&e.remove(p.index);for(const m in p.attributes)e.remove(p.attributes[m]);for(const m in p.morphAttributes){const v=p.morphAttributes[m];for(let _=0,g=v.length;_<g;_++)e.remove(v[_])}p.removeEventListener("dispose",o),delete s[p.id];const f=r.get(p);f&&(e.remove(f),r.delete(p)),n.releaseStatesOfGeometry(p),!0===p.isInstancedBufferGeometry&&delete p._maxInstanceCount,t.memory.geometries--}function c(h){const p=[],f=h.index,m=h.attributes.position;let v=0;if(null!==f){const C=f.array;v=f.version;for(let w=0,M=C.length;w<M;w+=3){const D=C[w+0],P=C[w+1],R=C[w+2];p.push(D,P,P,R,R,D)}}else{if(void 0===m)return;v=m.version;for(let w=0,M=m.array.length/3-1;w<M;w+=3){const D=w+0,P=w+1,R=w+2;p.push(D,P,P,R,R,D)}}const _=new(BR(p)?tO:eO)(p,1);_.version=v;const g=r.get(h);g&&e.remove(g),r.set(h,_)}return{get:function a(h,p){return!0===s[p.id]||(p.addEventListener("dispose",o),s[p.id]=!0,t.memory.geometries++),p},update:function l(h){const p=h.attributes;for(const m in p)e.update(p[m],i.ARRAY_BUFFER);const f=h.morphAttributes;for(const m in f){const v=f[m];for(let _=0,g=v.length;_<g;_++)e.update(v[_],i.ARRAY_BUFFER)}},getWireframeAttribute:function u(h){const p=r.get(h);if(p){const f=h.index;null!==f&&p.version<f.version&&c(h)}else c(h);return r.get(h)}}}function bde(i,e,t,n){const s=n.isWebGL2;let r,a,l;this.setMode=function o(p){r=p},this.setIndex=function c(p){a=p.type,l=p.bytesPerElement},this.render=function u(p,f){i.drawElements(r,f,a,p*l),t.update(f,r,1)},this.renderInstances=function h(p,f,m){if(0===m)return;let v,_;if(s)v=i,_="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",null===v)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");v[_](r,f,a,p*l,m),t.update(f,r,m)}}function wde(i){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function n(r,o,a){switch(t.calls++,o){case i.TRIANGLES:t.triangles+=a*(r/3);break;case i.LINES:t.lines+=a*(r/2);break;case i.LINE_STRIP:t.lines+=a*(r-1);break;case i.LINE_LOOP:t.lines+=a*r;break;case i.POINTS:t.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function Cde(i,e){return i[0]-e[0]}function xde(i,e){return Math.abs(e[1])-Math.abs(i[1])}function Tde(i,e,t){const n={},s=new Float32Array(8),r=new WeakMap,o=new wn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,u,h){const p=c.morphTargetInfluences;if(!0===e.isWebGL2){const f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=void 0!==f?f.length:0;let v=r.get(u);if(void 0===v||v.count!==m){let z=function(){le.dispose(),r.delete(u),u.removeEventListener("dispose",z)};void 0!==v&&v.texture.dispose();const C=void 0!==u.morphAttributes.position,w=void 0!==u.morphAttributes.normal,M=void 0!==u.morphAttributes.color,D=u.morphAttributes.position||[],P=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let N=0;!0===C&&(N=1),!0===w&&(N=2),!0===M&&(N=3);let I=u.attributes.position.count*N,O=1;I>e.maxTextureSize&&(O=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const Y=new Float32Array(I*O*4*m),le=new Gb(Y,I,O,m);le.type=ao,le.needsUpdate=!0;const fe=4*N;for(let te=0;te<m;te++){const q=D[te],K=P[te],Q=R[te],X=I*O*4*te;for(let he=0;he<q.count;he++){const _e=he*fe;!0===C&&(o.fromBufferAttribute(q,he),Y[X+_e+0]=o.x,Y[X+_e+1]=o.y,Y[X+_e+2]=o.z,Y[X+_e+3]=0),!0===w&&(o.fromBufferAttribute(K,he),Y[X+_e+4]=o.x,Y[X+_e+5]=o.y,Y[X+_e+6]=o.z,Y[X+_e+7]=0),!0===M&&(o.fromBufferAttribute(Q,he),Y[X+_e+8]=o.x,Y[X+_e+9]=o.y,Y[X+_e+10]=o.z,Y[X+_e+11]=4===Q.itemSize?o.w:1)}}v={count:m,texture:le,size:new de(I,O)},r.set(u,v),u.addEventListener("dispose",z)}let _=0;for(let C=0;C<p.length;C++)_+=p[C];const g=u.morphTargetsRelative?1:1-_;h.getUniforms().setValue(i,"morphTargetBaseInfluence",g),h.getUniforms().setValue(i,"morphTargetInfluences",p),h.getUniforms().setValue(i,"morphTargetsTexture",v.texture,t),h.getUniforms().setValue(i,"morphTargetsTextureSize",v.size)}else{const f=void 0===p?0:p.length;let m=n[u.id];if(void 0===m||m.length!==f){m=[];for(let w=0;w<f;w++)m[w]=[w,0];n[u.id]=m}for(let w=0;w<f;w++){const M=m[w];M[0]=w,M[1]=p[w]}m.sort(xde);for(let w=0;w<8;w++)w<f&&m[w][1]?(a[w][0]=m[w][0],a[w][1]=m[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(Cde);const v=u.morphAttributes.position,_=u.morphAttributes.normal;let g=0;for(let w=0;w<8;w++){const M=a[w],D=M[0],P=M[1];D!==Number.MAX_SAFE_INTEGER&&P?(v&&u.getAttribute("morphTarget"+w)!==v[D]&&u.setAttribute("morphTarget"+w,v[D]),_&&u.getAttribute("morphNormal"+w)!==_[D]&&u.setAttribute("morphNormal"+w,_[D]),s[w]=P,g+=P):(v&&!0===u.hasAttribute("morphTarget"+w)&&u.deleteAttribute("morphTarget"+w),_&&!0===u.hasAttribute("morphNormal"+w)&&u.deleteAttribute("morphNormal"+w),s[w]=0)}const C=u.morphTargetsRelative?1:1-g;h.getUniforms().setValue(i,"morphTargetBaseInfluence",C),h.getUniforms().setValue(i,"morphTargetInfluences",s)}}}}function Sde(i,e,t,n){let s=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function r(l){const c=n.render.frame,h=e.get(l,l.geometry);if(s.get(h)!==c&&(e.update(h),s.set(h,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),s.get(l)!==c&&(t.update(l.instanceMatrix,i.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,i.ARRAY_BUFFER),s.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;s.get(p)!==c&&(p.update(),s.set(p,c))}return h},dispose:function o(){s=new WeakMap}}}const gO=new Jo,_O=new Gb,vO=new WR,yO=new bg,bO=[],wO=[],CO=new Float32Array(16),xO=new Float32Array(9),TO=new Float32Array(4);function eu(i,e,t){const n=i[0];if(n<=0||n>0)return i;const s=e*t;let r=bO[s];if(void 0===r&&(r=new Float32Array(s),bO[s]=r),0!==e){n.toArray(r,0);for(let o=1,a=0;o!==e;++o)a+=t,i[o].toArray(r,a)}return r}function _i(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function vi(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Sg(i,e){let t=wO[e];void 0===t&&(t=new Int32Array(e),wO[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function Mde(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function Ede(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_i(t,e))return;i.uniform2fv(this.addr,e),vi(t,e)}}function Ide(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(_i(t,e))return;i.uniform3fv(this.addr,e),vi(t,e)}}function Dde(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_i(t,e))return;i.uniform4fv(this.addr,e),vi(t,e)}}function Ade(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(_i(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),vi(t,e)}else{if(_i(t,n))return;TO.set(n),i.uniformMatrix2fv(this.addr,!1,TO),vi(t,n)}}function Pde(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(_i(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),vi(t,e)}else{if(_i(t,n))return;xO.set(n),i.uniformMatrix3fv(this.addr,!1,xO),vi(t,n)}}function Rde(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(_i(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),vi(t,e)}else{if(_i(t,n))return;CO.set(n),i.uniformMatrix4fv(this.addr,!1,CO),vi(t,n)}}function Ode(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function Lde(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_i(t,e))return;i.uniform2iv(this.addr,e),vi(t,e)}}function kde(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(_i(t,e))return;i.uniform3iv(this.addr,e),vi(t,e)}}function Fde(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_i(t,e))return;i.uniform4iv(this.addr,e),vi(t,e)}}function Nde(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function Vde(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_i(t,e))return;i.uniform2uiv(this.addr,e),vi(t,e)}}function Bde(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(_i(t,e))return;i.uniform3uiv(this.addr,e),vi(t,e)}}function Ude(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_i(t,e))return;i.uniform4uiv(this.addr,e),vi(t,e)}}function Hde(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTexture2D(e||gO,s)}function zde(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTexture3D(e||vO,s)}function Gde(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTextureCube(e||yO,s)}function Wde(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTexture2DArray(e||_O,s)}function jde(i,e){i.uniform1fv(this.addr,e)}function qde(i,e){const t=eu(e,this.size,2);i.uniform2fv(this.addr,t)}function Yde(i,e){const t=eu(e,this.size,3);i.uniform3fv(this.addr,t)}function Kde(i,e){const t=eu(e,this.size,4);i.uniform4fv(this.addr,t)}function Xde(i,e){const t=eu(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function Zde(i,e){const t=eu(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function Qde(i,e){const t=eu(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function Jde(i,e){i.uniform1iv(this.addr,e)}function ehe(i,e){i.uniform2iv(this.addr,e)}function the(i,e){i.uniform3iv(this.addr,e)}function nhe(i,e){i.uniform4iv(this.addr,e)}function ihe(i,e){i.uniform1uiv(this.addr,e)}function she(i,e){i.uniform2uiv(this.addr,e)}function rhe(i,e){i.uniform3uiv(this.addr,e)}function ohe(i,e){i.uniform4uiv(this.addr,e)}function ahe(i,e,t){const n=this.cache,s=e.length,r=Sg(t,s);_i(n,r)||(i.uniform1iv(this.addr,r),vi(n,r));for(let o=0;o!==s;++o)t.setTexture2D(e[o]||gO,r[o])}function lhe(i,e,t){const n=this.cache,s=e.length,r=Sg(t,s);_i(n,r)||(i.uniform1iv(this.addr,r),vi(n,r));for(let o=0;o!==s;++o)t.setTexture3D(e[o]||vO,r[o])}function che(i,e,t){const n=this.cache,s=e.length,r=Sg(t,s);_i(n,r)||(i.uniform1iv(this.addr,r),vi(n,r));for(let o=0;o!==s;++o)t.setTextureCube(e[o]||yO,r[o])}function uhe(i,e,t){const n=this.cache,s=e.length,r=Sg(t,s);_i(n,r)||(i.uniform1iv(this.addr,r),vi(n,r));for(let o=0;o!==s;++o)t.setTexture2DArray(e[o]||_O,r[o])}class hhe{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function $de(i){switch(i){case 5126:return Mde;case 35664:return Ede;case 35665:return Ide;case 35666:return Dde;case 35674:return Ade;case 35675:return Pde;case 35676:return Rde;case 5124:case 35670:return Ode;case 35667:case 35671:return Lde;case 35668:case 35672:return kde;case 35669:case 35673:return Fde;case 5125:return Nde;case 36294:return Vde;case 36295:return Bde;case 36296:return Ude;case 35678:case 36198:case 36298:case 36306:case 35682:return Hde;case 35679:case 36299:case 36307:return zde;case 35680:case 36300:case 36308:case 36293:return Gde;case 36289:case 36303:case 36311:case 36292:return Wde}}(t.type)}}class phe{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function dhe(i){switch(i){case 5126:return jde;case 35664:return qde;case 35665:return Yde;case 35666:return Kde;case 35674:return Xde;case 35675:return Zde;case 35676:return Qde;case 5124:case 35670:return Jde;case 35667:case 35671:return ehe;case 35668:case 35672:return the;case 35669:case 35673:return nhe;case 5125:return ihe;case 36294:return she;case 36295:return rhe;case 36296:return ohe;case 35678:case 36198:case 36298:case 36306:case 35682:return ahe;case 35679:case 36299:case 36307:return lhe;case 35680:case 36300:case 36308:case 36293:return che;case 36289:case 36303:case 36311:case 36292:return uhe}}(t.type)}}class fhe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const s=this.seq;for(let r=0,o=s.length;r!==o;++r){const a=s[r];a.setValue(e,t[a.id],n)}}}const pw=/(\w+)(\])?(\[|\.)?/g;function SO(i,e){i.seq.push(e),i.map[e.id]=e}function mhe(i,e,t){const n=i.name,s=n.length;for(pw.lastIndex=0;;){const r=pw.exec(n);let a=r[1];const c=r[3];if("]"===r[2]&&(a|=0),void 0===c||"["===c&&pw.lastIndex+2===s){SO(t,void 0===c?new hhe(a,i,e):new phe(a,i,e));break}{let h=t.map[a];void 0===h&&(h=new fhe(a),SO(t,h)),t=h}}}class Mg{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<n;++s){const r=e.getActiveUniform(t,s);mhe(r,e.getUniformLocation(t,r.name),this)}}setValue(e,t,n,s){const r=this.map[t];void 0!==r&&r.setValue(e,n,s)}setOptional(e,t,n){const s=t[n];void 0!==s&&this.setValue(e,n,s)}static upload(e,t,n,s){for(let r=0,o=t.length;r!==o;++r){const a=t[r],l=n[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,s)}}static seqWithValue(e,t){const n=[];for(let s=0,r=e.length;s!==r;++s){const o=e[s];o.id in t&&n.push(o)}return n}}function MO(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const ghe=37297;let _he=0;function EO(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),s=i.getShaderInfoLog(e).trim();if(n&&""===s)return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const o=parseInt(r[1]);return t.toUpperCase()+"\n\n"+s+"\n\n"+function vhe(i,e){const t=i.split("\n"),n=[],s=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let o=s;o<r;o++){const a=o+1;n.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return n.join("\n")}(i.getShaderSource(e),o)}return s}function bhe(i,e){const t=function yhe(i){const e=bn.getPrimaries(bn.workingColorSpace),t=bn.getPrimaries(i);let n;switch(e===t?n="":e===Zm&&t===Xm?n="LinearDisplayP3ToLinearSRGB":e===Xm&&t===Zm&&(n="LinearSRGBToLinearDisplayP3"),i){case lo:case Ym:return[n,"LinearTransferOETF"];case Ci:case Fb:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),[n,"LinearTransferOETF"]}}(e);return`vec4 ${i}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function whe(i,e){let t;switch(e){case Kae:t="Linear";break;case Xae:t="Reinhard";break;case Zae:t="OptimizedCineon";break;case Qae:t="ACESFilmic";break;case Jae:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function lh(i){return""!==i}function IO(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function DO(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const She=/^[ \t]*#include +<([\w\d./]+)>/gm;function fw(i){return i.replace(She,Ehe)}const Mhe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Ehe(i,e){let t=Vt[e];if(void 0===t){const n=Mhe.get(e);if(void 0===n)throw new Error("Can not resolve #include <"+e+">");t=Vt[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n)}return fw(t)}const Ihe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function AO(i){return i.replace(Ihe,Dhe)}function Dhe(i,e,t,n){let s="";for(let r=parseInt(e);r<parseInt(t);r++)s+=n.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function PO(i){let e="precision "+i.precision+" float;\nprecision "+i.precision+" int;";return"highp"===i.precision?e+="\n#define HIGH_PRECISION":"mediump"===i.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===i.precision&&(e+="\n#define LOW_PRECISION"),e}function khe(i,e,t,n){const s=i.getContext(),r=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function Ahe(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===qP?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===YP?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===ro&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function Phe(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Xo:case Na:e="ENVMAP_TYPE_CUBE";break;case Qd:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function Rhe(i){let e="ENVMAP_MODE_REFLECTION";return i.envMap&&i.envMapMode===Na&&(e="ENVMAP_MODE_REFRACTION"),e}(t),h=function Ohe(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case Bm:e="ENVMAP_BLENDING_MULTIPLY";break;case qae:e="ENVMAP_BLENDING_MIX";break;case Yae:e="ENVMAP_BLENDING_ADD"}return e}(t),p=function Lhe(i){const e=i.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}(t),f=t.isWebGL2?"":function Che(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(lh).join("\n")}(t),m=function xhe(i){const e=[];for(const t in i){const n=i[t];!1!==n&&e.push("#define "+t+" "+n)}return e.join("\n")}(r),v=s.createProgram();let _,g,C=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(lh).join("\n"),_.length>0&&(_+="\n"),g=[f,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(lh).join("\n"),g.length>0&&(g+="\n")):(_=[PO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(lh).join("\n"),g=[f,PO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ko?"#define TONE_MAPPING":"",t.toneMapping!==Ko?Vt.tonemapping_pars_fragment:"",t.toneMapping!==Ko?whe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Vt.colorspace_pars_fragment,bhe("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(lh).join("\n")),o=fw(o),o=IO(o,t),o=DO(o,t),a=fw(a),a=IO(a,t),a=DO(a,t),o=AO(o),a=AO(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(C="#version 300 es\n",_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+_,g=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===FR?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===FR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const M=C+g+a,D=MO(s,s.VERTEX_SHADER,C+_+o),P=MO(s,s.FRAGMENT_SHADER,M);function R(Y){if(i.debug.checkShaderErrors){const le=s.getProgramInfoLog(v).trim(),fe=s.getShaderInfoLog(D).trim(),z=s.getShaderInfoLog(P).trim();let te=!0,q=!0;if(!1===s.getProgramParameter(v,s.LINK_STATUS))if(te=!1,"function"==typeof i.debug.onShaderError)i.debug.onShaderError(s,v,D,P);else{const K=EO(s,D,"vertex"),Q=EO(s,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(v,s.VALIDATE_STATUS)+"\n\nProgram Info Log: "+le+"\n"+K+"\n"+Q)}else""!==le?console.warn("THREE.WebGLProgram: Program Info Log:",le):(""===fe||""===z)&&(q=!1);q&&(Y.diagnostics={runnable:te,programLog:le,vertexShader:{log:fe,prefix:_},fragmentShader:{log:z,prefix:g}})}s.deleteShader(D),s.deleteShader(P),N=new Mg(s,v),I=function The(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const r=i.getActiveAttrib(e,s),o=r.name;let a=1;r.type===i.FLOAT_MAT2&&(a=2),r.type===i.FLOAT_MAT3&&(a=3),r.type===i.FLOAT_MAT4&&(a=4),t[o]={type:r.type,location:i.getAttribLocation(e,o),locationSize:a}}return t}(s,v)}let N,I;s.attachShader(v,D),s.attachShader(v,P),void 0!==t.index0AttributeName?s.bindAttribLocation(v,0,t.index0AttributeName):!0===t.morphTargets&&s.bindAttribLocation(v,0,"position"),s.linkProgram(v),this.getUniforms=function(){return void 0===N&&R(this),N},this.getAttributes=function(){return void 0===I&&R(this),I};let O=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===O&&(O=s.getProgramParameter(v,ghe)),O},this.destroy=function(){n.releaseStatesOfProgram(this),s.deleteProgram(v),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=_he++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=D,this.fragmentShader=P,this}let Fhe=0;class Nhe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.fragmentShader,s=this._getShaderStage(e.vertexShader),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(s)&&(o.add(s),s.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Vhe(e),t.set(e,n)),n}}class Vhe{constructor(e){this.id=Fhe++,this.code=e,this.usedTimes=0}}function Bhe(i,e,t,n,s,r,o){const a=new Xb,l=new Nhe,c=[],u=s.isWebGL2,h=s.logarithmicDepthBuffer,p=s.vertexTextures;let f=s.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(I){return 0===I?"uv":`uv${I}`}return{getParameters:function _(I,O,Y,le,fe){const z=le.fog,te=fe.geometry,K=(I.isMeshStandardMaterial?t:e).get(I.envMap||(I.isMeshStandardMaterial?le.environment:null)),Q=K&&K.mapping===Qd?K.image.height:null,X=m[I.type];null!==I.precision&&(f=s.getMaxPrecision(I.precision),f!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",f,"instead."));const he=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,_e=void 0!==he?he.length:0;let we,be,Ke,Je,Z=0;if(void 0!==te.morphAttributes.position&&(Z=1),void 0!==te.morphAttributes.normal&&(Z=2),void 0!==te.morphAttributes.color&&(Z=3),X){const ci=Fr[X];we=ci.vertexShader,be=ci.fragmentShader}else we=I.vertexShader,be=I.fragmentShader,l.update(I),Ke=l.getVertexShaderID(I),Je=l.getFragmentShaderID(I);const He=i.getRenderTarget(),mt=!0===fe.isInstancedMesh,Ue=!!I.map,pt=!!K,B=!!I.aoMap,Re=!!I.lightMap,ue=!!I.bumpMap,Me=!!I.normalMap,ye=!!I.displacementMap,ct=!!I.emissiveMap,ze=!!I.metalnessMap,qe=!!I.roughnessMap,gt=I.anisotropy>0,zt=I.clearcoat>0,Ln=I.iridescence>0,F=I.sheen>0,A=I.transmission>0,ne=gt&&!!I.anisotropyMap,Te=zt&&!!I.clearcoatMap,Ce=zt&&!!I.clearcoatNormalMap,Ee=zt&&!!I.clearcoatRoughnessMap,rt=Ln&&!!I.iridescenceMap,Ae=Ln&&!!I.iridescenceThicknessMap,Ve=F&&!!I.sheenColorMap,U=F&&!!I.sheenRoughnessMap,Pe=!!I.specularMap,ve=!!I.specularColorMap,yt=!!I.specularIntensityMap,lt=A&&!!I.transmissionMap,ft=A&&!!I.thicknessMap,Xe=!!I.alphaMap,ke=!!I.extensions,xe=!!te.attributes.uv1,ce=!!te.attributes.uv2,De=!!te.attributes.uv3;let ht=Ko;return I.toneMapped&&(null===He||!0===He.isXRRenderTarget)&&(ht=i.toneMapping),{isWebGL2:u,shaderID:X,shaderType:I.type,shaderName:I.name,vertexShader:we,fragmentShader:be,defines:I.defines,customVertexShaderID:Ke,customFragmentShaderID:Je,isRawShaderMaterial:!0===I.isRawShaderMaterial,glslVersion:I.glslVersion,precision:f,instancing:mt,instancingColor:mt&&null!==fe.instanceColor,supportsVertexTextures:p,outputColorSpace:null===He?i.outputColorSpace:!0===He.isXRRenderTarget?He.texture.colorSpace:lo,map:Ue,matcap:!!I.matcap,envMap:pt,envMapMode:pt&&K.mapping,envMapCubeUVHeight:Q,aoMap:B,lightMap:Re,bumpMap:ue,normalMap:Me,displacementMap:p&&ye,emissiveMap:ct,normalMapObjectSpace:Me&&1===I.normalMapType,normalMapTangentSpace:Me&&0===I.normalMapType,metalnessMap:ze,roughnessMap:qe,anisotropy:gt,anisotropyMap:ne,clearcoat:zt,clearcoatMap:Te,clearcoatNormalMap:Ce,clearcoatRoughnessMap:Ee,iridescence:Ln,iridescenceMap:rt,iridescenceThicknessMap:Ae,sheen:F,sheenColorMap:Ve,sheenRoughnessMap:U,specularMap:Pe,specularColorMap:ve,specularIntensityMap:yt,transmission:A,transmissionMap:lt,thicknessMap:ft,gradientMap:!!I.gradientMap,opaque:!1===I.transparent&&1===I.blending,alphaMap:Xe,alphaTest:I.alphaTest>0,alphaHash:!!I.alphaHash,combine:I.combine,mapUv:Ue&&v(I.map.channel),aoMapUv:B&&v(I.aoMap.channel),lightMapUv:Re&&v(I.lightMap.channel),bumpMapUv:ue&&v(I.bumpMap.channel),normalMapUv:Me&&v(I.normalMap.channel),displacementMapUv:ye&&v(I.displacementMap.channel),emissiveMapUv:ct&&v(I.emissiveMap.channel),metalnessMapUv:ze&&v(I.metalnessMap.channel),roughnessMapUv:qe&&v(I.roughnessMap.channel),anisotropyMapUv:ne&&v(I.anisotropyMap.channel),clearcoatMapUv:Te&&v(I.clearcoatMap.channel),clearcoatNormalMapUv:Ce&&v(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ee&&v(I.clearcoatRoughnessMap.channel),iridescenceMapUv:rt&&v(I.iridescenceMap.channel),iridescenceThicknessMapUv:Ae&&v(I.iridescenceThicknessMap.channel),sheenColorMapUv:Ve&&v(I.sheenColorMap.channel),sheenRoughnessMapUv:U&&v(I.sheenRoughnessMap.channel),specularMapUv:Pe&&v(I.specularMap.channel),specularColorMapUv:ve&&v(I.specularColorMap.channel),specularIntensityMapUv:yt&&v(I.specularIntensityMap.channel),transmissionMapUv:lt&&v(I.transmissionMap.channel),thicknessMapUv:ft&&v(I.thicknessMap.channel),alphaMapUv:Xe&&v(I.alphaMap.channel),vertexTangents:!!te.attributes.tangent&&(Me||gt),vertexColors:I.vertexColors,vertexAlphas:!0===I.vertexColors&&!!te.attributes.color&&4===te.attributes.color.itemSize,vertexUv1s:xe,vertexUv2s:ce,vertexUv3s:De,pointsUvs:!0===fe.isPoints&&!!te.attributes.uv&&(Ue||Xe),fog:!!z,useFog:!0===I.fog,fogExp2:z&&z.isFogExp2,flatShading:!0===I.flatShading,sizeAttenuation:!0===I.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===fe.isSkinnedMesh,morphTargets:void 0!==te.morphAttributes.position,morphNormals:void 0!==te.morphAttributes.normal,morphColors:void 0!==te.morphAttributes.color,morphTargetsCount:_e,morphTextureStride:Z,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:i.shadowMap.enabled&&Y.length>0,shadowMapType:i.shadowMap.type,toneMapping:ht,useLegacyLights:i._useLegacyLights,decodeVideoTexture:Ue&&!0===I.map.isVideoTexture&&bn.getTransfer(I.map.colorSpace)===An,premultipliedAlpha:I.premultipliedAlpha,doubleSided:2===I.side,flipSided:1===I.side,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionDerivatives:ke&&!0===I.extensions.derivatives,extensionFragDepth:ke&&!0===I.extensions.fragDepth,extensionDrawBuffers:ke&&!0===I.extensions.drawBuffers,extensionShaderTextureLOD:ke&&!0===I.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()}},getProgramCacheKey:function g(I){const O=[];if(I.shaderID?O.push(I.shaderID):(O.push(I.customVertexShaderID),O.push(I.customFragmentShaderID)),void 0!==I.defines)for(const Y in I.defines)O.push(Y),O.push(I.defines[Y]);return!1===I.isRawShaderMaterial&&(function C(I,O){I.push(O.precision),I.push(O.outputColorSpace),I.push(O.envMapMode),I.push(O.envMapCubeUVHeight),I.push(O.mapUv),I.push(O.alphaMapUv),I.push(O.lightMapUv),I.push(O.aoMapUv),I.push(O.bumpMapUv),I.push(O.normalMapUv),I.push(O.displacementMapUv),I.push(O.emissiveMapUv),I.push(O.metalnessMapUv),I.push(O.roughnessMapUv),I.push(O.anisotropyMapUv),I.push(O.clearcoatMapUv),I.push(O.clearcoatNormalMapUv),I.push(O.clearcoatRoughnessMapUv),I.push(O.iridescenceMapUv),I.push(O.iridescenceThicknessMapUv),I.push(O.sheenColorMapUv),I.push(O.sheenRoughnessMapUv),I.push(O.specularMapUv),I.push(O.specularColorMapUv),I.push(O.specularIntensityMapUv),I.push(O.transmissionMapUv),I.push(O.thicknessMapUv),I.push(O.combine),I.push(O.fogExp2),I.push(O.sizeAttenuation),I.push(O.morphTargetsCount),I.push(O.morphAttributeCount),I.push(O.numDirLights),I.push(O.numPointLights),I.push(O.numSpotLights),I.push(O.numSpotLightMaps),I.push(O.numHemiLights),I.push(O.numRectAreaLights),I.push(O.numDirLightShadows),I.push(O.numPointLightShadows),I.push(O.numSpotLightShadows),I.push(O.numSpotLightShadowsWithMaps),I.push(O.numLightProbes),I.push(O.shadowMapType),I.push(O.toneMapping),I.push(O.numClippingPlanes),I.push(O.numClipIntersection),I.push(O.depthPacking)}(O,I),function w(I,O){a.disableAll(),O.isWebGL2&&a.enable(0),O.supportsVertexTextures&&a.enable(1),O.instancing&&a.enable(2),O.instancingColor&&a.enable(3),O.matcap&&a.enable(4),O.envMap&&a.enable(5),O.normalMapObjectSpace&&a.enable(6),O.normalMapTangentSpace&&a.enable(7),O.clearcoat&&a.enable(8),O.iridescence&&a.enable(9),O.alphaTest&&a.enable(10),O.vertexColors&&a.enable(11),O.vertexAlphas&&a.enable(12),O.vertexUv1s&&a.enable(13),O.vertexUv2s&&a.enable(14),O.vertexUv3s&&a.enable(15),O.vertexTangents&&a.enable(16),O.anisotropy&&a.enable(17),O.alphaHash&&a.enable(18),I.push(a.mask),a.disableAll(),O.fog&&a.enable(0),O.useFog&&a.enable(1),O.flatShading&&a.enable(2),O.logarithmicDepthBuffer&&a.enable(3),O.skinning&&a.enable(4),O.morphTargets&&a.enable(5),O.morphNormals&&a.enable(6),O.morphColors&&a.enable(7),O.premultipliedAlpha&&a.enable(8),O.shadowMapEnabled&&a.enable(9),O.useLegacyLights&&a.enable(10),O.doubleSided&&a.enable(11),O.flipSided&&a.enable(12),O.useDepthPacking&&a.enable(13),O.dithering&&a.enable(14),O.transmission&&a.enable(15),O.sheen&&a.enable(16),O.opaque&&a.enable(17),O.pointsUvs&&a.enable(18),O.decodeVideoTexture&&a.enable(19),I.push(a.mask)}(O,I),O.push(i.outputColorSpace)),O.push(I.customProgramCacheKey),O.join()},getUniforms:function M(I){const O=m[I.type];let Y;return Y=O?sce.clone(Fr[O].uniforms):I.uniforms,Y},acquireProgram:function D(I,O){let Y;for(let le=0,fe=c.length;le<fe;le++){const z=c[le];if(z.cacheKey===O){Y=z,++Y.usedTimes;break}}return void 0===Y&&(Y=new khe(i,O,I,r),c.push(Y)),Y},releaseProgram:function P(I){if(0==--I.usedTimes){const O=c.indexOf(I);c[O]=c[c.length-1],c.pop(),I.destroy()}},releaseShaderCache:function R(I){l.remove(I)},programs:c,dispose:function N(){l.dispose()}}}function Uhe(){let i=new WeakMap;return{get:function e(r){let o=i.get(r);return void 0===o&&(o={},i.set(r,o)),o},remove:function t(r){i.delete(r)},update:function n(r,o,a){i.get(r)[o]=a},dispose:function s(){i=new WeakMap}}}function Hhe(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function RO(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function OO(){const i=[];let e=0;const t=[],n=[],s=[];function o(h,p,f,m,v,_){let g=i[e];return void 0===g?(g={id:h.id,object:h,geometry:p,material:f,groupOrder:m,renderOrder:h.renderOrder,z:v,group:_},i[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=f,g.groupOrder=m,g.renderOrder=h.renderOrder,g.z=v,g.group=_),e++,g}return{opaque:t,transmissive:n,transparent:s,init:function r(){e=0,t.length=0,n.length=0,s.length=0},push:function a(h,p,f,m,v,_){const g=o(h,p,f,m,v,_);f.transmission>0?n.push(g):!0===f.transparent?s.push(g):t.push(g)},unshift:function l(h,p,f,m,v,_){const g=o(h,p,f,m,v,_);f.transmission>0?n.unshift(g):!0===f.transparent?s.unshift(g):t.unshift(g)},finish:function u(){for(let h=e,p=i.length;h<p;h++){const f=i[h];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(h,p){t.length>1&&t.sort(h||Hhe),n.length>1&&n.sort(p||RO),s.length>1&&s.sort(p||RO)}}}function zhe(){let i=new WeakMap;return{get:function e(n,s){const r=i.get(n);let o;return void 0===r?(o=new OO,i.set(n,[o])):s>=r.length?(o=new OO,r.push(o)):o=r[s],o},dispose:function t(){i=new WeakMap}}}function Ghe(){const i={};return{get:function(e){if(void 0!==i[e.id])return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new k,color:new je};break;case"SpotLight":t={position:new k,direction:new k,color:new je,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new k,color:new je,distance:0,decay:0};break;case"HemisphereLight":t={direction:new k,skyColor:new je,groundColor:new je};break;case"RectAreaLight":t={color:new je,position:new k,halfWidth:new k,halfHeight:new k}}return i[e.id]=t,t}}}let $he=0;function jhe(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function qhe(i,e){const t=new Ghe,n=function Whe(){const i={};return{get:function(e){if(void 0!==i[e.id])return i[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new de};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new de,shadowCameraNear:1,shadowCameraFar:1e3}}return i[e.id]=t,t}}}(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)s.probe.push(new k);const r=new k,o=new Pt,a=new Pt;return{setup:function l(u,h){let p=0,f=0,m=0;for(let le=0;le<9;le++)s.probe[le].set(0,0,0);let v=0,_=0,g=0,C=0,w=0,M=0,D=0,P=0,R=0,N=0,I=0;u.sort(jhe);const O=!0===h?Math.PI:1;for(let le=0,fe=u.length;le<fe;le++){const z=u[le],te=z.color,q=z.intensity,K=z.distance,Q=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)p+=te.r*q*O,f+=te.g*q*O,m+=te.b*q*O;else if(z.isLightProbe){for(let X=0;X<9;X++)s.probe[X].addScaledVector(z.sh.coefficients[X],q);I++}else if(z.isDirectionalLight){const X=t.get(z);if(X.color.copy(z.color).multiplyScalar(z.intensity*O),z.castShadow){const he=z.shadow,_e=n.get(z);_e.shadowBias=he.bias,_e.shadowNormalBias=he.normalBias,_e.shadowRadius=he.radius,_e.shadowMapSize=he.mapSize,s.directionalShadow[v]=_e,s.directionalShadowMap[v]=Q,s.directionalShadowMatrix[v]=z.shadow.matrix,M++}s.directional[v]=X,v++}else if(z.isSpotLight){const X=t.get(z);X.position.setFromMatrixPosition(z.matrixWorld),X.color.copy(te).multiplyScalar(q*O),X.distance=K,X.coneCos=Math.cos(z.angle),X.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),X.decay=z.decay,s.spot[g]=X;const he=z.shadow;if(z.map&&(s.spotLightMap[R]=z.map,R++,he.updateMatrices(z),z.castShadow&&N++),s.spotLightMatrix[g]=he.matrix,z.castShadow){const _e=n.get(z);_e.shadowBias=he.bias,_e.shadowNormalBias=he.normalBias,_e.shadowRadius=he.radius,_e.shadowMapSize=he.mapSize,s.spotShadow[g]=_e,s.spotShadowMap[g]=Q,P++}g++}else if(z.isRectAreaLight){const X=t.get(z);X.color.copy(te).multiplyScalar(q),X.halfWidth.set(.5*z.width,0,0),X.halfHeight.set(0,.5*z.height,0),s.rectArea[C]=X,C++}else if(z.isPointLight){const X=t.get(z);if(X.color.copy(z.color).multiplyScalar(z.intensity*O),X.distance=z.distance,X.decay=z.decay,z.castShadow){const he=z.shadow,_e=n.get(z);_e.shadowBias=he.bias,_e.shadowNormalBias=he.normalBias,_e.shadowRadius=he.radius,_e.shadowMapSize=he.mapSize,_e.shadowCameraNear=he.camera.near,_e.shadowCameraFar=he.camera.far,s.pointShadow[_]=_e,s.pointShadowMap[_]=Q,s.pointShadowMatrix[_]=z.shadow.matrix,D++}s.point[_]=X,_++}else if(z.isHemisphereLight){const X=t.get(z);X.skyColor.copy(z.color).multiplyScalar(q*O),X.groundColor.copy(z.groundColor).multiplyScalar(q*O),s.hemi[w]=X,w++}}C>0&&(e.isWebGL2||!0===i.has("OES_texture_float_linear")?(s.rectAreaLTC1=Fe.LTC_FLOAT_1,s.rectAreaLTC2=Fe.LTC_FLOAT_2):!0===i.has("OES_texture_half_float_linear")?(s.rectAreaLTC1=Fe.LTC_HALF_1,s.rectAreaLTC2=Fe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=p,s.ambient[1]=f,s.ambient[2]=m;const Y=s.hash;(Y.directionalLength!==v||Y.pointLength!==_||Y.spotLength!==g||Y.rectAreaLength!==C||Y.hemiLength!==w||Y.numDirectionalShadows!==M||Y.numPointShadows!==D||Y.numSpotShadows!==P||Y.numSpotMaps!==R||Y.numLightProbes!==I)&&(s.directional.length=v,s.spot.length=g,s.rectArea.length=C,s.point.length=_,s.hemi.length=w,s.directionalShadow.length=M,s.directionalShadowMap.length=M,s.pointShadow.length=D,s.pointShadowMap.length=D,s.spotShadow.length=P,s.spotShadowMap.length=P,s.directionalShadowMatrix.length=M,s.pointShadowMatrix.length=D,s.spotLightMatrix.length=P+R-N,s.spotLightMap.length=R,s.numSpotLightShadowsWithMaps=N,s.numLightProbes=I,Y.directionalLength=v,Y.pointLength=_,Y.spotLength=g,Y.rectAreaLength=C,Y.hemiLength=w,Y.numDirectionalShadows=M,Y.numPointShadows=D,Y.numSpotShadows=P,Y.numSpotMaps=R,Y.numLightProbes=I,s.version=$he++)},setupView:function c(u,h){let p=0,f=0,m=0,v=0,_=0;const g=h.matrixWorldInverse;for(let C=0,w=u.length;C<w;C++){const M=u[C];if(M.isDirectionalLight){const D=s.directional[p];D.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(g),p++}else if(M.isSpotLight){const D=s.spot[m];D.position.setFromMatrixPosition(M.matrixWorld),D.position.applyMatrix4(g),D.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(g),m++}else if(M.isRectAreaLight){const D=s.rectArea[v];D.position.setFromMatrixPosition(M.matrixWorld),D.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),D.halfWidth.set(.5*M.width,0,0),D.halfHeight.set(0,.5*M.height,0),D.halfWidth.applyMatrix4(a),D.halfHeight.applyMatrix4(a),v++}else if(M.isPointLight){const D=s.point[f];D.position.setFromMatrixPosition(M.matrixWorld),D.position.applyMatrix4(g),f++}else if(M.isHemisphereLight){const D=s.hemi[_];D.direction.setFromMatrixPosition(M.matrixWorld),D.direction.transformDirection(g),_++}}},state:s}}function LO(i,e){const t=new qhe(i,e),n=[],s=[];return{init:function r(){n.length=0,s.length=0},state:{lightsArray:n,shadowsArray:s,lights:t},setupLights:function l(h){t.setup(n,h)},setupLightsView:function c(h){t.setupView(n,h)},pushLight:function o(h){n.push(h)},pushShadow:function a(h){s.push(h)}}}function Yhe(i,e){let t=new WeakMap;return{get:function n(r,o=0){const a=t.get(r);let l;return void 0===a?(l=new LO(i,e),t.set(r,[l])):o>=a.length?(l=new LO(i,e),a.push(l)):l=a[o],l},dispose:function s(){t=new WeakMap}}}class kO extends Wc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class FO extends Wc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Zhe(i,e,t){let n=new ow;const s=new de,r=new de,o=new wn,a=new kO({depthPacking:3201}),l=new FO,c={},u=t.maxTextureSize,h={0:1,1:0,2:2},p=new ra({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new de},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=p.clone();f.defines.HORIZONTAL_PASS=1;const m=new jt;m.setAttribute("position",new xi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new gi(m,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=qP;let g=this.type;function C(D,P){const R=e.update(v);p.defines.VSM_SAMPLES!==D.blurSamples&&(p.defines.VSM_SAMPLES=D.blurSamples,f.defines.VSM_SAMPLES=D.blurSamples,p.needsUpdate=!0,f.needsUpdate=!0),null===D.mapPass&&(D.mapPass=new $a(s.x,s.y)),p.uniforms.shadow_pass.value=D.map.texture,p.uniforms.resolution.value=D.mapSize,p.uniforms.radius.value=D.radius,i.setRenderTarget(D.mapPass),i.clear(),i.renderBufferDirect(P,null,R,p,v,null),f.uniforms.shadow_pass.value=D.mapPass.texture,f.uniforms.resolution.value=D.mapSize,f.uniforms.radius.value=D.radius,i.setRenderTarget(D.map),i.clear(),i.renderBufferDirect(P,null,R,f,v,null)}function w(D,P,R,N){let I=null;const O=!0===R.isPointLight?D.customDistanceMaterial:D.customDepthMaterial;if(void 0!==O)I=O;else if(I=!0===R.isPointLight?l:a,i.localClippingEnabled&&!0===P.clipShadows&&Array.isArray(P.clippingPlanes)&&0!==P.clippingPlanes.length||P.displacementMap&&0!==P.displacementScale||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const Y=I.uuid,le=P.uuid;let fe=c[Y];void 0===fe&&(fe={},c[Y]=fe);let z=fe[le];void 0===z&&(z=I.clone(),fe[le]=z),I=z}return I.visible=P.visible,I.wireframe=P.wireframe,I.side=N===ro?null!==P.shadowSide?P.shadowSide:P.side:null!==P.shadowSide?P.shadowSide:h[P.side],I.alphaMap=P.alphaMap,I.alphaTest=P.alphaTest,I.map=P.map,I.clipShadows=P.clipShadows,I.clippingPlanes=P.clippingPlanes,I.clipIntersection=P.clipIntersection,I.displacementMap=P.displacementMap,I.displacementScale=P.displacementScale,I.displacementBias=P.displacementBias,I.wireframeLinewidth=P.wireframeLinewidth,I.linewidth=P.linewidth,!0===R.isPointLight&&!0===I.isMeshDistanceMaterial&&(i.properties.get(I).light=R),I}function M(D,P,R,N,I){if(!1===D.visible)return;if(D.layers.test(P.layers)&&(D.isMesh||D.isLine||D.isPoints)&&(D.castShadow||D.receiveShadow&&I===ro)&&(!D.frustumCulled||n.intersectsObject(D))){D.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,D.matrixWorld);const le=e.update(D),fe=D.material;if(Array.isArray(fe)){const z=le.groups;for(let te=0,q=z.length;te<q;te++){const K=z[te],Q=fe[K.materialIndex];if(Q&&Q.visible){const X=w(D,Q,N,I);i.renderBufferDirect(R,null,le,X,D,K)}}}else if(fe.visible){const z=w(D,fe,N,I);i.renderBufferDirect(R,null,le,z,D,null)}}const Y=D.children;for(let le=0,fe=Y.length;le<fe;le++)M(Y[le],P,R,N,I)}this.render=function(D,P,R){if(!1===_.enabled||!1===_.autoUpdate&&!1===_.needsUpdate||0===D.length)return;const N=i.getRenderTarget(),I=i.getActiveCubeFace(),O=i.getActiveMipmapLevel(),Y=i.state;Y.setBlending(0),Y.buffers.color.setClear(1,1,1,1),Y.buffers.depth.setTest(!0),Y.setScissorTest(!1);const le=g!==ro&&this.type===ro,fe=g===ro&&this.type!==ro;for(let z=0,te=D.length;z<te;z++){const q=D[z],K=q.shadow;if(void 0===K){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(!1===K.autoUpdate&&!1===K.needsUpdate)continue;s.copy(K.mapSize);const Q=K.getFrameExtents();if(s.multiply(Q),r.copy(K.mapSize),(s.x>u||s.y>u)&&(s.x>u&&(r.x=Math.floor(u/Q.x),s.x=r.x*Q.x,K.mapSize.x=r.x),s.y>u&&(r.y=Math.floor(u/Q.y),s.y=r.y*Q.y,K.mapSize.y=r.y)),null===K.map||!0===le||!0===fe){const he=this.type!==ro?{minFilter:oi,magFilter:oi}:{};null!==K.map&&K.map.dispose(),K.map=new $a(s.x,s.y,he),K.map.texture.name=q.name+".shadowMap",K.camera.updateProjectionMatrix()}i.setRenderTarget(K.map),i.clear();const X=K.getViewportCount();for(let he=0;he<X;he++){const _e=K.getViewport(he);o.set(r.x*_e.x,r.y*_e.y,r.x*_e.z,r.y*_e.w),Y.viewport(o),K.updateMatrices(q,he),n=K.getFrustum(),M(P,R,K.camera,q,this.type)}!0!==K.isPointLightShadow&&this.type===ro&&C(K,R),K.needsUpdate=!1}g=this.type,_.needsUpdate=!1,i.setRenderTarget(N,I,O)}}function Qhe(i,e,t){const n=t.isWebGL2,a=new function s(){let W=!1;const ke=new wn;let xe=null;const ce=new wn(0,0,0,0);return{setMask:function(De){xe!==De&&!W&&(i.colorMask(De,De,De,De),xe=De)},setLocked:function(De){W=De},setClear:function(De,ht,Kt,ci,nr){!0===nr&&(De*=ci,ht*=ci,Kt*=ci),ke.set(De,ht,Kt,ci),!1===ce.equals(ke)&&(i.clearColor(De,ht,Kt,ci),ce.copy(ke))},reset:function(){W=!1,xe=null,ce.set(-1,0,0,0)}}},l=new function r(){let W=!1,ke=null,xe=null,ce=null;return{setTest:function(De){De?Ue(i.DEPTH_TEST):It(i.DEPTH_TEST)},setMask:function(De){ke!==De&&!W&&(i.depthMask(De),ke=De)},setFunc:function(De){if(xe!==De){switch(De){case 0:i.depthFunc(i.NEVER);break;case 1:i.depthFunc(i.ALWAYS);break;case 2:i.depthFunc(i.LESS);break;case 3:default:i.depthFunc(i.LEQUAL);break;case 4:i.depthFunc(i.EQUAL);break;case 5:i.depthFunc(i.GEQUAL);break;case 6:i.depthFunc(i.GREATER);break;case 7:i.depthFunc(i.NOTEQUAL)}xe=De}},setLocked:function(De){W=De},setClear:function(De){ce!==De&&(i.clearDepth(De),ce=De)},reset:function(){W=!1,ke=null,xe=null,ce=null}}},c=new function o(){let W=!1,ke=null,xe=null,ce=null,De=null,ht=null,Kt=null,ci=null,nr=null;return{setTest:function(Dn){W||(Dn?Ue(i.STENCIL_TEST):It(i.STENCIL_TEST))},setMask:function(Dn){ke!==Dn&&!W&&(i.stencilMask(Dn),ke=Dn)},setFunc:function(Dn,is,Br){(xe!==Dn||ce!==is||De!==Br)&&(i.stencilFunc(Dn,is,Br),xe=Dn,ce=is,De=Br)},setOp:function(Dn,is,Br){(ht!==Dn||Kt!==is||ci!==Br)&&(i.stencilOp(Dn,is,Br),ht=Dn,Kt=is,ci=Br)},setLocked:function(Dn){W=Dn},setClear:function(Dn){nr!==Dn&&(i.clearStencil(Dn),nr=Dn)},reset:function(){W=!1,ke=null,xe=null,ce=null,De=null,ht=null,Kt=null,ci=null,nr=null}}},u=new WeakMap,h=new WeakMap;let p={},f={},m=new WeakMap,v=[],_=null,g=!1,C=null,w=null,M=null,D=null,P=null,R=null,N=null,I=new je(0,0,0),O=0,Y=!1,le=null,fe=null,z=null,te=null,q=null;const K=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Q=!1,X=0;const he=i.getParameter(i.VERSION);-1!==he.indexOf("WebGL")?(X=parseFloat(/^WebGL (\d)/.exec(he)[1]),Q=X>=1):-1!==he.indexOf("OpenGL ES")&&(X=parseFloat(/^OpenGL ES (\d)/.exec(he)[1]),Q=X>=2);let _e=null,Z={};const we=i.getParameter(i.SCISSOR_BOX),be=i.getParameter(i.VIEWPORT),Ke=(new wn).fromArray(we),Je=(new wn).fromArray(be);function He(W,ke,xe,ce){const De=new Uint8Array(4),ht=i.createTexture();i.bindTexture(W,ht),i.texParameteri(W,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(W,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Kt=0;Kt<xe;Kt++)!n||W!==i.TEXTURE_3D&&W!==i.TEXTURE_2D_ARRAY?i.texImage2D(ke+Kt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,De):i.texImage3D(ke,0,i.RGBA,1,1,ce,0,i.RGBA,i.UNSIGNED_BYTE,De);return ht}const mt={};function Ue(W){!0!==p[W]&&(i.enable(W),p[W]=!0)}function It(W){!1!==p[W]&&(i.disable(W),p[W]=!1)}mt[i.TEXTURE_2D]=He(i.TEXTURE_2D,i.TEXTURE_2D,1),mt[i.TEXTURE_CUBE_MAP]=He(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(mt[i.TEXTURE_2D_ARRAY]=He(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),mt[i.TEXTURE_3D]=He(i.TEXTURE_3D,i.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ue(i.DEPTH_TEST),l.setFunc(3),ze(!1),qe(1),Ue(i.CULL_FACE),ye(0);const ue={100:i.FUNC_ADD,101:i.FUNC_SUBTRACT,102:i.FUNC_REVERSE_SUBTRACT};if(n)ue[103]=i.MIN,ue[104]=i.MAX;else{const W=e.get("EXT_blend_minmax");null!==W&&(ue[103]=W.MIN_EXT,ue[104]=W.MAX_EXT)}const Me={200:i.ZERO,201:i.ONE,202:i.SRC_COLOR,204:i.SRC_ALPHA,210:i.SRC_ALPHA_SATURATE,208:i.DST_COLOR,206:i.DST_ALPHA,203:i.ONE_MINUS_SRC_COLOR,205:i.ONE_MINUS_SRC_ALPHA,209:i.ONE_MINUS_DST_COLOR,207:i.ONE_MINUS_DST_ALPHA,211:i.CONSTANT_COLOR,212:i.ONE_MINUS_CONSTANT_COLOR,213:i.CONSTANT_ALPHA,214:i.ONE_MINUS_CONSTANT_ALPHA};function ye(W,ke,xe,ce,De,ht,Kt,ci,nr,Dn){if(0!==W){if(!1===g&&(Ue(i.BLEND),g=!0),5===W)De=De||ke,ht=ht||xe,Kt=Kt||ce,(ke!==w||De!==P)&&(i.blendEquationSeparate(ue[ke],ue[De]),w=ke,P=De),(xe!==M||ce!==D||ht!==R||Kt!==N)&&(i.blendFuncSeparate(Me[xe],Me[ce],Me[ht],Me[Kt]),M=xe,D=ce,R=ht,N=Kt),(!1===ci.equals(I)||nr!==O)&&(i.blendColor(ci.r,ci.g,ci.b,nr),I.copy(ci),O=nr),C=W,Y=!1;else if(W!==C||Dn!==Y){if((100!==w||100!==P)&&(i.blendEquation(i.FUNC_ADD),w=100,P=100),Dn)switch(W){case 1:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case 2:i.blendFunc(i.ONE,i.ONE);break;case 3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case 4:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",W)}else switch(W){case 1:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case 2:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case 3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case 4:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",W)}M=null,D=null,R=null,N=null,I.set(0,0,0),O=0,C=W,Y=Dn}}else!0===g&&(It(i.BLEND),g=!1)}function ze(W){le!==W&&(i.frontFace(W?i.CW:i.CCW),le=W)}function qe(W){0!==W?(Ue(i.CULL_FACE),W!==fe&&i.cullFace(1===W?i.BACK:2===W?i.FRONT:i.FRONT_AND_BACK)):It(i.CULL_FACE),fe=W}function zt(W,ke,xe){W?(Ue(i.POLYGON_OFFSET_FILL),(te!==ke||q!==xe)&&(i.polygonOffset(ke,xe),te=ke,q=xe)):It(i.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:l,stencil:c},enable:Ue,disable:It,bindFramebuffer:function pt(W,ke){return f[W]!==ke&&(i.bindFramebuffer(W,ke),f[W]=ke,n&&(W===i.DRAW_FRAMEBUFFER&&(f[i.FRAMEBUFFER]=ke),W===i.FRAMEBUFFER&&(f[i.DRAW_FRAMEBUFFER]=ke)),!0)},drawBuffers:function B(W,ke){let xe=v,ce=!1;if(W)if(xe=m.get(ke),void 0===xe&&(xe=[],m.set(ke,xe)),W.isWebGLMultipleRenderTargets){const De=W.texture;if(xe.length!==De.length||xe[0]!==i.COLOR_ATTACHMENT0){for(let ht=0,Kt=De.length;ht<Kt;ht++)xe[ht]=i.COLOR_ATTACHMENT0+ht;xe.length=De.length,ce=!0}}else xe[0]!==i.COLOR_ATTACHMENT0&&(xe[0]=i.COLOR_ATTACHMENT0,ce=!0);else xe[0]!==i.BACK&&(xe[0]=i.BACK,ce=!0);ce&&(t.isWebGL2?i.drawBuffers(xe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(xe))},useProgram:function Re(W){return _!==W&&(i.useProgram(W),_=W,!0)},setBlending:ye,setMaterial:function ct(W,ke){2===W.side?It(i.CULL_FACE):Ue(i.CULL_FACE);let xe=1===W.side;ke&&(xe=!xe),ze(xe),1===W.blending&&!1===W.transparent?ye(0):ye(W.blending,W.blendEquation,W.blendSrc,W.blendDst,W.blendEquationAlpha,W.blendSrcAlpha,W.blendDstAlpha,W.blendColor,W.blendAlpha,W.premultipliedAlpha),l.setFunc(W.depthFunc),l.setTest(W.depthTest),l.setMask(W.depthWrite),a.setMask(W.colorWrite);const ce=W.stencilWrite;c.setTest(ce),ce&&(c.setMask(W.stencilWriteMask),c.setFunc(W.stencilFunc,W.stencilRef,W.stencilFuncMask),c.setOp(W.stencilFail,W.stencilZFail,W.stencilZPass)),zt(W.polygonOffset,W.polygonOffsetFactor,W.polygonOffsetUnits),!0===W.alphaToCoverage?Ue(i.SAMPLE_ALPHA_TO_COVERAGE):It(i.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ze,setCullFace:qe,setLineWidth:function gt(W){W!==z&&(Q&&i.lineWidth(W),z=W)},setPolygonOffset:zt,setScissorTest:function Ln(W){W?Ue(i.SCISSOR_TEST):It(i.SCISSOR_TEST)},activeTexture:function F(W){void 0===W&&(W=i.TEXTURE0+K-1),_e!==W&&(i.activeTexture(W),_e=W)},bindTexture:function A(W,ke,xe){void 0===xe&&(xe=null===_e?i.TEXTURE0+K-1:_e);let ce=Z[xe];void 0===ce&&(ce={type:void 0,texture:void 0},Z[xe]=ce),(ce.type!==W||ce.texture!==ke)&&(_e!==xe&&(i.activeTexture(xe),_e=xe),i.bindTexture(W,ke||mt[W]),ce.type=W,ce.texture=ke)},unbindTexture:function ne(){const W=Z[_e];void 0!==W&&void 0!==W.type&&(i.bindTexture(W.type,null),W.type=void 0,W.texture=void 0)},compressedTexImage2D:function Te(){try{i.compressedTexImage2D.apply(i,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},compressedTexImage3D:function Ce(){try{i.compressedTexImage3D.apply(i,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},texImage2D:function ve(){try{i.texImage2D.apply(i,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},texImage3D:function yt(){try{i.texImage3D.apply(i,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},updateUBOMapping:function at(W,ke){let xe=h.get(ke);void 0===xe&&(xe=new WeakMap,h.set(ke,xe));let ce=xe.get(W);void 0===ce&&(ce=i.getUniformBlockIndex(ke,W.name),xe.set(W,ce))},uniformBlockBinding:function Xe(W,ke){const ce=h.get(ke).get(W);u.get(ke)!==ce&&(i.uniformBlockBinding(ke,ce,W.__bindingPointIndex),u.set(ke,ce))},texStorage2D:function U(){try{i.texStorage2D.apply(i,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},texStorage3D:function Pe(){try{i.texStorage3D.apply(i,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},texSubImage2D:function Ee(){try{i.texSubImage2D.apply(i,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},texSubImage3D:function rt(){try{i.texSubImage3D.apply(i,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},compressedTexSubImage2D:function Ae(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},compressedTexSubImage3D:function Ve(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},scissor:function lt(W){!1===Ke.equals(W)&&(i.scissor(W.x,W.y,W.z,W.w),Ke.copy(W))},viewport:function ft(W){!1===Je.equals(W)&&(i.viewport(W.x,W.y,W.z,W.w),Je.copy(W))},reset:function Yt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),!0===n&&(i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),p={},_e=null,Z={},f={},m=new WeakMap,v=[],_=null,g=!1,C=null,w=null,M=null,D=null,P=null,R=null,N=null,I=new je(0,0,0),O=0,Y=!1,le=null,fe=null,z=null,te=null,q=null,Ke.set(0,0,i.canvas.width,i.canvas.height),Je.set(0,0,i.canvas.width,i.canvas.height),a.reset(),l.reset(),c.reset()}}}function Jhe(i,e,t,n,s,r,o){const a=s.isWebGL2,l=s.maxTextures,c=s.maxCubemapSize,u=s.maxTextureSize,h=s.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let v;const _=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function C(F,A){return g?new OffscreenCanvas(F,A):th("canvas")}function w(F,A,ne,Te){let Ce=1;if((F.width>Te||F.height>Te)&&(Ce=Te/Math.max(F.width,F.height)),Ce<1||!0===A){if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const Ee=A?eg:Math.floor,rt=Ee(Ce*F.width),Ae=Ee(Ce*F.height);void 0===v&&(v=C(rt,Ae));const Ve=ne?C(rt,Ae):v;return Ve.width=rt,Ve.height=Ae,Ve.getContext("2d").drawImage(F,0,0,rt,Ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+rt+"x"+Ae+")."),Ve}return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F}return F}function M(F){return Bb(F.width)&&Bb(F.height)}function P(F,A){return F.generateMipmaps&&A&&F.minFilter!==oi&&F.minFilter!==ai}function R(F){i.generateMipmap(F)}function N(F,A,ne,Te,Ce=!1){if(!1===a)return A;if(null!==F){if(void 0!==i[F])return i[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let Ee=A;if(A===i.RED&&(ne===i.FLOAT&&(Ee=i.R32F),ne===i.HALF_FLOAT&&(Ee=i.R16F),ne===i.UNSIGNED_BYTE&&(Ee=i.R8)),A===i.RED_INTEGER&&(ne===i.UNSIGNED_BYTE&&(Ee=i.R8UI),ne===i.UNSIGNED_SHORT&&(Ee=i.R16UI),ne===i.UNSIGNED_INT&&(Ee=i.R32UI),ne===i.BYTE&&(Ee=i.R8I),ne===i.SHORT&&(Ee=i.R16I),ne===i.INT&&(Ee=i.R32I)),A===i.RG&&(ne===i.FLOAT&&(Ee=i.RG32F),ne===i.HALF_FLOAT&&(Ee=i.RG16F),ne===i.UNSIGNED_BYTE&&(Ee=i.RG8)),A===i.RGBA){const rt=Ce?Km:bn.getTransfer(Te);ne===i.FLOAT&&(Ee=i.RGBA32F),ne===i.HALF_FLOAT&&(Ee=i.RGBA16F),ne===i.UNSIGNED_BYTE&&(Ee=rt===An?i.SRGB8_ALPHA8:i.RGBA8),ne===i.UNSIGNED_SHORT_4_4_4_4&&(Ee=i.RGBA4),ne===i.UNSIGNED_SHORT_5_5_5_1&&(Ee=i.RGB5_A1)}return(Ee===i.R16F||Ee===i.R32F||Ee===i.RG16F||Ee===i.RG32F||Ee===i.RGBA16F||Ee===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Ee}function I(F,A,ne){return!0===P(F,ne)||F.isFramebufferTexture&&F.minFilter!==oi&&F.minFilter!==ai?Math.log2(Math.max(A.width,A.height))+1:void 0!==F.mipmaps&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?A.mipmaps.length:1}function O(F){return F===oi||1004===F||1005===F?i.NEAREST:i.LINEAR}function Y(F){const A=F.target;A.removeEventListener("dispose",Y),function fe(F){const A=n.get(F);if(void 0===A.__webglInit)return;const ne=F.source,Te=_.get(ne);if(Te){const Ce=Te[A.__cacheKey];Ce.usedTimes--,0===Ce.usedTimes&&z(F),0===Object.keys(Te).length&&_.delete(ne)}n.remove(F)}(A),A.isVideoTexture&&m.delete(A)}function le(F){const A=F.target;A.removeEventListener("dispose",le),function te(F){const A=F.texture,ne=n.get(F),Te=n.get(A);if(void 0!==Te.__webglTexture&&(i.deleteTexture(Te.__webglTexture),o.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++){if(Array.isArray(ne.__webglFramebuffer[Ce]))for(let Ee=0;Ee<ne.__webglFramebuffer[Ce].length;Ee++)i.deleteFramebuffer(ne.__webglFramebuffer[Ce][Ee]);else i.deleteFramebuffer(ne.__webglFramebuffer[Ce]);ne.__webglDepthbuffer&&i.deleteRenderbuffer(ne.__webglDepthbuffer[Ce])}else{if(Array.isArray(ne.__webglFramebuffer))for(let Ce=0;Ce<ne.__webglFramebuffer.length;Ce++)i.deleteFramebuffer(ne.__webglFramebuffer[Ce]);else i.deleteFramebuffer(ne.__webglFramebuffer);if(ne.__webglDepthbuffer&&i.deleteRenderbuffer(ne.__webglDepthbuffer),ne.__webglMultisampledFramebuffer&&i.deleteFramebuffer(ne.__webglMultisampledFramebuffer),ne.__webglColorRenderbuffer)for(let Ce=0;Ce<ne.__webglColorRenderbuffer.length;Ce++)ne.__webglColorRenderbuffer[Ce]&&i.deleteRenderbuffer(ne.__webglColorRenderbuffer[Ce]);ne.__webglDepthRenderbuffer&&i.deleteRenderbuffer(ne.__webglDepthRenderbuffer)}if(F.isWebGLMultipleRenderTargets)for(let Ce=0,Ee=A.length;Ce<Ee;Ce++){const rt=n.get(A[Ce]);rt.__webglTexture&&(i.deleteTexture(rt.__webglTexture),o.memory.textures--),n.remove(A[Ce])}n.remove(A),n.remove(F)}(A)}function z(F){const A=n.get(F);i.deleteTexture(A.__webglTexture),delete _.get(F.source)[A.__cacheKey],o.memory.textures--}let q=0;function he(F,A){const ne=n.get(F);if(F.isVideoTexture&&function zt(F){const A=o.render.frame;m.get(F)!==A&&(m.set(F,A),F.update())}(F),!1===F.isRenderTargetTexture&&F.version>0&&ne.__version!==F.version){const Te=F.image;if(null===Te)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Te.complete)return void Ue(ne,F,A);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(i.TEXTURE_2D,ne.__webglTexture,i.TEXTURE0+A)}const be={1e3:i.REPEAT,[Ji]:i.CLAMP_TO_EDGE,1002:i.MIRRORED_REPEAT},Ke={[oi]:i.NEAREST,1004:i.NEAREST_MIPMAP_NEAREST,1005:i.NEAREST_MIPMAP_LINEAR,[ai]:i.LINEAR,1007:i.LINEAR_MIPMAP_NEAREST,[Va]:i.LINEAR_MIPMAP_LINEAR},Je={512:i.NEVER,519:i.ALWAYS,513:i.LESS,515:i.LEQUAL,514:i.EQUAL,518:i.GEQUAL,516:i.GREATER,517:i.NOTEQUAL};function He(F,A,ne){if(ne?(i.texParameteri(F,i.TEXTURE_WRAP_S,be[A.wrapS]),i.texParameteri(F,i.TEXTURE_WRAP_T,be[A.wrapT]),(F===i.TEXTURE_3D||F===i.TEXTURE_2D_ARRAY)&&i.texParameteri(F,i.TEXTURE_WRAP_R,be[A.wrapR]),i.texParameteri(F,i.TEXTURE_MAG_FILTER,Ke[A.magFilter]),i.texParameteri(F,i.TEXTURE_MIN_FILTER,Ke[A.minFilter])):(i.texParameteri(F,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(F,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),(F===i.TEXTURE_3D||F===i.TEXTURE_2D_ARRAY)&&i.texParameteri(F,i.TEXTURE_WRAP_R,i.CLAMP_TO_EDGE),(A.wrapS!==Ji||A.wrapT!==Ji)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(F,i.TEXTURE_MAG_FILTER,O(A.magFilter)),i.texParameteri(F,i.TEXTURE_MIN_FILTER,O(A.minFilter)),A.minFilter!==oi&&A.minFilter!==ai&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),A.compareFunction&&(i.texParameteri(F,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(F,i.TEXTURE_COMPARE_FUNC,Je[A.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const Te=e.get("EXT_texture_filter_anisotropic");if(A.magFilter===oi||1005!==A.minFilter&&A.minFilter!==Va||A.type===ao&&!1===e.has("OES_texture_float_linear")||!1===a&&A.type===Jd&&!1===e.has("OES_texture_half_float_linear"))return;(A.anisotropy>1||n.get(A).__currentAnisotropy)&&(i.texParameterf(F,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(A.anisotropy,s.getMaxAnisotropy())),n.get(A).__currentAnisotropy=A.anisotropy)}}function mt(F,A){let ne=!1;void 0===F.__webglInit&&(F.__webglInit=!0,A.addEventListener("dispose",Y));const Te=A.source;let Ce=_.get(Te);void 0===Ce&&(Ce={},_.set(Te,Ce));const Ee=function X(F){const A=[];return A.push(F.wrapS),A.push(F.wrapT),A.push(F.wrapR||0),A.push(F.magFilter),A.push(F.minFilter),A.push(F.anisotropy),A.push(F.internalFormat),A.push(F.format),A.push(F.type),A.push(F.generateMipmaps),A.push(F.premultiplyAlpha),A.push(F.flipY),A.push(F.unpackAlignment),A.push(F.colorSpace),A.join()}(A);if(Ee!==F.__cacheKey){void 0===Ce[Ee]&&(Ce[Ee]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,ne=!0),Ce[Ee].usedTimes++;const rt=Ce[F.__cacheKey];void 0!==rt&&(Ce[F.__cacheKey].usedTimes--,0===rt.usedTimes&&z(A)),F.__cacheKey=Ee,F.__webglTexture=Ce[Ee].texture}return ne}function Ue(F,A,ne){let Te=i.TEXTURE_2D;(A.isDataArrayTexture||A.isCompressedArrayTexture)&&(Te=i.TEXTURE_2D_ARRAY),A.isData3DTexture&&(Te=i.TEXTURE_3D);const Ce=mt(F,A),Ee=A.source;t.bindTexture(Te,F.__webglTexture,i.TEXTURE0+ne);const rt=n.get(Ee);if(Ee.version!==rt.__version||!0===Ce){t.activeTexture(i.TEXTURE0+ne);const Ae=bn.getPrimaries(bn.workingColorSpace),Ve=""===A.colorSpace?null:bn.getPrimaries(A.colorSpace),U=""===A.colorSpace||Ae===Ve?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,A.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,A.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,A.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,U);const Pe=function D(F){return!a&&(F.wrapS!==Ji||F.wrapT!==Ji||F.minFilter!==oi&&F.minFilter!==ai)}(A)&&!1===M(A.image);let ve=w(A.image,Pe,!1,u);ve=Ln(A,ve);const yt=M(ve)||a,lt=r.convert(A.format,A.colorSpace);let Xe,ft=r.convert(A.type),at=N(A.internalFormat,lt,ft,A.colorSpace,A.isVideoTexture);He(Te,A,yt);const Yt=A.mipmaps,W=a&&!0!==A.isVideoTexture,ke=void 0===rt.__version||!0===Ce,xe=I(A,ve,yt);if(A.isDepthTexture)at=i.DEPTH_COMPONENT,a?at=A.type===ao?i.DEPTH_COMPONENT32F:A.type===Qo?i.DEPTH_COMPONENT24:A.type===Ba?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT16:A.type===ao&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),A.format===Ua&&at===i.DEPTH_COMPONENT&&1012!==A.type&&A.type!==Qo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),A.type=Qo,ft=r.convert(A.type)),A.format===Ec&&at===i.DEPTH_COMPONENT&&(at=i.DEPTH_STENCIL,A.type!==Ba&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),A.type=Ba,ft=r.convert(A.type))),ke&&(W?t.texStorage2D(i.TEXTURE_2D,1,at,ve.width,ve.height):t.texImage2D(i.TEXTURE_2D,0,at,ve.width,ve.height,0,lt,ft,null));else if(A.isDataTexture)if(Yt.length>0&&yt){W&&ke&&t.texStorage2D(i.TEXTURE_2D,xe,at,Yt[0].width,Yt[0].height);for(let ce=0,De=Yt.length;ce<De;ce++)Xe=Yt[ce],W?t.texSubImage2D(i.TEXTURE_2D,ce,0,0,Xe.width,Xe.height,lt,ft,Xe.data):t.texImage2D(i.TEXTURE_2D,ce,at,Xe.width,Xe.height,0,lt,ft,Xe.data);A.generateMipmaps=!1}else W?(ke&&t.texStorage2D(i.TEXTURE_2D,xe,at,ve.width,ve.height),t.texSubImage2D(i.TEXTURE_2D,0,0,0,ve.width,ve.height,lt,ft,ve.data)):t.texImage2D(i.TEXTURE_2D,0,at,ve.width,ve.height,0,lt,ft,ve.data);else if(A.isCompressedTexture)if(A.isCompressedArrayTexture){W&&ke&&t.texStorage3D(i.TEXTURE_2D_ARRAY,xe,at,Yt[0].width,Yt[0].height,ve.depth);for(let ce=0,De=Yt.length;ce<De;ce++)Xe=Yt[ce],A.format!==Js?null!==lt?W?t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,ce,0,0,0,Xe.width,Xe.height,ve.depth,lt,Xe.data,0,0):t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,ce,at,Xe.width,Xe.height,ve.depth,0,Xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):W?t.texSubImage3D(i.TEXTURE_2D_ARRAY,ce,0,0,0,Xe.width,Xe.height,ve.depth,lt,ft,Xe.data):t.texImage3D(i.TEXTURE_2D_ARRAY,ce,at,Xe.width,Xe.height,ve.depth,0,lt,ft,Xe.data)}else{W&&ke&&t.texStorage2D(i.TEXTURE_2D,xe,at,Yt[0].width,Yt[0].height);for(let ce=0,De=Yt.length;ce<De;ce++)Xe=Yt[ce],A.format!==Js?null!==lt?W?t.compressedTexSubImage2D(i.TEXTURE_2D,ce,0,0,Xe.width,Xe.height,lt,Xe.data):t.compressedTexImage2D(i.TEXTURE_2D,ce,at,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):W?t.texSubImage2D(i.TEXTURE_2D,ce,0,0,Xe.width,Xe.height,lt,ft,Xe.data):t.texImage2D(i.TEXTURE_2D,ce,at,Xe.width,Xe.height,0,lt,ft,Xe.data)}else if(A.isDataArrayTexture)W?(ke&&t.texStorage3D(i.TEXTURE_2D_ARRAY,xe,at,ve.width,ve.height,ve.depth),t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,ve.width,ve.height,ve.depth,lt,ft,ve.data)):t.texImage3D(i.TEXTURE_2D_ARRAY,0,at,ve.width,ve.height,ve.depth,0,lt,ft,ve.data);else if(A.isData3DTexture)W?(ke&&t.texStorage3D(i.TEXTURE_3D,xe,at,ve.width,ve.height,ve.depth),t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,ve.width,ve.height,ve.depth,lt,ft,ve.data)):t.texImage3D(i.TEXTURE_3D,0,at,ve.width,ve.height,ve.depth,0,lt,ft,ve.data);else if(A.isFramebufferTexture){if(ke)if(W)t.texStorage2D(i.TEXTURE_2D,xe,at,ve.width,ve.height);else{let ce=ve.width,De=ve.height;for(let ht=0;ht<xe;ht++)t.texImage2D(i.TEXTURE_2D,ht,at,ce,De,0,lt,ft,null),ce>>=1,De>>=1}}else if(Yt.length>0&&yt){W&&ke&&t.texStorage2D(i.TEXTURE_2D,xe,at,Yt[0].width,Yt[0].height);for(let ce=0,De=Yt.length;ce<De;ce++)Xe=Yt[ce],W?t.texSubImage2D(i.TEXTURE_2D,ce,0,0,lt,ft,Xe):t.texImage2D(i.TEXTURE_2D,ce,at,lt,ft,Xe);A.generateMipmaps=!1}else W?(ke&&t.texStorage2D(i.TEXTURE_2D,xe,at,ve.width,ve.height),t.texSubImage2D(i.TEXTURE_2D,0,0,0,lt,ft,ve)):t.texImage2D(i.TEXTURE_2D,0,at,lt,ft,ve);P(A,yt)&&R(Te),rt.__version=Ee.version,A.onUpdate&&A.onUpdate(A)}F.__version=A.version}function pt(F,A,ne,Te,Ce,Ee){const rt=r.convert(ne.format,ne.colorSpace),Ae=r.convert(ne.type),Ve=N(ne.internalFormat,rt,Ae,ne.colorSpace);if(!n.get(A).__hasExternalTextures){const Pe=Math.max(1,A.width>>Ee),ve=Math.max(1,A.height>>Ee);Ce===i.TEXTURE_3D||Ce===i.TEXTURE_2D_ARRAY?t.texImage3D(Ce,Ee,Ve,Pe,ve,A.depth,0,rt,Ae,null):t.texImage2D(Ce,Ee,Ve,Pe,ve,0,rt,Ae,null)}t.bindFramebuffer(i.FRAMEBUFFER,F),gt(A)?p.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Te,Ce,n.get(ne).__webglTexture,0,qe(A)):(Ce===i.TEXTURE_2D||Ce>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Ce<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Te,Ce,n.get(ne).__webglTexture,Ee),t.bindFramebuffer(i.FRAMEBUFFER,null)}function B(F,A,ne){if(i.bindRenderbuffer(i.RENDERBUFFER,F),A.depthBuffer&&!A.stencilBuffer){let Te=!0===a?i.DEPTH_COMPONENT24:i.DEPTH_COMPONENT16;if(ne||gt(A)){const Ce=A.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===ao?Te=i.DEPTH_COMPONENT32F:Ce.type===Qo&&(Te=i.DEPTH_COMPONENT24));const Ee=qe(A);gt(A)?p.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Ee,Te,A.width,A.height):i.renderbufferStorageMultisample(i.RENDERBUFFER,Ee,Te,A.width,A.height)}else i.renderbufferStorage(i.RENDERBUFFER,Te,A.width,A.height);i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,F)}else if(A.depthBuffer&&A.stencilBuffer){const Te=qe(A);ne&&!1===gt(A)?i.renderbufferStorageMultisample(i.RENDERBUFFER,Te,i.DEPTH24_STENCIL8,A.width,A.height):gt(A)?p.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Te,i.DEPTH24_STENCIL8,A.width,A.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,A.width,A.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,F)}else{const Te=!0===A.isWebGLMultipleRenderTargets?A.texture:[A.texture];for(let Ce=0;Ce<Te.length;Ce++){const Ee=Te[Ce],rt=r.convert(Ee.format,Ee.colorSpace),Ae=r.convert(Ee.type),Ve=N(Ee.internalFormat,rt,Ae,Ee.colorSpace),U=qe(A);ne&&!1===gt(A)?i.renderbufferStorageMultisample(i.RENDERBUFFER,U,Ve,A.width,A.height):gt(A)?p.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,U,Ve,A.width,A.height):i.renderbufferStorage(i.RENDERBUFFER,Ve,A.width,A.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function ue(F){const A=n.get(F),ne=!0===F.isWebGLCubeRenderTarget;if(F.depthTexture&&!A.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");!function Re(F,A){if(A&&A.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,F),!A.depthTexture||!A.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(A.depthTexture).__webglTexture||A.depthTexture.image.width!==A.width||A.depthTexture.image.height!==A.height)&&(A.depthTexture.image.width=A.width,A.depthTexture.image.height=A.height,A.depthTexture.needsUpdate=!0),he(A.depthTexture,0);const Te=n.get(A.depthTexture).__webglTexture,Ce=qe(A);if(A.depthTexture.format===Ua)gt(A)?p.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Te,0,Ce):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Te,0);else{if(A.depthTexture.format!==Ec)throw new Error("Unknown depthTexture format");gt(A)?p.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Te,0,Ce):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Te,0)}}(A.__webglFramebuffer,F)}else if(ne){A.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)t.bindFramebuffer(i.FRAMEBUFFER,A.__webglFramebuffer[Te]),A.__webglDepthbuffer[Te]=i.createRenderbuffer(),B(A.__webglDepthbuffer[Te],F,!1)}else t.bindFramebuffer(i.FRAMEBUFFER,A.__webglFramebuffer),A.__webglDepthbuffer=i.createRenderbuffer(),B(A.__webglDepthbuffer,F,!1);t.bindFramebuffer(i.FRAMEBUFFER,null)}function qe(F){return Math.min(h,F.samples)}function gt(F){const A=n.get(F);return a&&F.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==A.__useRenderToTexture}function Ln(F,A){const ne=F.colorSpace,Te=F.format,Ce=F.type;return!0===F.isCompressedTexture||!0===F.isVideoTexture||1035===F.format||ne!==lo&&""!==ne&&(bn.getTransfer(ne)===An?!1===a?!0===e.has("EXT_sRGB")&&Te===Js?(F.format=1035,F.minFilter=ai,F.generateMipmaps=!1):A=GR.sRGBToLinear(A):(Te!==Js||Ce!==Zo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),A}this.allocateTextureUnit=function Q(){const F=q;return F>=l&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+l),q+=1,F},this.resetTextureUnits=function K(){q=0},this.setTexture2D=he,this.setTexture2DArray=function _e(F,A){const ne=n.get(F);F.version>0&&ne.__version!==F.version?Ue(ne,F,A):t.bindTexture(i.TEXTURE_2D_ARRAY,ne.__webglTexture,i.TEXTURE0+A)},this.setTexture3D=function Z(F,A){const ne=n.get(F);F.version>0&&ne.__version!==F.version?Ue(ne,F,A):t.bindTexture(i.TEXTURE_3D,ne.__webglTexture,i.TEXTURE0+A)},this.setTextureCube=function we(F,A){const ne=n.get(F);F.version>0&&ne.__version!==F.version?function It(F,A,ne){if(6!==A.image.length)return;const Te=mt(F,A),Ce=A.source;t.bindTexture(i.TEXTURE_CUBE_MAP,F.__webglTexture,i.TEXTURE0+ne);const Ee=n.get(Ce);if(Ce.version!==Ee.__version||!0===Te){t.activeTexture(i.TEXTURE0+ne);const rt=bn.getPrimaries(bn.workingColorSpace),Ae=""===A.colorSpace?null:bn.getPrimaries(A.colorSpace),Ve=""===A.colorSpace||rt===Ae?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,A.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,A.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,A.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ve);const U=A.isCompressedTexture||A.image[0].isCompressedTexture,Pe=A.image[0]&&A.image[0].isDataTexture,ve=[];for(let ce=0;ce<6;ce++)ve[ce]=U||Pe?Pe?A.image[ce].image:A.image[ce]:w(A.image[ce],!1,!0,c),ve[ce]=Ln(A,ve[ce]);const yt=ve[0],lt=M(yt)||a,ft=r.convert(A.format,A.colorSpace),at=r.convert(A.type),Xe=N(A.internalFormat,ft,at,A.colorSpace),Yt=a&&!0!==A.isVideoTexture,W=void 0===Ee.__version||!0===Te;let xe,ke=I(A,yt,lt);if(He(i.TEXTURE_CUBE_MAP,A,lt),U){Yt&&W&&t.texStorage2D(i.TEXTURE_CUBE_MAP,ke,Xe,yt.width,yt.height);for(let ce=0;ce<6;ce++){xe=ve[ce].mipmaps;for(let De=0;De<xe.length;De++){const ht=xe[De];A.format!==Js?null!==ft?Yt?t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,De,0,0,ht.width,ht.height,ft,ht.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,De,Xe,ht.width,ht.height,0,ht.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Yt?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,De,0,0,ht.width,ht.height,ft,at,ht.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,De,Xe,ht.width,ht.height,0,ft,at,ht.data)}}}else{xe=A.mipmaps,Yt&&W&&(xe.length>0&&ke++,t.texStorage2D(i.TEXTURE_CUBE_MAP,ke,Xe,ve[0].width,ve[0].height));for(let ce=0;ce<6;ce++)if(Pe){Yt?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,0,0,ve[ce].width,ve[ce].height,ft,at,ve[ce].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,Xe,ve[ce].width,ve[ce].height,0,ft,at,ve[ce].data);for(let De=0;De<xe.length;De++){const Kt=xe[De].image[ce].image;Yt?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,De+1,0,0,Kt.width,Kt.height,ft,at,Kt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,De+1,Xe,Kt.width,Kt.height,0,ft,at,Kt.data)}}else{Yt?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,0,0,ft,at,ve[ce]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,Xe,ft,at,ve[ce]);for(let De=0;De<xe.length;De++){const ht=xe[De];Yt?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,De+1,0,0,ft,at,ht.image[ce]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ce,De+1,Xe,ft,at,ht.image[ce])}}}P(A,lt)&&R(i.TEXTURE_CUBE_MAP),Ee.__version=Ce.version,A.onUpdate&&A.onUpdate(A)}F.__version=A.version}(ne,F,A):t.bindTexture(i.TEXTURE_CUBE_MAP,ne.__webglTexture,i.TEXTURE0+A)},this.rebindTextures=function Me(F,A,ne){const Te=n.get(F);void 0!==A&&pt(Te.__webglFramebuffer,F,F.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),void 0!==ne&&ue(F)},this.setupRenderTarget=function ye(F){const A=F.texture,ne=n.get(F),Te=n.get(A);F.addEventListener("dispose",le),!0!==F.isWebGLMultipleRenderTargets&&(void 0===Te.__webglTexture&&(Te.__webglTexture=i.createTexture()),Te.__version=A.version,o.memory.textures++);const Ce=!0===F.isWebGLCubeRenderTarget,Ee=!0===F.isWebGLMultipleRenderTargets,rt=M(F)||a;if(Ce){ne.__webglFramebuffer=[];for(let Ae=0;Ae<6;Ae++)if(a&&A.mipmaps&&A.mipmaps.length>0){ne.__webglFramebuffer[Ae]=[];for(let Ve=0;Ve<A.mipmaps.length;Ve++)ne.__webglFramebuffer[Ae][Ve]=i.createFramebuffer()}else ne.__webglFramebuffer[Ae]=i.createFramebuffer()}else{if(a&&A.mipmaps&&A.mipmaps.length>0){ne.__webglFramebuffer=[];for(let Ae=0;Ae<A.mipmaps.length;Ae++)ne.__webglFramebuffer[Ae]=i.createFramebuffer()}else ne.__webglFramebuffer=i.createFramebuffer();if(Ee)if(s.drawBuffers){const Ae=F.texture;for(let Ve=0,U=Ae.length;Ve<U;Ve++){const Pe=n.get(Ae[Ve]);void 0===Pe.__webglTexture&&(Pe.__webglTexture=i.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&F.samples>0&&!1===gt(F)){const Ae=Ee?A:[A];ne.__webglMultisampledFramebuffer=i.createFramebuffer(),ne.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let Ve=0;Ve<Ae.length;Ve++){const U=Ae[Ve];ne.__webglColorRenderbuffer[Ve]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,ne.__webglColorRenderbuffer[Ve]);const Pe=r.convert(U.format,U.colorSpace),ve=r.convert(U.type),yt=N(U.internalFormat,Pe,ve,U.colorSpace,!0===F.isXRRenderTarget),lt=qe(F);i.renderbufferStorageMultisample(i.RENDERBUFFER,lt,yt,F.width,F.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Ve,i.RENDERBUFFER,ne.__webglColorRenderbuffer[Ve])}i.bindRenderbuffer(i.RENDERBUFFER,null),F.depthBuffer&&(ne.__webglDepthRenderbuffer=i.createRenderbuffer(),B(ne.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Ce){t.bindTexture(i.TEXTURE_CUBE_MAP,Te.__webglTexture),He(i.TEXTURE_CUBE_MAP,A,rt);for(let Ae=0;Ae<6;Ae++)if(a&&A.mipmaps&&A.mipmaps.length>0)for(let Ve=0;Ve<A.mipmaps.length;Ve++)pt(ne.__webglFramebuffer[Ae][Ve],F,A,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ve);else pt(ne.__webglFramebuffer[Ae],F,A,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0);P(A,rt)&&R(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ee){const Ae=F.texture;for(let Ve=0,U=Ae.length;Ve<U;Ve++){const Pe=Ae[Ve],ve=n.get(Pe);t.bindTexture(i.TEXTURE_2D,ve.__webglTexture),He(i.TEXTURE_2D,Pe,rt),pt(ne.__webglFramebuffer,F,Pe,i.COLOR_ATTACHMENT0+Ve,i.TEXTURE_2D,0),P(Pe,rt)&&R(i.TEXTURE_2D)}t.unbindTexture()}else{let Ae=i.TEXTURE_2D;if((F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(a?Ae=F.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ae,Te.__webglTexture),He(Ae,A,rt),a&&A.mipmaps&&A.mipmaps.length>0)for(let Ve=0;Ve<A.mipmaps.length;Ve++)pt(ne.__webglFramebuffer[Ve],F,A,i.COLOR_ATTACHMENT0,Ae,Ve);else pt(ne.__webglFramebuffer,F,A,i.COLOR_ATTACHMENT0,Ae,0);P(A,rt)&&R(Ae),t.unbindTexture()}F.depthBuffer&&ue(F)},this.updateRenderTargetMipmap=function ct(F){const A=M(F)||a,ne=!0===F.isWebGLMultipleRenderTargets?F.texture:[F.texture];for(let Te=0,Ce=ne.length;Te<Ce;Te++){const Ee=ne[Te];if(P(Ee,A)){const rt=F.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,Ae=n.get(Ee).__webglTexture;t.bindTexture(rt,Ae),R(rt),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function ze(F){if(a&&F.samples>0&&!1===gt(F)){const A=F.isWebGLMultipleRenderTargets?F.texture:[F.texture],ne=F.width,Te=F.height;let Ce=i.COLOR_BUFFER_BIT;const Ee=[],rt=F.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ae=n.get(F),Ve=!0===F.isWebGLMultipleRenderTargets;if(Ve)for(let U=0;U<A.length;U++)t.bindFramebuffer(i.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+U,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,Ae.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+U,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ae.__webglFramebuffer);for(let U=0;U<A.length;U++){Ee.push(i.COLOR_ATTACHMENT0+U),F.depthBuffer&&Ee.push(rt);const Pe=void 0!==Ae.__ignoreDepthValues&&Ae.__ignoreDepthValues;if(!1===Pe&&(F.depthBuffer&&(Ce|=i.DEPTH_BUFFER_BIT),F.stencilBuffer&&(Ce|=i.STENCIL_BUFFER_BIT)),Ve&&i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,Ae.__webglColorRenderbuffer[U]),!0===Pe&&(i.invalidateFramebuffer(i.READ_FRAMEBUFFER,[rt]),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[rt])),Ve){const ve=n.get(A[U]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,ve,0)}i.blitFramebuffer(0,0,ne,Te,0,0,ne,Te,Ce,i.NEAREST),f&&i.invalidateFramebuffer(i.READ_FRAMEBUFFER,Ee)}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Ve)for(let U=0;U<A.length;U++){t.bindFramebuffer(i.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+U,i.RENDERBUFFER,Ae.__webglColorRenderbuffer[U]);const Pe=n.get(A[U]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,Ae.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+U,i.TEXTURE_2D,Pe,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=pt,this.useMultisampledRTT=gt}function epe(i,e,t){const n=t.isWebGL2;return{convert:function s(r,o=""){let a;const l=bn.getTransfer(o);if(r===Zo)return i.UNSIGNED_BYTE;if(1017===r)return i.UNSIGNED_SHORT_4_4_4_4;if(1018===r)return i.UNSIGNED_SHORT_5_5_5_1;if(1010===r)return i.BYTE;if(1011===r)return i.SHORT;if(1012===r)return i.UNSIGNED_SHORT;if(1013===r)return i.INT;if(r===Qo)return i.UNSIGNED_INT;if(r===ao)return i.FLOAT;if(r===Jd)return n?i.HALF_FLOAT:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===r)return i.ALPHA;if(r===Js)return i.RGBA;if(1024===r)return i.LUMINANCE;if(1025===r)return i.LUMINANCE_ALPHA;if(r===Ua)return i.DEPTH_COMPONENT;if(r===Ec)return i.DEPTH_STENCIL;if(1035===r)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1028===r)return i.RED;if(1029===r)return i.RED_INTEGER;if(1030===r)return i.RG;if(1031===r)return i.RG_INTEGER;if(1033===r)return i.RGBA_INTEGER;if(33776===r||33777===r||33778===r||33779===r)if(l===An){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===r)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===r)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===r)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===r)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===r)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===r)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===r)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===r)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===r||35841===r||35842===r||35843===r){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===r)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===r)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===r)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===r)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===r)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===r||37496===r){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===r)return l===An?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===r||37809===r||37810===r||37811===r||37812===r||37813===r||37814===r||37815===r||37816===r||37817===r||37818===r||37819===r||37820===r||37821===r){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===r)return l===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===r||36494===r||36495===r){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===r)return l===An?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===r)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===r)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===r||36284===r||36285===r||36286===r){if(a=e.get("EXT_texture_compression_rgtc"),null===a)return null;if(36492===r)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===r)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===r)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===r)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===Ba?n?i.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==i[r]?i[r]:null}}}class tpe extends Oi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ch extends ys{constructor(){super(),this.isGroup=!0,this.type="Group"}}const npe={type:"move"};class mw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ch,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ch,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ch,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let s=null,r=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const _=t.getJointPose(v,n),g=this._getHandJoint(c,v);null!==_&&(g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=_.radius),g.visible=null!==_}const p=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,m=.005;c.inputState.pinching&&p>f+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=f-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(s=t.getPose(e.targetRaySpace,n),null===s&&null!==r&&(s=r),null!==s&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,s.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(s.linearVelocity)):a.hasLinearVelocity=!1,s.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(s.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(npe)))}return null!==a&&(a.visible=null!==s),null!==l&&(l.visible=null!==r),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new ch;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class ipe extends Jo{constructor(e,t,n,s,r,o,a,l,c,u){if((u=void 0!==u?u:Ua)!==Ua&&u!==Ec)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===Ua&&(n=Qo),void 0===n&&u===Ec&&(n=Ba),super(null,s,r,o,a,l,u,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:oi,this.minFilter=void 0!==l?l:oi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class spe extends Ga{constructor(e,t){var n;super();const s=this;let r=null,o=1,a=null,l="local-floor",c=1,u=null,h=null,p=null,f=null,m=null,v=null;const _=t.getContextAttributes();let g=null,C=null;const w=[],M=[],D=new Oi;D.layers.enable(1),D.viewport=new wn;const P=new Oi;P.layers.enable(2),P.viewport=new wn;const R=[D,P],N=new tpe;N.layers.enable(1),N.layers.enable(2);let I=null,O=null;function Y(Z){const we=M.indexOf(Z.inputSource);if(-1===we)return;const be=w[we];void 0!==be&&(be.update(Z.inputSource,Z.frame,u||a),be.dispatchEvent({type:Z.type,data:Z.inputSource}))}function le(){r.removeEventListener("select",Y),r.removeEventListener("selectstart",Y),r.removeEventListener("selectend",Y),r.removeEventListener("squeeze",Y),r.removeEventListener("squeezestart",Y),r.removeEventListener("squeezeend",Y),r.removeEventListener("end",le),r.removeEventListener("inputsourceschange",fe);for(let Z=0;Z<w.length;Z++){const we=M[Z];null!==we&&(M[Z]=null,w[Z].disconnect(we))}I=null,O=null,e.setRenderTarget(g),m=null,f=null,p=null,r=null,C=null,_e.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}function fe(Z){for(let we=0;we<Z.removed.length;we++){const be=Z.removed[we],Ke=M.indexOf(be);Ke>=0&&(M[Ke]=null,w[Ke].disconnect(be))}for(let we=0;we<Z.added.length;we++){const be=Z.added[we];let Ke=M.indexOf(be);if(-1===Ke){for(let He=0;He<w.length;He++){if(He>=M.length){M.push(be),Ke=He;break}if(null===M[He]){M[He]=be,Ke=He;break}}if(-1===Ke)break}const Je=w[Ke];Je&&Je.connect(be)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let we=w[Z];return void 0===we&&(we=new mw,w[Z]=we),we.getTargetRaySpace()},this.getControllerGrip=function(Z){let we=w[Z];return void 0===we&&(we=new mw,w[Z]=we),we.getGripSpace()},this.getHand=function(Z){let we=w[Z];return void 0===we&&(we=new mw,w[Z]=we),we.getHandSpace()},this.setFramebufferScaleFactor=function(Z){o=Z,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){l=Z,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(Z){u=Z},this.getBaseLayer=function(){return null!==f?f:m},this.getBinding=function(){return p},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=function(Z){return(n=n||function wae(i){return function(){var e=this,t=arguments;return new Promise(function(n,s){var r=i.apply(e,t);function o(l){$P(r,n,s,o,a,"next",l)}function a(l){$P(r,n,s,o,a,"throw",l)}o(void 0)})}}(function*(we){if(r=we,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",Y),r.addEventListener("selectstart",Y),r.addEventListener("selectend",Y),r.addEventListener("squeeze",Y),r.addEventListener("squeezestart",Y),r.addEventListener("squeezeend",Y),r.addEventListener("end",le),r.addEventListener("inputsourceschange",fe),!0!==_.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)m=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o}),r.updateRenderState({baseLayer:m}),C=new $a(m.framebufferWidth,m.framebufferHeight,{format:Js,type:Zo,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil});else{let be=null,Ke=null,Je=null;_.depth&&(Je=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,be=_.stencil?Ec:Ua,Ke=_.stencil?Ba:Qo);const He={colorFormat:t.RGBA8,depthFormat:Je,scaleFactor:o};p=new XRWebGLBinding(r,t),f=p.createProjectionLayer(He),r.updateRenderState({layers:[f]}),C=new $a(f.textureWidth,f.textureHeight,{format:Js,type:Zo,depthTexture:new ipe(f.textureWidth,f.textureHeight,Ke,void 0,void 0,void 0,void 0,void 0,void 0,be),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0}),e.properties.get(C).__ignoreDepthValues=f.ignoreDepthValues}C.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=yield r.requestReferenceSpace(l),_e.setContext(r),_e.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}})).apply(this,arguments)},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const z=new k,te=new k;function K(Z,we){null===we?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(we.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(null===r)return;N.near=P.near=D.near=Z.near,N.far=P.far=D.far=Z.far,(I!==N.near||O!==N.far)&&(r.updateRenderState({depthNear:N.near,depthFar:N.far}),I=N.near,O=N.far);const we=Z.parent,be=N.cameras;K(N,we);for(let Ke=0;Ke<be.length;Ke++)K(be[Ke],we);2===be.length?function q(Z,we,be){z.setFromMatrixPosition(we.matrixWorld),te.setFromMatrixPosition(be.matrixWorld);const Ke=z.distanceTo(te),Je=we.projectionMatrix.elements,He=be.projectionMatrix.elements,mt=Je[14]/(Je[10]-1),Ue=Je[14]/(Je[10]+1),It=(Je[9]+1)/Je[5],pt=(Je[9]-1)/Je[5],B=(Je[8]-1)/Je[0],Re=(He[8]+1)/He[0],ue=mt*B,Me=mt*Re,ye=Ke/(-B+Re),ct=ye*-B;we.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(ct),Z.translateZ(ye),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert();const ze=mt+ye,qe=Ue+ye;Z.projectionMatrix.makePerspective(ue-ct,Me+(Ke-ct),It*Ue/qe*ze,pt*Ue/qe*ze,ze,qe),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}(N,D,P):N.projectionMatrix.copy(D.projectionMatrix),function Q(Z,we,be){null===be?Z.matrix.copy(we.matrixWorld):(Z.matrix.copy(be.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(we.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(we.projectionMatrix),Z.projectionMatrixInverse.copy(we.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=2*Pc*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}(Z,N,we)},this.getCamera=function(){return N},this.getFoveation=function(){if(null!==f||null!==m)return c},this.setFoveation=function(Z){c=Z,null!==f&&(f.fixedFoveation=Z),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=Z)};let X=null;const _e=new lO;_e.setAnimationLoop(function he(Z,we){if(h=we.getViewerPose(u||a),v=we,null!==h){const be=h.views;null!==m&&(e.setRenderTargetFramebuffer(C,m.framebuffer),e.setRenderTarget(C));let Ke=!1;be.length!==N.cameras.length&&(N.cameras.length=0,Ke=!0);for(let Je=0;Je<be.length;Je++){const He=be[Je];let mt=null;if(null!==m)mt=m.getViewport(He);else{const It=p.getViewSubImage(f,He);mt=It.viewport,0===Je&&(e.setRenderTargetTextures(C,It.colorTexture,f.ignoreDepthValues?void 0:It.depthStencilTexture),e.setRenderTarget(C))}let Ue=R[Je];void 0===Ue&&(Ue=new Oi,Ue.layers.enable(Je),Ue.viewport=new wn,R[Je]=Ue),Ue.matrix.fromArray(He.transform.matrix),Ue.matrix.decompose(Ue.position,Ue.quaternion,Ue.scale),Ue.projectionMatrix.fromArray(He.projectionMatrix),Ue.projectionMatrixInverse.copy(Ue.projectionMatrix).invert(),Ue.viewport.set(mt.x,mt.y,mt.width,mt.height),0===Je&&(N.matrix.copy(Ue.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),!0===Ke&&N.cameras.push(Ue)}}for(let be=0;be<w.length;be++){const Ke=M[be],Je=w[be];null!==Ke&&void 0!==Je&&Je.update(Ke,we,u||a)}X&&X(Z,we),we.detectedPlanes&&s.dispatchEvent({type:"planesdetected",data:we}),v=null}),this.setAnimationLoop=function(Z){X=Z},this.dispose=function(){}}}function rpe(i,e){function t(_,g){!0===_.matrixAutoUpdate&&_.updateMatrix(),g.value.copy(_.matrix)}function r(_,g){_.opacity.value=g.opacity,g.color&&_.diffuse.value.copy(g.color),g.emissive&&_.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.bumpMap&&(_.bumpMap.value=g.bumpMap,t(g.bumpMap,_.bumpMapTransform),_.bumpScale.value=g.bumpScale,1===g.side&&(_.bumpScale.value*=-1)),g.normalMap&&(_.normalMap.value=g.normalMap,t(g.normalMap,_.normalMapTransform),_.normalScale.value.copy(g.normalScale),1===g.side&&_.normalScale.value.negate()),g.displacementMap&&(_.displacementMap.value=g.displacementMap,t(g.displacementMap,_.displacementMapTransform),_.displacementScale.value=g.displacementScale,_.displacementBias.value=g.displacementBias),g.emissiveMap&&(_.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,_.emissiveMapTransform)),g.specularMap&&(_.specularMap.value=g.specularMap,t(g.specularMap,_.specularMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest);const C=e.get(g).envMap;if(C&&(_.envMap.value=C,_.flipEnvMap.value=C.isCubeTexture&&!1===C.isRenderTargetTexture?-1:1,_.reflectivity.value=g.reflectivity,_.ior.value=g.ior,_.refractionRatio.value=g.refractionRatio),g.lightMap){_.lightMap.value=g.lightMap;const w=!0===i._useLegacyLights?Math.PI:1;_.lightMapIntensity.value=g.lightMapIntensity*w,t(g.lightMap,_.lightMapTransform)}g.aoMap&&(_.aoMap.value=g.aoMap,_.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,_.aoMapTransform))}return{refreshFogUniforms:function n(_,g){g.color.getRGB(_.fogColor.value,aO(i)),g.isFog?(_.fogNear.value=g.near,_.fogFar.value=g.far):g.isFogExp2&&(_.fogDensity.value=g.density)},refreshMaterialUniforms:function s(_,g,C,w,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?r(_,g):g.isMeshToonMaterial?(r(_,g),function h(_,g){g.gradientMap&&(_.gradientMap.value=g.gradientMap)}(_,g)):g.isMeshPhongMaterial?(r(_,g),function u(_,g){_.specular.value.copy(g.specular),_.shininess.value=Math.max(g.shininess,1e-4)}(_,g)):g.isMeshStandardMaterial?(r(_,g),function p(_,g){_.metalness.value=g.metalness,g.metalnessMap&&(_.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,_.metalnessMapTransform)),_.roughness.value=g.roughness,g.roughnessMap&&(_.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,_.roughnessMapTransform)),e.get(g).envMap&&(_.envMapIntensity.value=g.envMapIntensity)}(_,g),g.isMeshPhysicalMaterial&&function f(_,g,C){_.ior.value=g.ior,g.sheen>0&&(_.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),_.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(_.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,_.sheenColorMapTransform)),g.sheenRoughnessMap&&(_.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,_.sheenRoughnessMapTransform))),g.clearcoat>0&&(_.clearcoat.value=g.clearcoat,_.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(_.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,_.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(_.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),1===g.side&&_.clearcoatNormalScale.value.negate())),g.iridescence>0&&(_.iridescence.value=g.iridescence,_.iridescenceIOR.value=g.iridescenceIOR,_.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(_.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,_.iridescenceMapTransform)),g.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),g.transmission>0&&(_.transmission.value=g.transmission,_.transmissionSamplerMap.value=C.texture,_.transmissionSamplerSize.value.set(C.width,C.height),g.transmissionMap&&(_.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,_.transmissionMapTransform)),_.thickness.value=g.thickness,g.thicknessMap&&(_.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=g.attenuationDistance,_.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(_.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(_.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=g.specularIntensity,_.specularColor.value.copy(g.specularColor),g.specularColorMap&&(_.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,_.specularColorMapTransform)),g.specularIntensityMap&&(_.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,_.specularIntensityMapTransform))}(_,g,M)):g.isMeshMatcapMaterial?(r(_,g),function m(_,g){g.matcap&&(_.matcap.value=g.matcap)}(_,g)):g.isMeshDepthMaterial?r(_,g):g.isMeshDistanceMaterial?(r(_,g),function v(_,g){const C=e.get(g).light;_.referencePosition.value.setFromMatrixPosition(C.matrixWorld),_.nearDistance.value=C.shadow.camera.near,_.farDistance.value=C.shadow.camera.far}(_,g)):g.isMeshNormalMaterial?r(_,g):g.isLineBasicMaterial?(function o(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform))}(_,g),g.isLineDashedMaterial&&function a(_,g){_.dashSize.value=g.dashSize,_.totalSize.value=g.dashSize+g.gapSize,_.scale.value=g.scale}(_,g)):g.isPointsMaterial?function l(_,g,C,w){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.size.value=g.size*C,_.scale.value=.5*w,g.map&&(_.map.value=g.map,t(g.map,_.uvTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}(_,g,C,w):g.isSpriteMaterial?function c(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.rotation.value=g.rotation,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}(_,g):g.isShadowMaterial?(_.color.value.copy(g.color),_.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function ope(i,e,t,n){let s={},r={},o=[];const a=t.isWebGL2?i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS):0;function f(C,w,M){const D=C.value;if(void 0===M[w]){if("number"==typeof D)M[w]=D;else{const P=Array.isArray(D)?D:[D],R=[];for(let N=0;N<P.length;N++)R.push(P[N].clone());M[w]=R}return!0}if("number"==typeof D){if(M[w]!==D)return M[w]=D,!0}else{const P=Array.isArray(M[w])?M[w]:[M[w]],R=Array.isArray(D)?D:[D];for(let N=0;N<P.length;N++){const I=P[N];if(!1===I.equals(R[N]))return I.copy(R[N]),!0}}return!1}function v(C){const w={boundary:0,storage:0};return"number"==typeof C?(w.boundary=4,w.storage=4):C.isVector2?(w.boundary=8,w.storage=8):C.isVector3||C.isColor?(w.boundary=16,w.storage=12):C.isVector4?(w.boundary=16,w.storage=16):C.isMatrix3?(w.boundary=48,w.storage=48):C.isMatrix4?(w.boundary=64,w.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),w}function _(C){const w=C.target;w.removeEventListener("dispose",_);const M=o.indexOf(w.__bindingPointIndex);o.splice(M,1),i.deleteBuffer(s[w.id]),delete s[w.id],delete r[w.id]}return{bind:function l(C,w){n.uniformBlockBinding(C,w.program)},update:function c(C,w){let M=s[C.id];void 0===M&&(function m(C){const w=C.uniforms;let M=0;let P=0;for(let R=0,N=w.length;R<N;R++){const I=w[R],O={boundary:0,storage:0},Y=Array.isArray(I.value)?I.value:[I.value];for(let le=0,fe=Y.length;le<fe;le++){const te=v(Y[le]);O.boundary+=te.boundary,O.storage+=te.storage}I.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=M,R>0&&(P=M%16,0!==P&&16-P-O.boundary<0&&(M+=16-P,I.__offset=M)),M+=O.storage}P=M%16,P>0&&(M+=16-P),C.__size=M,C.__cache={}}(C),M=function u(C){const w=function h(){for(let C=0;C<a;C++)if(-1===o.indexOf(C))return o.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();C.__bindingPointIndex=w;const M=i.createBuffer(),D=C.__size,P=C.usage;return i.bindBuffer(i.UNIFORM_BUFFER,M),i.bufferData(i.UNIFORM_BUFFER,D,P),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,w,M),M}(C),s[C.id]=M,C.addEventListener("dispose",_)),n.updateUBOMapping(C,w.program);const P=e.render.frame;r[C.id]!==P&&(function p(C){const M=C.uniforms,D=C.__cache;i.bindBuffer(i.UNIFORM_BUFFER,s[C.id]);for(let P=0,R=M.length;P<R;P++){const N=M[P];if(!0===f(N,P,D)){const I=N.__offset,O=Array.isArray(N.value)?N.value:[N.value];let Y=0;for(let le=0;le<O.length;le++){const fe=O[le],z=v(fe);"number"==typeof fe?(N.__data[0]=fe,i.bufferSubData(i.UNIFORM_BUFFER,I+Y,N.__data)):fe.isMatrix3?(N.__data[0]=fe.elements[0],N.__data[1]=fe.elements[1],N.__data[2]=fe.elements[2],N.__data[3]=fe.elements[0],N.__data[4]=fe.elements[3],N.__data[5]=fe.elements[4],N.__data[6]=fe.elements[5],N.__data[7]=fe.elements[0],N.__data[8]=fe.elements[6],N.__data[9]=fe.elements[7],N.__data[10]=fe.elements[8],N.__data[11]=fe.elements[0]):(fe.toArray(N.__data,Y),Y+=z.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,I,N.__data)}}i.bindBuffer(i.UNIFORM_BUFFER,null)}(C),r[C.id]=P)},dispose:function g(){for(const C in s)i.deleteBuffer(s[C]);o=[],s={},r={}}}}class NO{constructor(e={}){const{canvas:t=Ble(),context:n=null,depth:s=!0,stencil:r=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;let p;this.isWebGLRenderer=!0,p=null!==n?n.getContextAttributes().alpha:o;const f=new Uint32Array(4),m=new Int32Array(4);let v=null,_=null;const g=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ci,this._useLegacyLights=!1,this.toneMapping=Ko,this.toneMappingExposure=1;const w=this;let M=!1,D=0,P=0,R=null,N=-1,I=null;const O=new wn,Y=new wn;let le=null;const fe=new je(0);let z=0,te=t.width,q=t.height,K=1,Q=null,X=null;const he=new wn(0,0,te,q),_e=new wn(0,0,te,q);let Z=!1;const we=new ow;let be=!1,Ke=!1,Je=null;const He=new Pt,mt=new de,Ue=new k,It={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function pt(){return null===R?K:1}let ue,Me,ye,ct,ze,qe,gt,zt,Ln,F,A,ne,Te,Ce,Ee,rt,Ae,Ve,U,Pe,ve,yt,lt,ft,B=n;function Re(L,J){for(let ie=0;ie<L.length;ie++){const oe=t.getContext(L[ie],J);if(null!==oe)return oe}return null}try{const L={alpha:!0,depth:s,stencil:r,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r158"),t.addEventListener("webglcontextlost",Yt,!1),t.addEventListener("webglcontextrestored",W,!1),t.addEventListener("webglcontextcreationerror",ke,!1),null===B){const J=["webgl2","webgl","experimental-webgl"];if(!0===w.isWebGL1Renderer&&J.shift(),B=Re(J,L),null===B)throw Re(J)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&B instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===B.getShaderPrecisionFormat&&(B.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(L){throw console.error("THREE.WebGLRenderer: "+L.message),L}function at(){ue=new vde(B),Me=new hde(B,ue,e),ue.init(Me),yt=new epe(B,ue,Me),ye=new Qhe(B,ue,Me),ct=new wde(B),ze=new Uhe,qe=new Jhe(B,ue,ye,ze,Me,yt,ct),gt=new fde(w),zt=new _de(w),Ln=new dce(B,Me),lt=new ude(B,ue,Ln,Me),F=new yde(B,Ln,ct,lt),A=new Sde(B,F,Ln,ct),U=new Tde(B,Me,qe),rt=new pde(ze),ne=new Bhe(w,gt,zt,ue,Me,lt,rt),Te=new rpe(w,ze),Ce=new zhe,Ee=new Yhe(ue,Me),Ve=new cde(w,gt,zt,ye,A,p,l),Ae=new Zhe(w,A,Me),ft=new ope(B,ct,Me,ye),Pe=new dde(B,ue,ct,Me),ve=new bde(B,ue,ct,Me),ct.programs=ne.programs,w.capabilities=Me,w.extensions=ue,w.properties=ze,w.renderLists=Ce,w.shadowMap=Ae,w.state=ye,w.info=ct}at();const Xe=new spe(w,B);function Yt(L){L.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function W(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const L=ct.autoReset,J=Ae.enabled,ie=Ae.autoUpdate,re=Ae.needsUpdate,oe=Ae.type;at(),ct.autoReset=L,Ae.enabled=J,Ae.autoUpdate=ie,Ae.needsUpdate=re,Ae.type=oe}function ke(L){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",L.statusMessage)}function xe(L){const J=L.target;J.removeEventListener("dispose",xe),function ce(L){(function De(L){const J=ze.get(L).programs;void 0!==J&&(J.forEach(function(ie){ne.releaseProgram(ie)}),L.isShaderMaterial&&ne.releaseShaderCache(L))})(L),ze.remove(L)}(J)}function ht(L,J,ie){!0===L.transparent&&2===L.side&&!1===L.forceSinglePass?(L.side=1,L.needsUpdate=!0,a_(L,J,ie),L.side=0,L.needsUpdate=!0,a_(L,J,ie),L.side=2):a_(L,J,ie)}this.xr=Xe,this.getContext=function(){return B},this.getContextAttributes=function(){return B.getContextAttributes()},this.forceContextLoss=function(){const L=ue.get("WEBGL_lose_context");L&&L.loseContext()},this.forceContextRestore=function(){const L=ue.get("WEBGL_lose_context");L&&L.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(L){void 0!==L&&(K=L,this.setSize(te,q,!1))},this.getSize=function(L){return L.set(te,q)},this.setSize=function(L,J,ie=!0){Xe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(te=L,q=J,t.width=Math.floor(L*K),t.height=Math.floor(J*K),!0===ie&&(t.style.width=L+"px",t.style.height=J+"px"),this.setViewport(0,0,L,J))},this.getDrawingBufferSize=function(L){return L.set(te*K,q*K).floor()},this.setDrawingBufferSize=function(L,J,ie){te=L,q=J,K=ie,t.width=Math.floor(L*ie),t.height=Math.floor(J*ie),this.setViewport(0,0,L,J)},this.getCurrentViewport=function(L){return L.copy(O)},this.getViewport=function(L){return L.copy(he)},this.setViewport=function(L,J,ie,re){L.isVector4?he.set(L.x,L.y,L.z,L.w):he.set(L,J,ie,re),ye.viewport(O.copy(he).multiplyScalar(K).floor())},this.getScissor=function(L){return L.copy(_e)},this.setScissor=function(L,J,ie,re){L.isVector4?_e.set(L.x,L.y,L.z,L.w):_e.set(L,J,ie,re),ye.scissor(Y.copy(_e).multiplyScalar(K).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(L){ye.setScissorTest(Z=L)},this.setOpaqueSort=function(L){Q=L},this.setTransparentSort=function(L){X=L},this.getClearColor=function(L){return L.copy(Ve.getClearColor())},this.setClearColor=function(){Ve.setClearColor.apply(Ve,arguments)},this.getClearAlpha=function(){return Ve.getClearAlpha()},this.setClearAlpha=function(){Ve.setClearAlpha.apply(Ve,arguments)},this.clear=function(L=!0,J=!0,ie=!0){let re=0;if(L){let oe=!1;if(null!==R){const Ye=R.texture.format;oe=1033===Ye||1031===Ye||1029===Ye}if(oe){const Ye=R.texture.type,ut=Ye===Zo||Ye===Qo||1012===Ye||Ye===Ba||1017===Ye||1018===Ye,bt=Ve.getClearColor(),Mt=Ve.getClearAlpha(),Ht=bt.r,Lt=bt.g,Ft=bt.b;ut?(f[0]=Ht,f[1]=Lt,f[2]=Ft,f[3]=Mt,B.clearBufferuiv(B.COLOR,0,f)):(m[0]=Ht,m[1]=Lt,m[2]=Ft,m[3]=Mt,B.clearBufferiv(B.COLOR,0,m))}else re|=B.COLOR_BUFFER_BIT}J&&(re|=B.DEPTH_BUFFER_BIT),ie&&(re|=B.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),B.clear(re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Yt,!1),t.removeEventListener("webglcontextrestored",W,!1),t.removeEventListener("webglcontextcreationerror",ke,!1),Ce.dispose(),Ee.dispose(),ze.dispose(),gt.dispose(),zt.dispose(),A.dispose(),lt.dispose(),ft.dispose(),ne.dispose(),Xe.dispose(),Xe.removeEventListener("sessionstart",nr),Xe.removeEventListener("sessionend",Dn),Je&&(Je.dispose(),Je=null),is.stop()},this.renderBufferDirect=function(L,J,ie,re,oe,Ye){null===J&&(J=It);const ut=oe.isMesh&&oe.matrixWorld.determinant()<0,bt=function xge(L,J,ie,re,oe){!0!==J.isScene&&(J=It),qe.resetTextureUnits();const Ye=J.fog,bt=null===R?w.outputColorSpace:!0===R.isXRRenderTarget?R.texture.colorSpace:lo,Mt=(re.isMeshStandardMaterial?zt:gt).get(re.envMap||(re.isMeshStandardMaterial?J.environment:null)),Ht=!0===re.vertexColors&&!!ie.attributes.color&&4===ie.attributes.color.itemSize,Lt=!!ie.attributes.tangent&&(!!re.normalMap||re.anisotropy>0),Ft=!!ie.morphAttributes.position,ti=!!ie.morphAttributes.normal,Us=!!ie.morphAttributes.color;let Si=Ko;re.toneMapped&&(null===R||!0===R.isXRRenderTarget)&&(Si=w.toneMapping);const wo=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,jn=void 0!==wo?wo.length:0,Xt=ze.get(re),nC=_.state.lights;!0!==be||!0!==Ke&&L===I||rt.setState(re,L,L===I&&re.id===N);let ui=!1;re.version===Xt.__version?(Xt.needsLights&&Xt.lightsStateVersion!==nC.state.version||Xt.outputColorSpace!==bt||oe.isInstancedMesh&&!1===Xt.instancing||!oe.isInstancedMesh&&!0===Xt.instancing||oe.isSkinnedMesh&&!1===Xt.skinning||!oe.isSkinnedMesh&&!0===Xt.skinning||oe.isInstancedMesh&&!0===Xt.instancingColor&&null===oe.instanceColor||oe.isInstancedMesh&&!1===Xt.instancingColor&&null!==oe.instanceColor||Xt.envMap!==Mt||!0===re.fog&&Xt.fog!==Ye||void 0!==Xt.numClippingPlanes&&(Xt.numClippingPlanes!==rt.numPlanes||Xt.numIntersection!==rt.numIntersection)||Xt.vertexAlphas!==Ht||Xt.vertexTangents!==Lt||Xt.morphTargets!==Ft||Xt.morphNormals!==ti||Xt.morphColors!==Us||Xt.toneMapping!==Si||!0===Me.isWebGL2&&Xt.morphTargetsCount!==jn)&&(ui=!0):(ui=!0,Xt.__version=re.version);let ol=Xt.currentProgram;!0===ui&&(ol=a_(re,J,oe));let r4=!1,Dh=!1,iC=!1;const ss=ol.getUniforms(),al=Xt.uniforms;if(ye.useProgram(ol.program)&&(r4=!0,Dh=!0,iC=!0),re.id!==N&&(N=re.id,Dh=!0),r4||I!==L){ss.setValue(B,"projectionMatrix",L.projectionMatrix),ss.setValue(B,"viewMatrix",L.matrixWorldInverse);const Hs=ss.map.cameraPosition;void 0!==Hs&&Hs.setValue(B,Ue.setFromMatrixPosition(L.matrixWorld)),Me.logarithmicDepthBuffer&&ss.setValue(B,"logDepthBufFC",2/(Math.log(L.far+1)/Math.LN2)),(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial)&&ss.setValue(B,"isOrthographic",!0===L.isOrthographicCamera),I!==L&&(I=L,Dh=!0,iC=!0)}if(oe.isSkinnedMesh){ss.setOptional(B,oe,"bindMatrix"),ss.setOptional(B,oe,"bindMatrixInverse");const Hs=oe.skeleton;Hs&&(Me.floatVertexTextures?(null===Hs.boneTexture&&Hs.computeBoneTexture(),ss.setValue(B,"boneTexture",Hs.boneTexture,qe),ss.setValue(B,"boneTextureSize",Hs.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const sC=ie.morphAttributes;if((void 0!==sC.position||void 0!==sC.normal||void 0!==sC.color&&!0===Me.isWebGL2)&&U.update(oe,ie,ol),(Dh||Xt.receiveShadow!==oe.receiveShadow)&&(Xt.receiveShadow=oe.receiveShadow,ss.setValue(B,"receiveShadow",oe.receiveShadow)),re.isMeshGouraudMaterial&&null!==re.envMap&&(al.envMap.value=Mt,al.flipEnvMap.value=Mt.isCubeTexture&&!1===Mt.isRenderTargetTexture?-1:1),Dh&&(ss.setValue(B,"toneMappingExposure",w.toneMappingExposure),Xt.needsLights&&function Tge(L,J){L.ambientLightColor.needsUpdate=J,L.lightProbe.needsUpdate=J,L.directionalLights.needsUpdate=J,L.directionalLightShadows.needsUpdate=J,L.pointLights.needsUpdate=J,L.pointLightShadows.needsUpdate=J,L.spotLights.needsUpdate=J,L.spotLightShadows.needsUpdate=J,L.rectAreaLights.needsUpdate=J,L.hemisphereLights.needsUpdate=J}(al,iC),Ye&&!0===re.fog&&Te.refreshFogUniforms(al,Ye),Te.refreshMaterialUniforms(al,re,K,q,Je),Mg.upload(B,i4(Xt),al,qe)),re.isShaderMaterial&&!0===re.uniformsNeedUpdate&&(Mg.upload(B,i4(Xt),al,qe),re.uniformsNeedUpdate=!1),re.isSpriteMaterial&&ss.setValue(B,"center",oe.center),ss.setValue(B,"modelViewMatrix",oe.modelViewMatrix),ss.setValue(B,"normalMatrix",oe.normalMatrix),ss.setValue(B,"modelMatrix",oe.matrixWorld),re.isShaderMaterial||re.isRawShaderMaterial){const Hs=re.uniformsGroups;for(let rC=0,Mge=Hs.length;rC<Mge;rC++)if(Me.isWebGL2){const o4=Hs[rC];ft.update(o4,ol),ft.bind(o4,ol)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ol}(L,J,ie,re,oe);ye.setMaterial(re,ut);let Mt=ie.index,Ht=1;if(!0===re.wireframe){if(Mt=F.getWireframeAttribute(ie),void 0===Mt)return;Ht=2}const Lt=ie.drawRange,Ft=ie.attributes.position;let ti=Lt.start*Ht,Us=(Lt.start+Lt.count)*Ht;null!==Ye&&(ti=Math.max(ti,Ye.start*Ht),Us=Math.min(Us,(Ye.start+Ye.count)*Ht)),null!==Mt?(ti=Math.max(ti,0),Us=Math.min(Us,Mt.count)):null!=Ft&&(ti=Math.max(ti,0),Us=Math.min(Us,Ft.count));const Si=Us-ti;if(Si<0||Si===1/0)return;lt.setup(oe,re,bt,ie,Mt);let wo,jn=Pe;if(null!==Mt&&(wo=Ln.get(Mt),jn=ve,jn.setIndex(wo)),oe.isMesh)!0===re.wireframe?(ye.setLineWidth(re.wireframeLinewidth*pt()),jn.setMode(B.LINES)):jn.setMode(B.TRIANGLES);else if(oe.isLine){let Xt=re.linewidth;void 0===Xt&&(Xt=1),ye.setLineWidth(Xt*pt()),jn.setMode(oe.isLineSegments?B.LINES:oe.isLineLoop?B.LINE_LOOP:B.LINE_STRIP)}else oe.isPoints?jn.setMode(B.POINTS):oe.isSprite&&jn.setMode(B.TRIANGLES);if(oe.isInstancedMesh)jn.renderInstances(ti,Si,oe.count);else if(ie.isInstancedBufferGeometry){const nC=Math.min(ie.instanceCount,void 0!==ie._maxInstanceCount?ie._maxInstanceCount:1/0);jn.renderInstances(ti,Si,nC)}else jn.render(ti,Si)},this.compile=function(L,J,ie=null){null===ie&&(ie=L),_=Ee.get(ie),_.init(),C.push(_),ie.traverseVisible(function(oe){oe.isLight&&oe.layers.test(J.layers)&&(_.pushLight(oe),oe.castShadow&&_.pushShadow(oe))}),L!==ie&&L.traverseVisible(function(oe){oe.isLight&&oe.layers.test(J.layers)&&(_.pushLight(oe),oe.castShadow&&_.pushShadow(oe))}),_.setupLights(w._useLegacyLights);const re=new Set;return L.traverse(function(oe){const Ye=oe.material;if(Ye)if(Array.isArray(Ye))for(let ut=0;ut<Ye.length;ut++){const bt=Ye[ut];ht(bt,ie,oe),re.add(bt)}else ht(Ye,ie,oe),re.add(Ye)}),C.pop(),_=null,re},this.compileAsync=function(L,J,ie=null){const re=this.compile(L,J,ie);return new Promise(oe=>{function Ye(){re.forEach(function(ut){ze.get(ut).currentProgram.isReady()&&re.delete(ut)}),0!==re.size?setTimeout(Ye,10):oe(L)}null!==ue.get("KHR_parallel_shader_compile")?Ye():setTimeout(Ye,10)})};let Kt=null;function nr(){is.stop()}function Dn(){is.start()}const is=new lO;function Br(L,J,ie,re){if(!1===L.visible)return;if(L.layers.test(J.layers))if(L.isGroup)ie=L.renderOrder;else if(L.isLOD)!0===L.autoUpdate&&L.update(J);else if(L.isLight)_.pushLight(L),L.castShadow&&_.pushShadow(L);else if(L.isSprite){if(!L.frustumCulled||we.intersectsSprite(L)){re&&Ue.setFromMatrixPosition(L.matrixWorld).applyMatrix4(He);const ut=A.update(L),bt=L.material;bt.visible&&v.push(L,ut,bt,ie,Ue.z,null)}}else if((L.isMesh||L.isLine||L.isPoints)&&(!L.frustumCulled||we.intersectsObject(L))){const ut=A.update(L),bt=L.material;if(re&&(void 0!==L.boundingSphere?(null===L.boundingSphere&&L.computeBoundingSphere(),Ue.copy(L.boundingSphere.center)):(null===ut.boundingSphere&&ut.computeBoundingSphere(),Ue.copy(ut.boundingSphere.center)),Ue.applyMatrix4(L.matrixWorld).applyMatrix4(He)),Array.isArray(bt)){const Mt=ut.groups;for(let Ht=0,Lt=Mt.length;Ht<Lt;Ht++){const Ft=Mt[Ht],ti=bt[Ft.materialIndex];ti&&ti.visible&&v.push(L,ut,ti,ie,Ue.z,Ft)}}else bt.visible&&v.push(L,ut,bt,ie,Ue.z,null)}const Ye=L.children;for(let ut=0,bt=Ye.length;ut<bt;ut++)Br(Ye[ut],J,ie,re)}function t4(L,J,ie,re){const oe=L.opaque,Ye=L.transmissive,ut=L.transparent;_.setupLightsView(ie),!0===be&&rt.setGlobalState(w.clippingPlanes,ie),Ye.length>0&&function Cge(L,J,ie,re){if(null!==(!0===ie.isScene?ie.overrideMaterial:null))return;const Ye=Me.isWebGL2;null===Je&&(Je=new $a(1,1,{generateMipmaps:!0,type:ue.has("EXT_color_buffer_half_float")?Jd:Zo,minFilter:Va,samples:Ye?4:0})),w.getDrawingBufferSize(mt),Ye?Je.setSize(mt.x,mt.y):Je.setSize(eg(mt.x),eg(mt.y));const ut=w.getRenderTarget();w.setRenderTarget(Je),w.getClearColor(fe),z=w.getClearAlpha(),z<1&&w.setClearColor(16777215,.5),w.clear();const bt=w.toneMapping;w.toneMapping=Ko,o_(L,ie,re),qe.updateMultisampleRenderTarget(Je),qe.updateRenderTargetMipmap(Je);let Mt=!1;for(let Ht=0,Lt=J.length;Ht<Lt;Ht++){const Ft=J[Ht],ti=Ft.object,Us=Ft.geometry,Si=Ft.material,wo=Ft.group;if(2===Si.side&&ti.layers.test(re.layers)){const jn=Si.side;Si.side=1,Si.needsUpdate=!0,n4(ti,ie,re,Us,Si,wo),Si.side=jn,Si.needsUpdate=!0,Mt=!0}}!0===Mt&&(qe.updateMultisampleRenderTarget(Je),qe.updateRenderTargetMipmap(Je)),w.setRenderTarget(ut),w.setClearColor(fe,z),w.toneMapping=bt}(oe,Ye,J,ie),re&&ye.viewport(O.copy(re)),oe.length>0&&o_(oe,J,ie),Ye.length>0&&o_(Ye,J,ie),ut.length>0&&o_(ut,J,ie),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function o_(L,J,ie){const re=!0===J.isScene?J.overrideMaterial:null;for(let oe=0,Ye=L.length;oe<Ye;oe++){const ut=L[oe],bt=ut.object,Mt=ut.geometry,Ht=null===re?ut.material:re,Lt=ut.group;bt.layers.test(ie.layers)&&n4(bt,J,ie,Mt,Ht,Lt)}}function n4(L,J,ie,re,oe,Ye){L.onBeforeRender(w,J,ie,re,oe,Ye),L.modelViewMatrix.multiplyMatrices(ie.matrixWorldInverse,L.matrixWorld),L.normalMatrix.getNormalMatrix(L.modelViewMatrix),oe.onBeforeRender(w,J,ie,re,L,Ye),!0===oe.transparent&&2===oe.side&&!1===oe.forceSinglePass?(oe.side=1,oe.needsUpdate=!0,w.renderBufferDirect(ie,J,re,oe,L,Ye),oe.side=0,oe.needsUpdate=!0,w.renderBufferDirect(ie,J,re,oe,L,Ye),oe.side=2):w.renderBufferDirect(ie,J,re,oe,L,Ye),L.onAfterRender(w,J,ie,re,oe,Ye)}function a_(L,J,ie){!0!==J.isScene&&(J=It);const re=ze.get(L),oe=_.state.lights,ut=oe.state.version,bt=ne.getParameters(L,oe.state,_.state.shadowsArray,J,ie),Mt=ne.getProgramCacheKey(bt);let Ht=re.programs;re.environment=L.isMeshStandardMaterial?J.environment:null,re.fog=J.fog,re.envMap=(L.isMeshStandardMaterial?zt:gt).get(L.envMap||re.environment),void 0===Ht&&(L.addEventListener("dispose",xe),Ht=new Map,re.programs=Ht);let Lt=Ht.get(Mt);if(void 0!==Lt){if(re.currentProgram===Lt&&re.lightsStateVersion===ut)return s4(L,bt),Lt}else bt.uniforms=ne.getUniforms(L),L.onBuild(ie,bt,w),L.onBeforeCompile(bt,w),Lt=ne.acquireProgram(bt,Mt),Ht.set(Mt,Lt),re.uniforms=bt.uniforms;const Ft=re.uniforms;return(!L.isShaderMaterial&&!L.isRawShaderMaterial||!0===L.clipping)&&(Ft.clippingPlanes=rt.uniform),s4(L,bt),re.needsLights=function Sge(L){return L.isMeshLambertMaterial||L.isMeshToonMaterial||L.isMeshPhongMaterial||L.isMeshStandardMaterial||L.isShadowMaterial||L.isShaderMaterial&&!0===L.lights}(L),re.lightsStateVersion=ut,re.needsLights&&(Ft.ambientLightColor.value=oe.state.ambient,Ft.lightProbe.value=oe.state.probe,Ft.directionalLights.value=oe.state.directional,Ft.directionalLightShadows.value=oe.state.directionalShadow,Ft.spotLights.value=oe.state.spot,Ft.spotLightShadows.value=oe.state.spotShadow,Ft.rectAreaLights.value=oe.state.rectArea,Ft.ltc_1.value=oe.state.rectAreaLTC1,Ft.ltc_2.value=oe.state.rectAreaLTC2,Ft.pointLights.value=oe.state.point,Ft.pointLightShadows.value=oe.state.pointShadow,Ft.hemisphereLights.value=oe.state.hemi,Ft.directionalShadowMap.value=oe.state.directionalShadowMap,Ft.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,Ft.spotShadowMap.value=oe.state.spotShadowMap,Ft.spotLightMatrix.value=oe.state.spotLightMatrix,Ft.spotLightMap.value=oe.state.spotLightMap,Ft.pointShadowMap.value=oe.state.pointShadowMap,Ft.pointShadowMatrix.value=oe.state.pointShadowMatrix),re.currentProgram=Lt,re.uniformsList=null,Lt}function i4(L){if(null===L.uniformsList){const J=L.currentProgram.getUniforms();L.uniformsList=Mg.seqWithValue(J.seq,L.uniforms)}return L.uniformsList}function s4(L,J){const ie=ze.get(L);ie.outputColorSpace=J.outputColorSpace,ie.instancing=J.instancing,ie.instancingColor=J.instancingColor,ie.skinning=J.skinning,ie.morphTargets=J.morphTargets,ie.morphNormals=J.morphNormals,ie.morphColors=J.morphColors,ie.morphTargetsCount=J.morphTargetsCount,ie.numClippingPlanes=J.numClippingPlanes,ie.numIntersection=J.numClipIntersection,ie.vertexAlphas=J.vertexAlphas,ie.vertexTangents=J.vertexTangents,ie.toneMapping=J.toneMapping}is.setAnimationLoop(function ci(L){Kt&&Kt(L)}),typeof self<"u"&&is.setContext(self),this.setAnimationLoop=function(L){Kt=L,Xe.setAnimationLoop(L),null===L?is.stop():is.start()},Xe.addEventListener("sessionstart",nr),Xe.addEventListener("sessionend",Dn),this.render=function(L,J){if(void 0===J||!0===J.isCamera){if(!0!==M){if(!0===L.matrixWorldAutoUpdate&&L.updateMatrixWorld(),null===J.parent&&!0===J.matrixWorldAutoUpdate&&J.updateMatrixWorld(),!0===Xe.enabled&&!0===Xe.isPresenting&&(!0===Xe.cameraAutoUpdate&&Xe.updateCamera(J),J=Xe.getCamera()),!0===L.isScene&&L.onBeforeRender(w,L,J,R),_=Ee.get(L,C.length),_.init(),C.push(_),He.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),we.setFromProjectionMatrix(He),Ke=this.localClippingEnabled,be=rt.init(this.clippingPlanes,Ke),v=Ce.get(L,g.length),v.init(),g.push(v),Br(L,J,0,w.sortObjects),v.finish(),!0===w.sortObjects&&v.sort(Q,X),this.info.render.frame++,!0===be&&rt.beginShadows(),Ae.render(_.state.shadowsArray,L,J),!0===be&&rt.endShadows(),!0===this.info.autoReset&&this.info.reset(),Ve.render(v,L),_.setupLights(w._useLegacyLights),J.isArrayCamera){const re=J.cameras;for(let oe=0,Ye=re.length;oe<Ye;oe++){const ut=re[oe];t4(v,L,ut,ut.viewport)}}else t4(v,L,J);null!==R&&(qe.updateMultisampleRenderTarget(R),qe.updateRenderTargetMipmap(R)),!0===L.isScene&&L.onAfterRender(w,L,J),lt.resetDefaultState(),N=-1,I=null,C.pop(),_=C.length>0?C[C.length-1]:null,g.pop(),v=g.length>0?g[g.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(L,J,ie){ze.get(L.texture).__webglTexture=J,ze.get(L.depthTexture).__webglTexture=ie;const re=ze.get(L);re.__hasExternalTextures=!0,re.__hasExternalTextures&&(re.__autoAllocateDepthBuffer=void 0===ie,re.__autoAllocateDepthBuffer||!0===ue.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),re.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(L,J){const ie=ze.get(L);ie.__webglFramebuffer=J,ie.__useDefaultFramebuffer=void 0===J},this.setRenderTarget=function(L,J=0,ie=0){R=L,D=J,P=ie;let re=!0,oe=null,Ye=!1,ut=!1;if(L){const Mt=ze.get(L);void 0!==Mt.__useDefaultFramebuffer?(ye.bindFramebuffer(B.FRAMEBUFFER,null),re=!1):void 0===Mt.__webglFramebuffer?qe.setupRenderTarget(L):Mt.__hasExternalTextures&&qe.rebindTextures(L,ze.get(L.texture).__webglTexture,ze.get(L.depthTexture).__webglTexture);const Ht=L.texture;(Ht.isData3DTexture||Ht.isDataArrayTexture||Ht.isCompressedArrayTexture)&&(ut=!0);const Lt=ze.get(L).__webglFramebuffer;L.isWebGLCubeRenderTarget?(oe=Array.isArray(Lt[J])?Lt[J][ie]:Lt[J],Ye=!0):oe=Me.isWebGL2&&L.samples>0&&!1===qe.useMultisampledRTT(L)?ze.get(L).__webglMultisampledFramebuffer:Array.isArray(Lt)?Lt[ie]:Lt,O.copy(L.viewport),Y.copy(L.scissor),le=L.scissorTest}else O.copy(he).multiplyScalar(K).floor(),Y.copy(_e).multiplyScalar(K).floor(),le=Z;if(ye.bindFramebuffer(B.FRAMEBUFFER,oe)&&Me.drawBuffers&&re&&ye.drawBuffers(L,oe),ye.viewport(O),ye.scissor(Y),ye.setScissorTest(le),Ye){const Mt=ze.get(L.texture);B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_CUBE_MAP_POSITIVE_X+J,Mt.__webglTexture,ie)}else if(ut){const Mt=ze.get(L.texture);B.framebufferTextureLayer(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,Mt.__webglTexture,ie||0,J||0)}N=-1},this.readRenderTargetPixels=function(L,J,ie,re,oe,Ye,ut){if(!L||!L.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let bt=ze.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&void 0!==ut&&(bt=bt[ut]),bt){ye.bindFramebuffer(B.FRAMEBUFFER,bt);try{const Mt=L.texture,Ht=Mt.format,Lt=Mt.type;if(Ht!==Js&&yt.convert(Ht)!==B.getParameter(B.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Ft=Lt===Jd&&(ue.has("EXT_color_buffer_half_float")||Me.isWebGL2&&ue.has("EXT_color_buffer_float"));if(!(Lt===Zo||yt.convert(Lt)===B.getParameter(B.IMPLEMENTATION_COLOR_READ_TYPE)||Lt===ao&&(Me.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float"))||Ft))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");J>=0&&J<=L.width-re&&ie>=0&&ie<=L.height-oe&&B.readPixels(J,ie,re,oe,yt.convert(Ht),yt.convert(Lt),Ye)}finally{const Mt=null!==R?ze.get(R).__webglFramebuffer:null;ye.bindFramebuffer(B.FRAMEBUFFER,Mt)}}},this.copyFramebufferToTexture=function(L,J,ie=0){const re=Math.pow(2,-ie),oe=Math.floor(J.image.width*re),Ye=Math.floor(J.image.height*re);qe.setTexture2D(J,0),B.copyTexSubImage2D(B.TEXTURE_2D,ie,0,0,L.x,L.y,oe,Ye),ye.unbindTexture()},this.copyTextureToTexture=function(L,J,ie,re=0){const oe=J.image.width,Ye=J.image.height,ut=yt.convert(ie.format),bt=yt.convert(ie.type);qe.setTexture2D(ie,0),B.pixelStorei(B.UNPACK_FLIP_Y_WEBGL,ie.flipY),B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),B.pixelStorei(B.UNPACK_ALIGNMENT,ie.unpackAlignment),J.isDataTexture?B.texSubImage2D(B.TEXTURE_2D,re,L.x,L.y,oe,Ye,ut,bt,J.image.data):J.isCompressedTexture?B.compressedTexSubImage2D(B.TEXTURE_2D,re,L.x,L.y,J.mipmaps[0].width,J.mipmaps[0].height,ut,J.mipmaps[0].data):B.texSubImage2D(B.TEXTURE_2D,re,L.x,L.y,ut,bt,J.image),0===re&&ie.generateMipmaps&&B.generateMipmap(B.TEXTURE_2D),ye.unbindTexture()},this.copyTextureToTexture3D=function(L,J,ie,re,oe=0){if(w.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Ye=L.max.x-L.min.x+1,ut=L.max.y-L.min.y+1,bt=L.max.z-L.min.z+1,Mt=yt.convert(re.format),Ht=yt.convert(re.type);let Lt;if(re.isData3DTexture)qe.setTexture3D(re,0),Lt=B.TEXTURE_3D;else{if(!re.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");qe.setTexture2DArray(re,0),Lt=B.TEXTURE_2D_ARRAY}B.pixelStorei(B.UNPACK_FLIP_Y_WEBGL,re.flipY),B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),B.pixelStorei(B.UNPACK_ALIGNMENT,re.unpackAlignment);const Ft=B.getParameter(B.UNPACK_ROW_LENGTH),ti=B.getParameter(B.UNPACK_IMAGE_HEIGHT),Us=B.getParameter(B.UNPACK_SKIP_PIXELS),Si=B.getParameter(B.UNPACK_SKIP_ROWS),wo=B.getParameter(B.UNPACK_SKIP_IMAGES),jn=ie.isCompressedTexture?ie.mipmaps[0]:ie.image;B.pixelStorei(B.UNPACK_ROW_LENGTH,jn.width),B.pixelStorei(B.UNPACK_IMAGE_HEIGHT,jn.height),B.pixelStorei(B.UNPACK_SKIP_PIXELS,L.min.x),B.pixelStorei(B.UNPACK_SKIP_ROWS,L.min.y),B.pixelStorei(B.UNPACK_SKIP_IMAGES,L.min.z),ie.isDataTexture||ie.isData3DTexture?B.texSubImage3D(Lt,oe,J.x,J.y,J.z,Ye,ut,bt,Mt,Ht,jn.data):ie.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),B.compressedTexSubImage3D(Lt,oe,J.x,J.y,J.z,Ye,ut,bt,Mt,jn.data)):B.texSubImage3D(Lt,oe,J.x,J.y,J.z,Ye,ut,bt,Mt,Ht,jn),B.pixelStorei(B.UNPACK_ROW_LENGTH,Ft),B.pixelStorei(B.UNPACK_IMAGE_HEIGHT,ti),B.pixelStorei(B.UNPACK_SKIP_PIXELS,Us),B.pixelStorei(B.UNPACK_SKIP_ROWS,Si),B.pixelStorei(B.UNPACK_SKIP_IMAGES,wo),0===oe&&re.generateMipmaps&&B.generateMipmap(Lt),ye.unbindTexture()},this.initTexture=function(L){L.isCubeTexture?qe.setTextureCube(L,0):L.isData3DTexture?qe.setTexture3D(L,0):L.isDataArrayTexture||L.isCompressedArrayTexture?qe.setTexture2DArray(L,0):qe.setTexture2D(L,0),ye.unbindTexture()},this.resetState=function(){D=0,P=0,R=null,ye.reset(),lt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return co}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Fb?"display-p3":"srgb",t.unpackColorSpace=bn.workingColorSpace===Ym?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Ci?Ha:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Ha?Ci:lo}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}(class ape extends NO{}).prototype.isWebGL1Renderer=!0;class VO extends ys{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class ws extends Wc{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new je(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const eL=new k,tL=new k,nL=new Pt,Cw=new Bc,Og=new Lr;class _h extends ys{constructor(e=new jt,t=new ws){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let s=1,r=t.count;s<r;s++)eL.fromBufferAttribute(t,s-1),tL.fromBufferAttribute(t,s),n[s]=n[s-1],n[s]+=eL.distanceTo(tL);e.setAttribute("lineDistance",new it(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Og.copy(n.boundingSphere),Og.applyMatrix4(s),Og.radius+=r,!1===e.ray.intersectsSphere(Og))return;nL.copy(s).invert(),Cw.copy(e.ray).applyMatrix4(nL);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new k,u=new k,h=new k,p=new k,f=this.isLineSegments?2:1,m=n.index,_=n.attributes.position;if(null!==m)for(let w=Math.max(0,o.start),M=Math.min(m.count,o.start+o.count)-1;w<M;w+=f){const D=m.getX(w),P=m.getX(w+1);if(c.fromBufferAttribute(_,D),u.fromBufferAttribute(_,P),Cw.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const N=e.ray.origin.distanceTo(p);N<e.near||N>e.far||t.push({distance:N,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}else for(let w=Math.max(0,o.start),M=Math.min(_.count,o.start+o.count)-1;w<M;w+=f){if(c.fromBufferAttribute(_,w),u.fromBufferAttribute(_,w+1),Cw.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}const iL=new k,sL=new k;class vh extends _h{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let s=0,r=t.count;s<r;s+=2)iL.fromBufferAttribute(t,s),sL.fromBufferAttribute(t,s+1),n[s]=0===s?0:n[s-1],n[s+1]=n[s]+iL.distanceTo(sL);e.setAttribute("lineDistance",new it(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Qa extends jt{constructor(e=[],t=[],n=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:s};const r=[],o=[];function l(C,w,M,D){const P=D+1,R=[];for(let N=0;N<=P;N++){R[N]=[];const I=C.clone().lerp(M,N/P),O=w.clone().lerp(M,N/P),Y=P-N;for(let le=0;le<=Y;le++)R[N][le]=0===le&&N===P?I:I.clone().lerp(O,le/Y)}for(let N=0;N<P;N++)for(let I=0;I<2*(P-N)-1;I++){const O=Math.floor(I/2);I%2==0?(p(R[N][O+1]),p(R[N+1][O]),p(R[N][O])):(p(R[N][O+1]),p(R[N+1][O+1]),p(R[N+1][O]))}}function p(C){r.push(C.x,C.y,C.z)}function f(C,w){const M=3*C;w.x=e[M+0],w.y=e[M+1],w.z=e[M+2]}function v(C,w,M,D){D<0&&1===C.x&&(o[w]=C.x-1),0===M.x&&0===M.z&&(o[w]=D/2/Math.PI+.5)}function _(C){return Math.atan2(C.z,-C.x)}function g(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}(function a(C){const w=new k,M=new k,D=new k;for(let P=0;P<t.length;P+=3)f(t[P+0],w),f(t[P+1],M),f(t[P+2],D),l(w,M,D,C)})(s),function c(C){const w=new k;for(let M=0;M<r.length;M+=3)w.x=r[M+0],w.y=r[M+1],w.z=r[M+2],w.normalize().multiplyScalar(C),r[M+0]=w.x,r[M+1]=w.y,r[M+2]=w.z}(n),function u(){const C=new k;for(let w=0;w<r.length;w+=3){C.x=r[w+0],C.y=r[w+1],C.z=r[w+2];const M=_(C)/2/Math.PI+.5,D=g(C)/Math.PI+.5;o.push(M,1-D)}(function m(){const C=new k,w=new k,M=new k,D=new k,P=new de,R=new de,N=new de;for(let I=0,O=0;I<r.length;I+=9,O+=6){C.set(r[I+0],r[I+1],r[I+2]),w.set(r[I+3],r[I+4],r[I+5]),M.set(r[I+6],r[I+7],r[I+8]),P.set(o[O+0],o[O+1]),R.set(o[O+2],o[O+3]),N.set(o[O+4],o[O+5]),D.copy(C).add(w).add(M).divideScalar(3);const Y=_(D);v(P,O+0,C,Y),v(R,O+2,w,Y),v(N,O+4,M,Y)}})(),function h(){for(let C=0;C<o.length;C+=6){const w=o[C+0],M=o[C+2],D=o[C+4],P=Math.max(w,M,D),R=Math.min(w,M,D);P>.9&&R<.1&&(w<.2&&(o[C+0]+=1),M<.2&&(o[C+2]+=1),D<.2&&(o[C+4]+=1))}}()}(),this.setAttribute("position",new it(r,3)),this.setAttribute("normal",new it(r.slice(),3)),this.setAttribute("uv",new it(o,2)),0===s?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qa(e.vertices,e.indices,e.radius,e.details)}}const Ug=new k,Hg=new k,Ow=new k,zg=new Vs;class Lw extends jt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const s=Math.pow(10,4),r=Math.cos(Wa*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),p={},f=[];for(let m=0;m<l;m+=3){o?(c[0]=o.getX(m),c[1]=o.getX(m+1),c[2]=o.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:v,b:_,c:g}=zg;if(v.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),zg.getNormal(Ow),h[0]=`${Math.round(v.x*s)},${Math.round(v.y*s)},${Math.round(v.z*s)}`,h[1]=`${Math.round(_.x*s)},${Math.round(_.y*s)},${Math.round(_.z*s)}`,h[2]=`${Math.round(g.x*s)},${Math.round(g.y*s)},${Math.round(g.z*s)}`,h[0]!==h[1]&&h[1]!==h[2]&&h[2]!==h[0])for(let C=0;C<3;C++){const w=(C+1)%3,M=h[C],D=h[w],P=zg[u[C]],R=zg[u[w]],N=`${M}_${D}`,I=`${D}_${M}`;I in p&&p[I]?(Ow.dot(p[I].normal)<=r&&(f.push(P.x,P.y,P.z),f.push(R.x,R.y,R.z)),p[I]=null):N in p||(p[N]={index0:c[C],index1:c[w],normal:Ow.clone()})}}for(const m in p)if(p[m]){const{index0:v,index1:_}=p[m];Ug.fromBufferAttribute(a,v),Hg.fromBufferAttribute(a,_),f.push(Ug.x,Ug.y,Ug.z),f.push(Hg.x,Hg.y,Hg.z)}this.setAttribute("position",new it(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Sh extends jt{constructor(e=1,t=32,n=16,s=0,r=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:s,phiLength:r,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new k,p=new k,f=[],m=[],v=[],_=[];for(let g=0;g<=n;g++){const C=[],w=g/n;let M=0;0===g&&0===o?M=.5/t:g===n&&l===Math.PI&&(M=-.5/t);for(let D=0;D<=t;D++){const P=D/t;h.x=-e*Math.cos(s+P*r)*Math.sin(o+w*a),h.y=e*Math.cos(o+w*a),h.z=e*Math.sin(s+P*r)*Math.sin(o+w*a),m.push(h.x,h.y,h.z),p.copy(h).normalize(),v.push(p.x,p.y,p.z),_.push(P+M,1-w),C.push(c++)}u.push(C)}for(let g=0;g<n;g++)for(let C=0;C<t;C++){const M=u[g][C],D=u[g+1][C],P=u[g+1][C+1];(0!==g||o>0)&&f.push(u[g][C+1],M,P),(g!==n-1||l<Math.PI)&&f.push(M,D,P)}this.setIndex(f),this.setAttribute("position",new it(m,3)),this.setAttribute("normal",new it(v,3)),this.setAttribute("uv",new it(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Mh extends Qa{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Mh(e.radius,e.detail)}}function el(i,e,t){return!i||!t&&i.constructor===e?i:"number"==typeof e.BYTES_PER_ELEMENT?new e(i):Array.prototype.slice.call(i)}class qg{constructor(e,t,n,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,s=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<s)){for(let a=n+2;;){if(void 0===s){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(r=s,s=t[++n],e<s)break t}o=t.length;break n}if(e>=r)break e;{const a=t[1];e<a&&(n=2,r=a);for(let l=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(s=r,r=t[--n-1],e>=r)break t}o=n,n=0}}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(s=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===s)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,s)}return this.interpolate_(n,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,s=this.valueSize,r=e*s;for(let o=0;o!==s;++o)t[o]=n[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cfe extends qg{constructor(e,t,n,s){super(e,t,n,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,n){const s=this.parameterPositions;let r=e-2,o=e+1,a=s[r],l=s[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:r=e,a=2*t-n;break;case 2402:r=s.length-2,a=t+s[r]-s[r+1];break;default:r=e,a=n}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*n-t;break;case 2402:o=1,l=n+s[1]-s[0];break;default:o=e-1,l=t}const c=.5*(n-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-n),this._offsetPrev=r*u,this._offsetNext=o*u}interpolate_(e,t,n,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,f=this._weightNext,m=(n-t)/(s-t),v=m*m,_=v*m,g=-p*_+2*p*v-p*m,C=(1+p)*_+(-1.5-2*p)*v+(-.5+p)*m+1,w=(-1-f)*_+(1.5+f)*v+.5*m,M=f*_-f*v;for(let D=0;D!==a;++D)r[D]=g*o[u+D]+C*o[c+D]+w*o[l+D]+M*o[h+D];return r}}class TL extends qg{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e,t,n,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(n-t)/(s-t),h=1-u;for(let p=0;p!==a;++p)r[p]=o[c+p]*h+o[l+p]*u;return r}}class ufe extends qg{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Vr{constructor(e,t,n,s){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=el(t,this.TimeBufferType),this.values=el(n,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:el(e.times,Array),values:el(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(n.interpolation=s)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new ufe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new TL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new cfe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,s=t.length;n!==s;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,s=t.length;n!==s;++n)t[n]*=e}return this}trim(e,t){const n=this.times,s=n.length;let r=0,o=s-1;for(;r!==s&&n[r]<e;)++r;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==r||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=n.slice(r,o),this.values=this.values.slice(r*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,s=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){const l=n[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==s&&function CL(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}(s))for(let a=0,l=s.length;a!==l;++a){const c=s[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),s=2302===this.getInterpolation(),r=e.length-1;let o=1;for(let a=1;a<r;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(s)l=!0;else{const h=a*n,p=h-n,f=h+n;for(let m=0;m!==n;++m){const v=t[h+m];if(v!==t[p+m]||v!==t[f+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*n,p=o*n;for(let f=0;f!==n;++f)t[p+f]=t[h+f]}++o}}if(r>0){e[o]=e[r];for(let a=r*n,l=o*n,c=0;c!==n;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),s=new(0,this.constructor)(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}Vr.prototype.TimeBufferType=Float32Array,Vr.prototype.ValueBufferType=Float32Array,Vr.prototype.DefaultInterpolation=2301;class cu extends Vr{}cu.prototype.ValueTypeName="bool",cu.prototype.ValueBufferType=Array,cu.prototype.DefaultInterpolation=2300,cu.prototype.InterpolantFactoryMethodLinear=void 0,cu.prototype.InterpolantFactoryMethodSmooth=void 0;(class SL extends Vr{}).prototype.ValueTypeName="color";(class Yg extends Vr{}).prototype.ValueTypeName="number";class dfe extends qg{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e,t,n,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(n-t)/(s-t);let c=e*a;for(let u=c+a;c!==u;c+=4)es.slerpFlat(r,0,o,c-a,o,c,l);return r}}class Eh extends Vr{InterpolantFactoryMethodLinear(e){return new dfe(this.times,this.values,this.getValueSize(),e)}}Eh.prototype.ValueTypeName="quaternion",Eh.prototype.DefaultInterpolation=2301,Eh.prototype.InterpolantFactoryMethodSmooth=void 0;class uu extends Vr{}uu.prototype.ValueTypeName="string",uu.prototype.ValueBufferType=Array,uu.prototype.DefaultInterpolation=2300,uu.prototype.InterpolantFactoryMethodLinear=void 0,uu.prototype.InterpolantFactoryMethodSmooth=void 0;(class Kg extends Vr{}).prototype.ValueTypeName="vector";class mfe extends ys{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new je(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const jw=new Pt,EL=new k,IL=new k;class _fe{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new de(512,512),this.map=null,this.mapPass=null,this.matrix=new Pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ow,this._frameExtents=new de(1,1),this._viewportCount=1,this._viewports=[new wn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;EL.setFromMatrixPosition(e.matrixWorld),t.position.copy(EL),IL.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(IL),t.updateMatrixWorld(),jw.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jw),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(jw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const DL=new Pt,Ih=new k,qw=new k;class bfe extends _fe{constructor(){super(new Oi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new de(4,2),this._viewportCount=6,this._viewports=[new wn(2,1,1,1),new wn(0,1,1,1),new wn(3,1,1,1),new wn(1,1,1,1),new wn(3,0,1,1),new wn(1,0,1,1)],this._cubeDirections=[new k(1,0,0),new k(-1,0,0),new k(0,0,1),new k(0,0,-1),new k(0,1,0),new k(0,-1,0)],this._cubeUps=[new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,0,1),new k(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,s=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),Ih.setFromMatrixPosition(e.matrixWorld),n.position.copy(Ih),qw.copy(n.position),qw.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(qw),n.updateMatrixWorld(),s.makeTranslation(-Ih.x,-Ih.y,-Ih.z),DL.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DL)}}class Yw extends mfe{constructor(e,t,n=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=s,this.shadow=new bfe}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}const Xw="\\[\\]\\.:\\/",Lfe=new RegExp("["+Xw+"]","g"),Zw="[^"+Xw+"]",kfe="[^"+Xw.replace("\\.","")+"]",Ufe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Zw)+/(WCOD+)?/.source.replace("WCOD",kfe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Zw)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Zw)+"$"),Hfe=["material","materials","bones","map"];class zfe{constructor(e,t,n){const s=n||Pn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const s=this._bindings[this._targetGroup.nCachedObjects_];void 0!==s&&s.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=n.length;s!==r;++s)n[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}let Pn=(()=>{class i{constructor(t,n,s){this.path=n,this.parsedPath=s||i.parseTrackName(n),this.node=i.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,n,s){return t&&t.isAnimationObjectGroup?new i.Composite(t,n,s):new i(t,n,s)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Lfe,"")}static parseTrackName(t){const n=Ufe.exec(t);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const s={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=s.nodeName&&s.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const o=s.nodeName.substring(r+1);-1!==Hfe.indexOf(o)&&(s.nodeName=s.nodeName.substring(0,r),s.objectName=o)}if(null===s.propertyName||0===s.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return s}static findNode(t,n){if(void 0===n||""===n||"."===n||-1===n||n===t.name||n===t.uuid)return t;if(t.skeleton){const s=t.skeleton.getBoneByName(n);if(void 0!==s)return s}if(t.children){const s=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===n||l.uuid===n)return l;const c=s(l.children);if(c)return c}return null},r=s(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,n){t[n]=this.targetObject[this.propertyName]}_getValue_array(t,n){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)t[n++]=s[r]}_getValue_arrayElement(t,n){t[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,n){this.resolvedProperty.toArray(t,n)}_setValue_direct(t,n){this.targetObject[this.propertyName]=t[n]}_setValue_direct_setNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,n){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=t[n++]}_setValue_array_setNeedsUpdate(t,n){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=t[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,n){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,n){this.resolvedProperty[this.propertyIndex]=t[n]}_setValue_arrayElement_setNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,n){this.resolvedProperty.fromArray(t,n)}_setValue_fromArray_setNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,n){this.bind(),this.getValue(t,n)}_setValue_unbound(t,n){this.bind(),this.setValue(t,n)}bind(){let t=this.node;const n=this.parsedPath,s=n.objectName,r=n.propertyName;let o=n.propertyIndex;if(t||(t=i.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(s){let u=n.objectIndex;switch(s){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let h=0;h<t.length;h++)if(t[h].name===u){u=h;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[s])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[s]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[r];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+r+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=zfe,i})();Pn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Pn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Pn.prototype.GetterByBindingType=[Pn.prototype._getValue_direct,Pn.prototype._getValue_array,Pn.prototype._getValue_arrayElement,Pn.prototype._getValue_toArray],Pn.prototype.SetterByBindingTypeAndVersioning=[[Pn.prototype._setValue_direct,Pn.prototype._setValue_direct_setNeedsUpdate,Pn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pn.prototype._setValue_array,Pn.prototype._setValue_array_setNeedsUpdate,Pn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pn.prototype._setValue_arrayElement,Pn.prototype._setValue_arrayElement_setNeedsUpdate,Pn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pn.prototype._setValue_fromArray,Pn.prototype._setValue_fromArray_setNeedsUpdate,Pn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class HL{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Wn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class qfe extends vh{constructor(e=10,t=10,n=4473924,s=8947848){n=new je(n),s=new je(s);const r=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,f=0,m=-a;p<=t;p++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const v=p===r?n:s;v.toArray(c,f),f+=3,v.toArray(c,f),f+=3,v.toArray(c,f),f+=3,v.toArray(c,f),f+=3}const u=new jt;u.setAttribute("position",new it(l,3)),u.setAttribute("color",new it(c,3)),super(u,new ws({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Yfe extends vh{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],s=new jt;s.setAttribute("position",new it(t,3)),s.setAttribute("color",new it([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(s,new ws({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const s=new je,r=this.geometry.attributes.color.array;return s.set(e),s.toArray(r,0),s.toArray(r,3),s.set(t),s.toArray(r,6),s.toArray(r,9),s.set(n),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"158"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="158");const ZL={type:"change"},tC={type:"start"},QL={type:"end"},r_=new Bc,JL=new oa,Kfe=Math.cos(70*Nle_DEG2RAD);class Xfe extends Ga{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new k,this.cursor=new k,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(U){U.addEventListener("keydown",A),this._domElementKeyEvents=U},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",A),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(ZL),n.update(),r=s.NONE},this.update=function(){const U=new k,Pe=(new es).setFromUnitVectors(e.up,new k(0,1,0)),ve=Pe.clone().invert(),yt=new k,lt=new es,ft=new k,at=2*Math.PI;return function(Yt=null){const W=n.object.position;U.copy(W).sub(n.target),U.applyQuaternion(Pe),a.setFromVector3(U),n.autoRotate&&r===s.NONE&&Y(function I(U){return null!==U?2*Math.PI/60*n.autoRotateSpeed*U:2*Math.PI/60/60*n.autoRotateSpeed}(Yt)),n.enableDamping?(a.theta+=l.theta*n.dampingFactor,a.phi+=l.phi*n.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let ke=n.minAzimuthAngle,xe=n.maxAzimuthAngle;isFinite(ke)&&isFinite(xe)&&(ke<-Math.PI?ke+=at:ke>Math.PI&&(ke-=at),xe<-Math.PI?xe+=at:xe>Math.PI&&(xe-=at),a.theta=ke<=xe?Math.max(ke,Math.min(xe,a.theta)):a.theta>(ke+xe)/2?Math.max(ke,a.theta):Math.min(xe,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(u,n.dampingFactor):n.target.add(u),n.target.sub(n.cursor),n.target.clampLength(n.minTargetRadius,n.maxTargetRadius),n.target.add(n.cursor),a.radius=X(n.zoomToCursor&&P||n.object.isOrthographicCamera?a.radius:a.radius*c),U.setFromSpherical(a),U.applyQuaternion(ve),W.copy(n.target).add(U),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,u.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),u.set(0,0,0));let ce=!1;if(n.zoomToCursor&&P){let De=null;if(n.object.isPerspectiveCamera){const ht=U.length();De=X(ht*c),n.object.position.addScaledVector(M,ht-De),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const ht=new k(D.x,D.y,0);ht.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/c)),n.object.updateProjectionMatrix(),ce=!0;const Kt=new k(D.x,D.y,0);Kt.unproject(n.object),n.object.position.sub(Kt).add(ht),n.object.updateMatrixWorld(),De=U.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==De&&(this.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(De).add(n.object.position):(r_.origin.copy(n.object.position),r_.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(r_.direction))<Kfe?e.lookAt(n.target):(JL.setFromNormalAndCoplanarPoint(n.object.up,n.target),r_.intersectPlane(JL,n.target))))}else n.object.isOrthographicCamera&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/c)),n.object.updateProjectionMatrix(),ce=!0);return c=1,P=!1,!!(ce||yt.distanceToSquared(n.object.position)>o||8*(1-lt.dot(n.object.quaternion))>o||ft.distanceToSquared(n.target)>0)&&(n.dispatchEvent(ZL),yt.copy(n.object.position),lt.copy(n.object.quaternion),ft.copy(n.target),ce=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Ce),n.domElement.removeEventListener("pointerdown",ze),n.domElement.removeEventListener("pointercancel",gt),n.domElement.removeEventListener("wheel",F),n.domElement.removeEventListener("pointermove",qe),n.domElement.removeEventListener("pointerup",gt),null!==n._domElementKeyEvents&&(n._domElementKeyEvents.removeEventListener("keydown",A),n._domElementKeyEvents=null)};const n=this,s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=s.NONE;const o=1e-6,a=new HL,l=new HL;let c=1;const u=new k,h=new de,p=new de,f=new de,m=new de,v=new de,_=new de,g=new de,C=new de,w=new de,M=new k,D=new de;let P=!1;const R=[],N={};function O(){return Math.pow(.95,n.zoomSpeed)}function Y(U){l.theta-=U}function le(U){l.phi-=U}const fe=function(){const U=new k;return function(ve,yt){U.setFromMatrixColumn(yt,0),U.multiplyScalar(-ve),u.add(U)}}(),z=function(){const U=new k;return function(ve,yt){!0===n.screenSpacePanning?U.setFromMatrixColumn(yt,1):(U.setFromMatrixColumn(yt,0),U.crossVectors(n.object.up,U)),U.multiplyScalar(ve),u.add(U)}}(),te=function(){const U=new k;return function(ve,yt){const lt=n.domElement;if(n.object.isPerspectiveCamera){U.copy(n.object.position).sub(n.target);let at=U.length();at*=Math.tan(n.object.fov/2*Math.PI/180),fe(2*ve*at/lt.clientHeight,n.object.matrix),z(2*yt*at/lt.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(fe(ve*(n.object.right-n.object.left)/n.object.zoom/lt.clientWidth,n.object.matrix),z(yt*(n.object.top-n.object.bottom)/n.object.zoom/lt.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function q(U){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?c/=U:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function K(U){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?c*=U:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Q(U){if(!n.zoomToCursor)return;P=!0;const Pe=n.domElement.getBoundingClientRect(),yt=U.clientY-Pe.top,ft=Pe.height;D.x=(U.clientX-Pe.left)/Pe.width*2-1,D.y=-yt/ft*2+1,M.set(D.x,D.y,1).unproject(n.object).sub(n.object.position).normalize()}function X(U){return Math.max(n.minDistance,Math.min(n.maxDistance,U))}function he(U){h.set(U.clientX,U.clientY)}function Z(U){m.set(U.clientX,U.clientY)}function mt(){1===R.length?h.set(R[0].pageX,R[0].pageY):h.set(.5*(R[0].pageX+R[1].pageX),.5*(R[0].pageY+R[1].pageY))}function Ue(){1===R.length?m.set(R[0].pageX,R[0].pageY):m.set(.5*(R[0].pageX+R[1].pageX),.5*(R[0].pageY+R[1].pageY))}function It(){const U=R[0].pageX-R[1].pageX,Pe=R[0].pageY-R[1].pageY,ve=Math.sqrt(U*U+Pe*Pe);g.set(0,ve)}function Re(U){if(1==R.length)p.set(U.pageX,U.pageY);else{const ve=Ve(U);p.set(.5*(U.pageX+ve.x),.5*(U.pageY+ve.y))}f.subVectors(p,h).multiplyScalar(n.rotateSpeed);const Pe=n.domElement;Y(2*Math.PI*f.x/Pe.clientHeight),le(2*Math.PI*f.y/Pe.clientHeight),h.copy(p)}function ue(U){if(1===R.length)v.set(U.pageX,U.pageY);else{const Pe=Ve(U);v.set(.5*(U.pageX+Pe.x),.5*(U.pageY+Pe.y))}_.subVectors(v,m).multiplyScalar(n.panSpeed),te(_.x,_.y),m.copy(v)}function Me(U){const Pe=Ve(U),ve=U.pageX-Pe.x,yt=U.pageY-Pe.y,lt=Math.sqrt(ve*ve+yt*yt);C.set(0,lt),w.set(0,Math.pow(C.y/g.y,n.zoomSpeed)),q(w.y),g.copy(C)}function ze(U){!1!==n.enabled&&(0===R.length&&(n.domElement.setPointerCapture(U.pointerId),n.domElement.addEventListener("pointermove",qe),n.domElement.addEventListener("pointerup",gt)),function Ee(U){R.push(U)}(U),"touch"===U.pointerType?function ne(U){switch(Ae(U),R.length){case 1:switch(n.touches.ONE){case 0:if(!1===n.enableRotate)return;mt(),r=s.TOUCH_ROTATE;break;case 1:if(!1===n.enablePan)return;Ue(),r=s.TOUCH_PAN;break;default:r=s.NONE}break;case 2:switch(n.touches.TWO){case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;(function pt(){n.enableZoom&&It(),n.enablePan&&Ue()})(),r=s.TOUCH_DOLLY_PAN;break;case 3:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function B(){n.enableZoom&&It(),n.enableRotate&&mt()})(),r=s.TOUCH_DOLLY_ROTATE;break;default:r=s.NONE}break;default:r=s.NONE}r!==s.NONE&&n.dispatchEvent(tC)}(U):function zt(U){let Pe;switch(U.button){case 0:Pe=n.mouseButtons.LEFT;break;case 1:Pe=n.mouseButtons.MIDDLE;break;case 2:Pe=n.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case 1:if(!1===n.enableZoom)return;(function _e(U){Q(U),g.set(U.clientX,U.clientY)})(U),r=s.DOLLY;break;case 0:if(U.ctrlKey||U.metaKey||U.shiftKey){if(!1===n.enablePan)return;Z(U),r=s.PAN}else{if(!1===n.enableRotate)return;he(U),r=s.ROTATE}break;case 2:if(U.ctrlKey||U.metaKey||U.shiftKey){if(!1===n.enableRotate)return;he(U),r=s.ROTATE}else{if(!1===n.enablePan)return;Z(U),r=s.PAN}break;default:r=s.NONE}r!==s.NONE&&n.dispatchEvent(tC)}(U))}function qe(U){!1!==n.enabled&&("touch"===U.pointerType?function Te(U){switch(Ae(U),r){case s.TOUCH_ROTATE:if(!1===n.enableRotate)return;Re(U),n.update();break;case s.TOUCH_PAN:if(!1===n.enablePan)return;ue(U),n.update();break;case s.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function ye(U){n.enableZoom&&Me(U),n.enablePan&&ue(U)})(U),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function ct(U){n.enableZoom&&Me(U),n.enableRotate&&Re(U)})(U),n.update();break;default:r=s.NONE}}(U):function Ln(U){switch(r){case s.ROTATE:if(!1===n.enableRotate)return;!function we(U){p.set(U.clientX,U.clientY),f.subVectors(p,h).multiplyScalar(n.rotateSpeed);const Pe=n.domElement;Y(2*Math.PI*f.x/Pe.clientHeight),le(2*Math.PI*f.y/Pe.clientHeight),h.copy(p),n.update()}(U);break;case s.DOLLY:if(!1===n.enableZoom)return;!function be(U){C.set(U.clientX,U.clientY),w.subVectors(C,g),w.y>0?q(O()):w.y<0&&K(O()),g.copy(C),n.update()}(U);break;case s.PAN:if(!1===n.enablePan)return;!function Ke(U){v.set(U.clientX,U.clientY),_.subVectors(v,m).multiplyScalar(n.panSpeed),te(_.x,_.y),m.copy(v),n.update()}(U)}}(U))}function gt(U){(function rt(U){delete N[U.pointerId];for(let Pe=0;Pe<R.length;Pe++)if(R[Pe].pointerId==U.pointerId)return void R.splice(Pe,1)})(U),0===R.length&&(n.domElement.releasePointerCapture(U.pointerId),n.domElement.removeEventListener("pointermove",qe),n.domElement.removeEventListener("pointerup",gt)),n.dispatchEvent(QL),r=s.NONE}function F(U){!1===n.enabled||!1===n.enableZoom||r!==s.NONE||(U.preventDefault(),n.dispatchEvent(tC),function Je(U){Q(U),U.deltaY<0?K(O()):U.deltaY>0&&q(O()),n.update()}(U),n.dispatchEvent(QL))}function A(U){!1===n.enabled||!1===n.enablePan||function He(U){let Pe=!1;switch(U.code){case n.keys.UP:U.ctrlKey||U.metaKey||U.shiftKey?le(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):te(0,n.keyPanSpeed),Pe=!0;break;case n.keys.BOTTOM:U.ctrlKey||U.metaKey||U.shiftKey?le(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):te(0,-n.keyPanSpeed),Pe=!0;break;case n.keys.LEFT:U.ctrlKey||U.metaKey||U.shiftKey?Y(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):te(n.keyPanSpeed,0),Pe=!0;break;case n.keys.RIGHT:U.ctrlKey||U.metaKey||U.shiftKey?Y(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):te(-n.keyPanSpeed,0),Pe=!0}Pe&&(U.preventDefault(),n.update())}(U)}function Ce(U){!1!==n.enabled&&U.preventDefault()}function Ae(U){let Pe=N[U.pointerId];void 0===Pe&&(Pe=new de,N[U.pointerId]=Pe),Pe.set(U.pageX,U.pageY)}function Ve(U){return N[(U.pointerId===R[0].pointerId?R[1]:R[0]).pointerId]}n.domElement.addEventListener("contextmenu",Ce),n.domElement.addEventListener("pointerdown",ze),n.domElement.addEventListener("pointercancel",gt),n.domElement.addEventListener("wheel",F,{passive:!1}),this.update()}}let Zfe=(()=>{var i;class e{constructor(n){this.formBuilder=n,this.nivelRiesgo=[{name:"I",value:20},{name:"II",value:30},{name:"III",value:45},{name:"IV",value:55}]}build(){return this.formBuilder.group({bloques:this.formBuilder.array([]),nivelRiesgo:[null,$t.required]})}bluidBloques(){return this.formBuilder.group({ancho:[null,$t.required],largo:[null,$t.required],alto:[null,$t.required],longitudPunta:[null,$t.required]})}}return(i=e).\u0275fac=function(n){return new(n||i)(et(oP))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();const Qfe=["canvas"];function Jfe(i,e){1&i&&Ie(0)}function eme(i,e){1&i&&Ie(0)}function tme(i,e){1&i&&Ie(0)}function nme(i,e){1&i&&(S(0,"small",25),H(1," Campo invalido "),E())}function ime(i,e){1&i&&(S(0,"tr")(1,"th"),H(2,"Altura"),E(),S(3,"th"),H(4,"Largo"),E(),S(5,"th"),H(6,"Ancho"),E(),S(7,"th"),H(8,"Longitud de la punta de captaci\xf3n"),E()())}function sme(i,e){1&i&&(S(0,"small",25),H(1," Campo invalido "),E())}function rme(i,e){1&i&&(S(0,"small",25),H(1," Campo invalido "),E())}function ome(i,e){1&i&&(S(0,"small",25),H(1," Campo invalido "),E())}function ame(i,e){1&i&&(S(0,"small",25),H(1," Campo invalido "),E())}function lme(i,e){if(1&i&&(S(0,"tr",9)(1,"td",26)(2,"div",27),ee(3,"p-inputNumber",28),S(4,"span",29),H(5,"m"),E()(),x(6,sme,2,0,"small",18),E(),S(7,"td",26)(8,"div",27),ee(9,"p-inputNumber",30),S(10,"span",29),H(11,"m"),E()(),x(12,rme,2,0,"small",18),E(),S(13,"td",26)(14,"div",27),ee(15,"p-inputNumber",31),S(16,"span",29),H(17,"m"),E()(),x(18,ome,2,0,"small",18),E(),S(19,"td",26)(20,"div",27),ee(21,"p-inputNumber",32),S(22,"span",29),H(23,"m"),E()(),x(24,ame,2,0,"small",18),E()()),2&i){const t=e.$implicit,n=e.rowIndex,s=T(2);y("formGroup",t),b(3),y("useGrouping",!1),b(3),y("ngIf",s.validateField("alto",n)),b(3),y("useGrouping",!1),b(3),y("ngIf",s.validateField("largo",n)),b(3),y("useGrouping",!1),b(3),y("ngIf",s.validateField("ancho",n)),b(3),y("maxFractionDigits",2)("useGrouping",!1),b(3),y("ngIf",s.validateField("longitudPunta",n))}}const cme=function(){return{minWidth:"100%",maxWidth:"100%"}};function ume(i,e){if(1&i){const t=Ge();S(0,"div",13)(1,"div",14)(2,"div",15)(3,"span",16),ee(4,"p-dropdown",17),S(5,"label"),H(6," Nivel de protecci\xf3n "),E()(),x(7,nme,2,0,"small",18),E()(),S(8,"div",19)(9,"p-table",20),x(10,ime,9,0,"ng-template",21),x(11,lme,25,10,"ng-template",22),E()(),S(12,"div",23)(13,"p-button",24),ae("onClick",function(){return $(t),j(T().calcular())}),E()()()}if(2&i){const t=T();b(4),en(_n(5,cme)),y("options",t.proteccionForm.nivelRiesgo),b(3),y("ngIf",t.validateField("nivelRiesgo")),b(2),y("value",t.formBloques.controls)}}function dme(i,e){1&i&&ee(0,"canvas",33,34)}function hme(i,e){}let pme=(()=>{var i;class e{get canvas(){return this.canvasRef.nativeElement}get formBloques(){return this.form.controls.bloques}constructor(n){this.proteccionForm=n,this.structures=[],this.activeIndex=1,this.fieldOfView=60,this.nearClippingPane=1,this.farClippingPane=1100,this.form=this.proteccionForm.build(),this.addStructure=(s,r)=>{const o=new vo(s.ancho,s.alto,s.largo),a=new Lw(o);this.structures[r]=new vh(a,new ws({color:"black"}));const l=new kr({color:"#1fc9d0"});this.structures[r].position.set(0,s.alto/2,0);const c=new gi(o,l);c.position.set(0,s.alto/2,0),this.scene.add(this.structures[r]),this.scene.add(c),this.renderFn()}}ngOnInit(){this.form.controls.bloques.valueChanges.pipe(function bae(i,e=yae){return ii((t,n)=>{let s=null,r=null,o=null;const a=()=>{if(s){s.unsubscribe(),s=null;const c=r;r=null,n.next(c)}};function l(){const c=o+i,u=e.now();if(u<c)return s=this.schedule(void 0,c-u),void n.add(s);a()}t.subscribe(Yn(n,c=>{r=c,o=e.now(),s||(s=e.schedule(l,i),n.add(s))},()=>{a(),n.complete()},void 0,()=>{r=s=null}))})}(300)).subscribe({next:n=>{this.clearStructures(),this.limpiarPuntas(),n.forEach((s,r)=>{this.addStructure(s,r)})}}),this.formBloques.push(this.proteccionForm.bluidBloques())}ngAfterViewInit(){this.createScene(),this.createLight(),this.createCamera(),this.startRendering(),this.addControls(),this.activeIndex=0}ngOnDestroy(){this.renderer.dispose()}calcular(){if(this.form.invalid)return this.form.markAllAsTouched();const n=this.form.value,s=n.nivelRiesgo,r=n.bloques.map(o=>{const l=s-o.longitudPunta,h=2*Math.sqrt(Math.pow(s,2)-Math.pow(l,2))/Math.sqrt(2),p=Math.ceil(o.largo/h),f=Math.ceil(o.ancho/h);let m=Math.max(p,2),v=Math.max(f,2);return 1===p&&1===f&&(m=1,v=1),{px:v,py:m}});this.limpiarPuntas(),n.bloques.forEach((o,a)=>{this.agregarPuntas(o,r[a]),this.scene.updateMatrix()}),console.log({values:r})}limpiarPuntas(){this.scene.children.filter(s=>s.geometry instanceof Mh).forEach(s=>this.scene.remove(s))}clearStructures(){this.scene.children.filter(n=>n.geometry instanceof Lw||n.geometry instanceof vo).forEach(n=>{this.scene.remove(n)})}addControls(){this.controls=new Xfe(this.camera,this.canvas),this.controls.rotateSpeed=1,this.controls.zoomSpeed=1.2,this.controls.addEventListener("change",()=>this.renderFn())}renderFn(){this.renderer.render(this.scene,this.camera)}startRendering(){this.renderer=new NO({canvas:this.canvas,antialias:!0}),this.renderer.setPixelRatio(devicePixelRatio),this.renderer.setSize(this.canvas.clientWidth,this.canvas.clientHeight),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=YP,this.renderer.setClearColor(16777215,1),this.renderer.autoClear=!0,requestAnimationFrame(()=>this.renderFn())}createCamera(){const n=this.getAspectRatio();this.camera=new Oi(this.fieldOfView,n,this.nearClippingPane,this.farClippingPane),this.camera.position.x=10,this.camera.position.y=10,this.camera.position.z=100}getAspectRatio(){return 0===this.canvas.clientHeight?0:this.canvas.clientWidth/this.canvas.clientHeight}createLight(){const n=new Yw(16777215,1,1e3);n.position.set(0,0,100),this.scene.add(n);const s=new Yw(16777215,1,1e3);s.position.set(0,0,-100),this.scene.add(s)}createScene(){this.scene=new VO;const n=new Yfe(200),s=new qfe(200,200);this.scene.add(n),this.scene.add(s)}addSphere(n,s){const r=new Sh(s,32,32),o=new kr({color:"black"});this.protectionSphere=new gi(r,o),this.protectionSphere.position.x=n.ancho+s,this.protectionSphere.position.y=s,this.scene.add(this.protectionSphere)}agregarPuntas(n,s){const r=new Mh(.5,0);r.applyMatrix4((new Pt).makeRotationAxis(new k(1,0,-1).normalize(),Math.atan(Math.sqrt(2))));const o=new vo(.1,n.longitudPunta-.1,.1),a=new kr({color:"yellow"}),l=n.largo/2,c=n.ancho/2;if(1===s.px&&1===s.py){const p=new gi(r,a);p.position.setY(n.alto+n.longitudPunta);const f=new gi(o,a);return f.position.setY(n.alto+n.longitudPunta/2),this.scene.add(f),void this.scene.add(p)}const u=n.ancho/(s.px-1),h=n.largo/(s.py-1);for(let p=-1*l;p<l+h;p+=h)for(let f=-1*c;f<c+u;f+=u){const m=new gi(r,a),v=new gi(o,a);m.position.setY(n.alto+n.longitudPunta),m.position.setZ(p),m.position.setX(f),v.position.setY(n.alto+n.longitudPunta/2),v.position.setZ(p),v.position.setX(f),this.scene.add(v),this.scene.add(m)}}validateField(n,s){let r=this.form.get(n);return isNaN(s)||(r=this.formBloques.controls[s].get(n)),!!r&&r.touched&&r.invalid}agregarBloque(){this.formBloques.push(this.proteccionForm.bluidBloques())}deleteBloq(n){this.formBloques.removeAt(n),this.structures.splice(n,1)}}return(i=e).\u0275fac=function(n){return new(n||i)(G(Zfe))},i.\u0275cmp=tt({type:i,selectors:[["app-proteccion-contra-rayos"]],viewQuery:function(n,s){if(1&n&&Nt(Qfe,5),2&n){let r;We(r=$e())&&(s.canvasRef=r.first)}},decls:20,vars:5,consts:[[1,"container"],[1,"contenedor__banner"],[1,"details"],[1,"container_form"],[3,"activeIndex","activeIndexChange"],["tabView",""],["header","Datos iniciales"],[4,"ngTemplateOutlet"],["header","Resultados"],[3,"formGroup"],["datosIniciales",""],["canvasTemplate",""],["resultados",""],[1,"flex","flex-column","h-full","pr-6"],[1,"field","pt-3","flex","w-3"],[1,"flex-auto"],[1,"p-float-label"],["formControlName","nivelRiesgo","optionLabel","name","optionValue","value","placeholder","Nivel de protecci\xf3n",1,"w-full",3,"options"],["class","p-error",4,"ngIf"],[1,"col-12","flex","flex-column","justify-content-center","align-content-center"],["formArrayName","bloques",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"flex","w-full","justify-content-end","pr-3","pt-2"],["label","Dise\xf1ar",3,"onClick"],[1,"p-error"],[1,"field","pt-3"],[1,"p-inputgroup"],["mode","decimal","formControlName","alto",3,"useGrouping"],[1,"p-inputgroup-addon"],["mode","decimal","formControlName","largo",3,"useGrouping"],["mode","decimal","formControlName","ancho",3,"useGrouping"],["mode","decimal","formControlName","longitudPunta",3,"maxFractionDigits","useGrouping"],[1,"w-full","max-h-30rem","h-full"],["canvas",""]],template:function(n,s){if(1&n&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),H(4,"SISTEMA DE PROTECCI\xd3N EXTERNA CONTRA RAYOS"),E()()(),S(5,"p-card")(6,"div",3)(7,"p-tabView",4,5),ae("activeIndexChange",function(o){return s.activeIndex=o}),S(9,"p-tabPanel",6),x(10,Jfe,1,0,"ng-container",7),E(),S(11,"p-tabPanel",8),x(12,eme,1,0,"ng-container",7),x(13,tme,1,0,"ng-container",7),E()()()()(),x(14,ume,14,6,"ng-template",9,10,bi),x(16,dme,2,0,"ng-template",null,11,bi),x(18,hme,0,0,"ng-template",null,12,bi)),2&n){const r=xn(15),o=xn(17),a=xn(19);b(7),y("activeIndex",s.activeIndex),b(3),y("ngTemplateOutlet",r),b(2),y("ngTemplateOutlet",a),b(1),y("ngTemplateOutlet",o),b(1),y("formGroup",s.form)}},dependencies:[On,Nn,Dm,Bn,dP,Pm,Cb,wb,bb,ob,hm,U1,qd,Cm,Yd],styles:[".container[_ngcontent-%COMP%]{width:100%;height:auto;padding:2% 5%;display:flex;flex-direction:column;gap:5px}canvas[_ngcontent-%COMP%]{border:1px solid black}.contenedor__banner[_ngcontent-%COMP%]{border-radius:5px;align-items:center;position:relative;margin:5px 0;display:flex;height:35px;color:#3b82f6}.contenedor__banner[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{align-items:center;margin:0 10px}.contenedor__banner[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.container_form[_ngcontent-%COMP%]{height:auto;width:100%;padding:2% 5%}.container_canvas[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}p-card[_ngcontent-%COMP%]{height:100%}  .p-card-body,   .p-card-content{height:100%!important}  .p-tabview{width:100%;height:100%}"]}),e})(),fme=(()=>{var i;class e{constructor(){this.items=[{label:"Caracteristicas de la estructura"},{label:"Evaluaci\xf3n de probabilidad de da\xf1os"},{label:"Evalucaci\xf3n de p\xe9rdidas"}],this.tipoAcometida=[{name:"Aerea",value:1},{name:"Subterranea",value:.5},{name:"Cables subterr\xe1neos bajo una malla de puesta a tierra",value:.01}],this.situacionEstructura=[{name:"Estructura rodeada por objetos m\xe1s altos",value:.25},{name:"Estructura rodeada por objetos de la misma altura o inferior",value:.5},{name:"Estructura aislada: sin otros objetos en las proximidades",value:1},{name:"Estructura aislada en la parte superior de una colina o de un mont\xedculo",value:2}],this.tipoAmbiente=[{name:"Urbano con edificaciones de altas (M\xe1s de 20m de altura)",value:0},{name:"Urbano (Entre 10m y 20m de altura)",value:.1},{name:"Suburbano (Menores a 10m de altura)",value:.5},{name:"Rural",value:1}],this.proteccionEstructura=[{name:"No protegida por un SPCR",value:1},{name:"Protegida por un SPCR",value:-1},{name:"Estructura con dispositivo captador de nivel I, con armaduras met\xe1licas continuas o armaduras de hormig\xf3n actuando como conductores naturales de bajada",value:.01},{name:"",value:.001}],this.tipoTransformador=[{name:"Transformador con devanado primario y secundario desacoplados el\xe9ctricamente",value:1},{name:"Auto transformador",value:1},{name:"Sin transformador",value:1}],this.nivelProteccion=[{name:"IV",value:.2},{name:"III",value:.1},{name:"II",value:.05},{name:"I",value:.02}],this.nivelProteccionRayo=[{name:"Sin un sistema coordinado de DPS",value:1},{name:"III - IV",value:.05},{name:"II",value:.02},{name:"I",value:.01}],this.tensionMinima=[{name:"1",value:1},{name:"1.5",value:2},{name:"2.5",value:3},{name:"4",value:4},{name:"6",value:5}],this.catecteristicaLinea=[{name:"Linea de potencia con multi puesta a tierra del neutro",value:4},{name:"Cable o cableado colocado en conductos protegidos contra el rayo, conductos o tubos met\xe1licos",value:3},{name:"Apantallada conectada a la misma barra equipotencial que el equipamiento",value:2},{name:"Apantallada sin conectar a la misma barra equipotencial que el equipamiento",value:1},{name:"Sin apantallamiento",value:0}],this.factorTipoLinea=[{name:"Linea de datos o de telecomunicaciones",value:1},{name:"Linea de potencia de BT",value:.99},{name:"Linea de potencia de AT (con transformacion AT/BT)",value:.2}],this.cableadoMalla=[{name:"Sin apantallamiento externo",value:0},{name:"Cable sin blindar - sin precauciones de cableado para evitar bucles",value:1},{name:"Cable sin blindar - con precauciones de cableado para evitar grandes bucles",value:.2},{name:"Cable con blindaje - con precauciones de cableado para evitar bucles",value:.01},{name:"Cable con blindaje y cables en conductos met\xe1licos",value:1e-4}],this.medidasProteccionLinea=[{name:"Sin medidas de protecci\xf3n",value:1},{name:"Avisos",value:.1},{name:"Aislamiento el\xe9ctrico",value:.01},{name:"Restricciones f\xedsicas",value:0}],this.resistenciaBlindaje=[{name:"Cable apantallado (5 < Rs <= 20)",value:1},{name:"Cable apantallado (1 < Rs <= 5)",value:2},{name:"Cable apantallado (Rs <= 1)",value:3}],this.tipoSuperficie=[{name:"Agr\xedcola, hormig\xf3n",value:.01},{name:"M\xe1rmol, cer\xe1mica",value:.001},{name:"Grava, tapetes, alfombra",value:1e-4},{name:"Asfalto, lin\xf3leo, madera",value:1e-5},{name:"Otro",value:-1}],this.riesgoFuego=[{name:"Alto",value:.1},{name:"Normal",value:.01},{name:"Bajo",value:.001},{name:"Ninguno",value:0}],this.riesgoExplosion=[{name:"Zonas 0, 20 y explosivos s\xf3lidos",value:1},{name:"Zonas 1, 21",value:.1},{name:"Zonas 2, 22",value:.001},{name:"Ninguno",value:0}]}getLabel(n,s){const r=this[s];return r?r.find(o=>o.value===n)?.name??"":n}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})(),mme=(()=>{var i;class e{constructor(n){this.formBuilder=n}build(){return this.formBuilder.group({altura:[null,$t.required],longitud:[null,$t.required],ancho:[null,$t.required],areaRecoleccion:[null],situacionRelativa:[null,$t.required],densidadDescargasAtmosf\u00e9ricas:[null,$t.required],proteccionRayo:[!1,$t.required],tipoSuperficie:[null,$t.required],resistenciaContacto:[null],nPersonas:[null,$t.required],nPersonasEstructura:[null,$t.required],nHoraPersonas:[null,$t.required],sinMedidasIncendio:[!1],medidasIncendioP:[!1],medidasIncendioS:[!1],proteccionEstructura:[null,$t.required],proteccionAEstructura:[null,$t.required],normativaDPS:[!1,$t.required],dpsEntrada:[!1,$t.required],sinMedidaProteccion:[!1],aislamientoElectrico:[!1],equipotencializacion:[!1],avisosDeAdvertencia:[!1],restricciones:[!1],riesgoFuego:[null,$t.required],riesgoExplosion:[null,$t.required],lineas:this.formBuilder.array([])})}buildLineForm(){return this.formBuilder.group({tipoLinea:[null,$t.required],fInstalacion:[null,$t.required],fMedio:[null,$t.required],longitud:[null,[$t.required,$t.min(0)]],caracteristicasLinea:[null,$t.required],proteccionDps:[null,$t.required],tensionMinima:[null,$t.required],resistenciaBlindaje:[null],medidasDeProteccion:[!1],avisos:[!1],aislamientoElectrico:[!1],restriccionFisica:[!1],anchoCuadricula:[null],tensionNominal:[null],cableadoMalla:[null,$t.required]})}}return(i=e).\u0275fac=function(n){return new(n||i)(et(oP))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();function gme(i,e){1&i&&Ie(0)}function _me(i,e){1&i&&Ie(0)}function vme(i,e){1&i&&Ie(0)}function yme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function bme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function wme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Cme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function xme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Tme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Sme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Mme(i,e){if(1&i&&(S(0,"div",59)(1,"div",60)(2,"div",21)(3,"div",18),ee(4,"p-inputNumber",74),S(5,"label"),H(6,"Resistencia de contacto"),E()(),S(7,"span",23),H(8,"k\u03a9"),E()(),x(9,Sme,2,0,"small",20),E()()),2&i){const t=T(2);b(4),y("useGrouping",!1),b(5),y("ngIf",t.validateField("resistenciaContacto"))}}function Eme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Ime(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}const Cs=function(){return{minWidth:"100%",maxWidth:"100%"}};function Dme(i,e){if(1&i&&(S(0,"div",75)(1,"div",70)(2,"span",18),ee(3,"p-dropdown",76),S(4,"label"),H(5," Nivel de protecci\xf3n "),E()(),x(6,Ime,2,0,"small",20),E()()),2&i){const t=T(2);b(3),en(_n(4,Cs)),y("options",t.configService.nivelProteccion),b(3),y("ngIf",t.validateField("proteccionAEstructura"))}}function Ame(i,e){if(1&i){const t=Ge();S(0,"div",52)(1,"div",53)(2,"div",54)(3,"div",55)(4,"div",21)(5,"div",18),ee(6,"p-inputNumber",56),S(7,"label"),H(8,"Altura"),E()(),S(9,"span",23),H(10,"m"),E()(),x(11,yme,2,0,"small",20),E(),S(12,"div",55)(13,"div",21)(14,"div",18),ee(15,"p-inputNumber",22),S(16,"label"),H(17,"Longitud"),E()(),S(18,"span",23),H(19,"m"),E()(),x(20,bme,2,0,"small",20),E(),S(21,"div",55)(22,"div",21)(23,"div",18),ee(24,"p-inputNumber",57),S(25,"label"),H(26,"Ancho"),E()(),S(27,"span",23),H(28,"m"),E()(),x(29,wme,2,0,"small",20),E(),S(30,"div",55)(31,"div",21)(32,"div",18),ee(33,"p-inputNumber",58),S(34,"label"),H(35,"\xc1rea de recolecci\xf3n"),E()(),S(36,"span",23),H(37,"m"),E()()()()(),S(38,"div",53)(39,"div",54)(40,"div",59)(41,"div",60)(42,"span",18),ee(43,"p-dropdown",61),S(44,"label"),H(45," Situaci\xf3n relativa de la estructura "),E()()(),x(46,Cme,2,0,"small",20),E(),S(47,"div",59)(48,"div",60)(49,"div",21)(50,"div",18),ee(51,"p-inputNumber",62),S(52,"label"),H(53,"Densidad de descargas atmosf\xe9ricas"),E()(),S(54,"span",23),H(55,"1/km"),S(56,"sup"),H(57,"2"),E(),H(58,"/a\xf1o"),E()(),x(59,xme,2,0,"small",20),E()()()(),S(60,"div",16)(61,"div",54)(62,"div",59)(63,"div",60)(64,"span",18)(65,"p-dropdown",63),ae("onChange",function(s){return $(t),j(T().checkSuperficie(s))}),E(),S(66,"label"),H(67," Tipo de superficie del terreno "),E()()(),x(68,Tme,2,0,"small",20),E(),x(69,Mme,10,2,"div",64),E()()(),S(70,"div",52)(71,"div",53)(72,"p-panel",7)(73,"div",38)(74,"div",39),H(75," Sin medidas de protecci\xf3n "),S(76,"p-checkbox",65),ae("onChange",function(){return $(t),j(T().checkToggle("sinMedidaProteccion"))}),E()(),S(77,"div",39),H(78," Avisos de peligro "),S(79,"p-checkbox",66),ae("onChange",function(){return $(t),j(T().checkToggle("avisosDeAdvertencia"))}),E()(),S(80,"div",39),H(81," Aislamiento el\xe9ctrico de partes expuestas "),S(82,"p-checkbox",42),ae("onChange",function(){return $(t),j(T().checkToggle("aislamientoElectrico"))}),E()(),S(83,"div",39),H(84," Equipotencializaci\xf3n efectiva del terreno "),S(85,"p-checkbox",67),ae("onChange",function(){return $(t),j(T().checkToggle("equipotencializacion"))}),E()(),S(86,"div",39),H(87," Restricciones f\xedsicas o de uso de armadura met\xe1lica del edificio como conducto de bajada "),S(88,"p-checkbox",68),ae("onChange",function(){return $(t),j(T().checkToggle("restricciones"))}),E()()()()(),S(89,"div",53)(90,"div",30)(91,"div",31)(92,"p-panel",69)(93,"div",33)(94,"div",70)(95,"span",18)(96,"p-dropdown",71),ae("onChange",function(s){return $(t),j(T().checkValidation(s))}),E(),S(97,"label"),H(98," Nivel de protecci\xf3n "),E()()()(),x(99,Eme,2,0,"small",20),x(100,Dme,7,5,"div",72),E()()()()()}if(2&i){const t=T();b(6),y("useGrouping",!1),b(5),y("ngIf",t.validateField("altura")),b(4),y("useGrouping",!1),b(5),y("ngIf",t.validateField("longitud")),b(4),y("useGrouping",!1),b(5),y("ngIf",t.validateField("ancho")),b(4),y("useGrouping",!1),b(10),en(_n(28,Cs)),y("options",t.configService.situacionEstructura),b(3),y("ngIf",t.validateField("situacionRelativa")),b(5),y("useGrouping",!1),b(8),y("ngIf",t.validateField("densidadDescargasAtmosf\xe9ricas")),b(6),en(_n(29,Cs)),y("options",t.configService.tipoSuperficie),b(3),y("ngIf",t.validateField("tipoSuperficie")),b(1),y("ngIf",-1===t.validateProteccion("tipoSuperficie")),b(7),y("binary",!0),b(3),y("binary",!0),b(3),y("binary",!0),b(3),y("binary",!0),b(3),y("binary",!0),b(8),en(_n(30,Cs)),y("options",t.configService.proteccionEstructura),b(3),y("ngIf",t.validateField("proteccionEstructura")),b(1),y("ngIf",-1===t.validateProteccion("proteccionEstructura"))}}function Pme(i,e){1&i&&(S(0,"tr")(1,"th"),H(2,"Tipo de l\xednea"),E(),S(3,"th"),H(4,"Longitud"),E(),S(5,"th"),H(6,"Caracteristicas de la l\xednea"),E(),S(7,"th"),H(8,"Factor de la instalaci\xf3n"),E(),S(9,"th"),H(10,"Factor medioambiental"),E(),S(11,"th"),H(12,"Nivel de protecci\xf3n DPS"),E(),S(13,"th"),H(14,"Tensi\xf3n soportada [kV]"),E(),S(15,"th"),H(16,"Medidas de proteccion\xf3n"),E(),S(17,"th"),H(18,"Acci\xf3n"),E()())}function Rme(i,e){if(1&i&&(S(0,"span"),H(1),E()),2&i){const t=T().$implicit,n=T(2);b(1),gn(" ",n.configService.getLabel(t.resistenciaBlindaje,"resistenciaBlindaje")," ")}}function Ome(i,e){1&i&&(S(0,"li"),H(1," Sin medidas de protecci\xf3n "),E())}function Lme(i,e){1&i&&(S(0,"li"),H(1,"Avisos"),E())}function kme(i,e){1&i&&(S(0,"li"),H(1," Aislamiento el\xe9ctrico de partes expuestas "),E())}function Fme(i,e){1&i&&(S(0,"li"),H(1,"Restricciones f\xedsicas"),E())}function Nme(i,e){if(1&i){const t=Ge();S(0,"tr",10)(1,"td"),H(2),E(),S(3,"td"),H(4),E(),S(5,"td")(6,"span"),H(7),E(),x(8,Rme,2,1,"span",81),E(),S(9,"td"),H(10),E(),S(11,"td"),H(12),E(),S(13,"td"),H(14),E(),S(15,"td"),H(16),E(),S(17,"td")(18,"ul"),x(19,Ome,2,0,"li",81),x(20,Lme,2,0,"li",81),x(21,kme,2,0,"li",81),x(22,Fme,2,0,"li",81),E()(),S(23,"td")(24,"div",82)(25,"p-button",83),ae("click",function(){const r=$(t).rowIndex;return j(T(2).deleteLine(r))}),E(),S(26,"p-button",84),ae("click",function(){const r=$(t).rowIndex;return j(T(2).editLine(r))}),E()()()()}if(2&i){const t=e.$implicit,n=e.rowIndex,s=T(2);y("formGroup",s.getFormLinea(n)),b(2),gn(" ",s.configService.getLabel(t.tipoLinea,"factorTipoLinea")," "),b(2),gn(" ",t.longitud," "),b(3),gn(" ",s.configService.getLabel(t.caracteristicasLinea,"catecteristicaLinea")," "),b(1),y("ngIf",2===t.caracteristicasLinea),b(2),gn(" ",s.configService.getLabel(t.fInstalacion,"tipoAcometida")," "),b(2),gn(" ",s.configService.getLabel(t.fMedio,"tipoAmbiente")," "),b(2),gn(" ",s.configService.getLabel(t.proteccionDps,"nivelProteccionRayo")," "),b(2),gn(" ",s.configService.getLabel(t.tensionMinima,"tensionMinima")," "),b(3),y("ngIf",t.medidasDeProteccion||!t.avisos&&!t.aislamientoElectrico&&!t.restriccionFisica),b(1),y("ngIf",t.avisos),b(1),y("ngIf",t.aislamientoElectrico),b(1),y("ngIf",t.restriccionFisica)}}function Vme(i,e){1&i&&(S(0,"div",85)(1,"span",86),H(2," No hay l\xedneas agregadas "),E()())}function Bme(i,e){if(1&i){const t=Ge();S(0,"p-table",77),x(1,Pme,19,0,"ng-template",48),x(2,Nme,27,13,"ng-template",49),E(),x(3,Vme,3,0,"div",78),S(4,"div",79)(5,"p-button",80),ae("click",function(){return $(t),j(T().addLine())}),E()()}if(2&i){const t=T();y("value",t.lineasForm.value),b(3),y("ngIf",!t.lineasForm.controls.length)}}function Ume(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Hme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function zme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Gme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Wme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function $me(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function jme(i,e){if(1&i){const t=Ge();S(0,"div",52)(1,"div",53)(2,"div",60)(3,"p-panel",87)(4,"div",38)(5,"div",39),H(6," Sin medidas de protecci\xf3n "),S(7,"p-checkbox",88),ae("onChange",function(){return $(t),j(T().checkToggleIncendio("sinMedidasIncendio"))}),E()(),S(8,"div",39),H(9," Extintores, Instalaciones fijas de extinsi\xf3n,manuales, instalaciones manuales de alarma, tomas de agua, compartimentos aprueba de agua, v\xedas de evacuaci\xf3n. "),S(10,"p-checkbox",89),ae("onChange",function(){return $(t),j(T().checkToggleIncendio("medidasIncendioP"))}),E()(),S(11,"div",39),H(12," Instalaciones fijas de extenci\xf3n autom\xe1ticas, instalaciones autom\xe1ticas de alarma "),S(13,"p-checkbox",90),ae("onChange",function(){return $(t),j(T().checkToggleIncendio("medidasIncendioS"))}),E()()()()(),x(14,Ume,2,0,"small",20),E(),S(15,"div",16)(16,"div",91)(17,"div",18),ee(18,"p-inputNumber",92),S(19,"label"),H(20,"N\xfamero de personas en la zona"),E()(),x(21,Hme,2,0,"small",20),E(),S(22,"div",91)(23,"div",18),ee(24,"p-inputNumber",93),S(25,"label"),H(26,"N\xfamero de personas en la estructura"),E()(),x(27,zme,2,0,"small",20),E(),S(28,"div",60)(29,"div",18),ee(30,"p-inputNumber",94),S(31,"label"),H(32," N\xfamero anual de horas que hay personas en la zona "),E()(),x(33,Gme,2,0,"small",20),E()(),S(34,"div",16)(35,"div",95)(36,"div",60)(37,"span",18)(38,"p-dropdown",96),ae("onChange",function(s){return $(t),j(T().checkSuperficie(s))}),E(),S(39,"label"),H(40," Riesgo de incendio "),E()()(),x(41,Wme,2,0,"small",20),E(),S(42,"div",95)(43,"div",60)(44,"span",18)(45,"p-dropdown",97),ae("onChange",function(s){return $(t),j(T().checkSuperficie(s))}),E(),S(46,"label"),H(47," Riesgo de explosi\xf3n "),E()()(),x(48,$me,2,0,"small",20),E()()()}if(2&i){const t=T();b(7),y("binary",!0),b(3),y("binary",!0),b(3),y("binary",!0),b(1),y("ngIf",t.validateField("proteccionIncendio")),b(4),y("useGrouping",!1),b(3),y("ngIf",t.validateField("nPersonas")),b(3),y("useGrouping",!1),b(3),y("ngIf",t.validateField("nPersonasEstructura")),b(3),y("useGrouping",!1),b(3),y("ngIf",t.validateField("nHoraPersonas")),b(5),en(_n(18,Cs)),y("options",t.configService.riesgoFuego),b(3),y("ngIf",t.validateField("riesgoFuego")),b(4),en(_n(19,Cs)),y("options",t.configService.riesgoExplosion),b(3),y("ngIf",t.validateField("riesgoExplosion"))}}function qme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Yme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Kme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Xme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Zme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Qme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function Jme(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function ege(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function tge(i,e){if(1&i&&(S(0,"div",17)(1,"span",18),ee(2,"p-dropdown",98),S(3,"label"),H(4," Resistencia del blindaje "),E()(),x(5,ege,2,0,"small",20),E()),2&i){const t=T();b(2),en(_n(4,Cs)),y("options",t.configService.resistenciaBlindaje),b(3),y("ngIf",t.validateField("resistenciaBlindaje",t.temporalFormGroup))}}function nge(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function ige(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function sge(i,e){if(1&i&&(S(0,"div",99)(1,"div",70)(2,"div",21)(3,"div",18),ee(4,"p-inputNumber",100),S(5,"label"),H(6," Ancho cuadricula escudo especial "),E()(),S(7,"span",23),H(8,"m"),E()(),x(9,ige,2,0,"small",20),E()()),2&i){const t=T();b(4),y("useGrouping",!1),b(5),y("ngIf",t.validateField("anchoCuadricula"))}}function rge(i,e){1&i&&(S(0,"div",99)(1,"div",21)(2,"div",18),ee(3,"p-inputNumber",101),S(4,"label"),H(5," Tensi\xf3n minima soportable al impulso tipo rayo "),E()(),S(6,"span",23),H(7,"kV"),E()()()),2&i&&(b(3),y("useGrouping",!1))}function oge(i,e){1&i&&(S(0,"small",73),H(1," Campo invalido "),E())}function age(i,e){1&i&&(S(0,"tr")(1,"th"),H(2,"Tipo de da\xf1o"),E(),S(3,"th"),H(4,"Simbolo"),E(),S(5,"th"),H(6,"Valor"),E()())}function lge(i,e){if(1&i&&(S(0,"tr")(1,"td",102),H(2," D1 - Lesiones "),E(),S(3,"td"),H(4," R"),S(5,"sub"),H(6,"a"),E()(),S(7,"td"),H(8),tc(9,"number"),E()(),S(10,"tr")(11,"td"),H(12," R"),S(13,"sub"),H(14,"u"),E()(),S(15,"td"),H(16),tc(17,"number"),E()(),S(18,"tr")(19,"td",102),H(20," D2 - Da\xf1os f\xedsicos "),E(),S(21,"td"),H(22," R"),S(23,"sub"),H(24,"B"),E()(),S(25,"td"),H(26),tc(27,"number"),E()(),S(28,"tr")(29,"td"),H(30," R"),S(31,"sub"),H(32,"v"),E()(),S(33,"td"),H(34),tc(35,"number"),E()(),S(36,"tr")(37,"td",103),H(38," Total "),E(),S(39,"td"),H(40),tc(41,"number"),E()()),2&i){const t=e.$implicit;let n,s,r,o,a;b(8),gn(" ",nc(9,5,null!==(n=t.ra)&&void 0!==n?n:0,"1.0-3")," "),b(8),gn(" ",nc(17,8,null!==(s=t.ru)&&void 0!==s?s:0,"1.0-3")," "),b(10),gn(" ",nc(27,11,null!==(r=t.rb)&&void 0!==r?r:0,"1.0-3")," "),b(8),gn(" ",nc(35,14,null!==(o=t.rv)&&void 0!==o?o:0,"1.0-3")," "),b(6),gn(" ",nc(41,17,null!==(a=t.r1)&&void 0!==a?a:0,"1.0-3")," ")}}function cge(i,e){1&i&&(S(0,"span"),H(1," R"),S(2,"sub"),H(3,"1"),E(),H(4," > R"),S(5,"sub"),H(6,"T"),E(),H(7,": Es necesaria la protecci\xf3n contra el rayo "),E())}function uge(i,e){1&i&&(S(0,"span"),H(1," R"),S(2,"sub"),H(3,"T"),E(),H(4," > R"),S(5,"sub"),H(6,"1"),E(),H(7,": No es necesaria la protecci\xf3n contra el rayo "),E())}function dge(i,e){if(1&i&&(x(0,cge,8,0,"span",81),x(1,uge,8,0,"span",81)),2&i){const t=T();y("ngIf",(null==t.resultados[0]?null:t.resultados[0].r1)>(null==t.resultados[0]?null:t.resultados[0].tolerancia)),b(1),y("ngIf",!((null==t.resultados[0]?null:t.resultados[0].r1)>(null==t.resultados[0]?null:t.resultados[0].tolerancia)))}}const hge=function(){return{width:"80vw"}},e4=function(){return[.01,1e-4]},pge=function(){return{width:"60vw"}},fge=[{path:"",component:mae},{path:"riesgo",component:(()=>{var i;class e{get lineasForm(){return this.form.controls.lineas}constructor(n,s,r){this.configService=n,this.formService=s,this.messageService=r,this.visible=!1,this.visibleResult=!1,this.actualNumber=-1,this.temporalFormGroup=this.formService.buildLineForm(),this.resultados=[],this.prevResultados=[]}ngOnInit(){this.form=this.formService.build()}calcular(){if(this.form.invalid)return this.messageService.add({severity:"error",summary:"Error",detail:"Por favor llenar todos los campos requeridos"}),this.form.markAllAsTouched();const n=this.form.value,s=this.caldularNd(n),r=n.situacionRelativa<1?this.calcularNm(n):0,o=this.calcularNl(n,"nl"),a=this.calcularNl(n,"ni"),l=this.calcularMedidasDeProteccionAdicionales(n),c=this.calcularProteccionEstructura(n),u=l*c,h=this.calcularValueBlindaje(n.lineas,"pm"),p=this.calcularPm(n),m=this.calcularPv(n.lineas),v=this.calcularPu(n),_=this.calcularPz(n.lineas),{la:g,lb:C,lc:w,lm:M,lu:D,lv:P,lw:R,lz:N}=this.calcularPerdidas(n),I=s*u*g,O=s*c*C,fe=(h.map(Q=>Q**s*w).reduce((Q,X)=>Q+X),p.map(Q=>Q*r*M).reduce((Q,X)=>Q+X),o.map((Q,X)=>Q*v[X]*D).reduce((Q,X)=>Q+X)),z=o.map((Q,X)=>Q*v[X]*P).reduce((Q,X)=>Q+X);o.map((Q,X)=>Q*m[X]*R).reduce((Q,X)=>Q+X),a.map((Q,X)=>Q*_[X]*N).reduce((Q,X)=>Q+X),this.resultados=[{r1:(I+O+fe+z)*Math.pow(10,5),ra:I*Math.pow(10,5),rb:O*Math.pow(10,5),ru:fe*Math.pow(10,5),rv:z*Math.pow(10,5),tolerancia:Math.pow(10,-5)}],this.prevResultados=[...this.resultados],this.visibleResult=!0}cargarSolucion(){this.resultados=[{}]}checkToggle(n){const s=["aislamientoElectrico","equipotencializacion","avisosDeAdvertencia","restricciones"];s.includes(n)?this.form.controls.sinMedidaProteccion.reset():s.forEach(r=>this.form.controls[r].reset())}checkToggleProteccionLInea(n){const s=["avisos","aislamientoElectrico","restriccionFisica"];s.includes(n)?this.temporalFormGroup.controls.medidasDeProteccion.reset():s.forEach(r=>this.temporalFormGroup.controls[r].reset())}checkToggleIncendio(n){const s=["medidasIncendioP","medidasIncendioS"];s.includes(n)?this.form.controls.sinMedidasIncendio.reset():s.forEach(r=>this.form.controls[r].reset())}validateProteccion(n){return this.form.get(n)?.value}getTemporalArrayValue(n){return this.temporalFormGroup.get(n)?.value}addLine(){this.lineasForm.push(this.formService.buildLineForm()),this.visible=!0,this.temporalFormGroup.reset(),this.actualNumber=this.lineasForm.length-1}editLine(n){const s=this.lineasForm.controls[n].value;this.visible=!0,this.temporalFormGroup.patchValue(s),this.actualNumber=n}guardarLinea(){if(this.temporalFormGroup.invalid)return this.temporalFormGroup.markAllAsTouched();this.visible=!1,this.lineasForm.controls[this.actualNumber].patchValue(this.temporalFormGroup.value)}cerrar(){this.temporalFormGroup.invalid&&(this.lineasForm.removeAt(this.actualNumber),this.temporalFormGroup.reset(),this.actualNumber=-1)}deleteLine(n){this.lineasForm.removeAt(n)}getFormLinea(n){return this.lineasForm.controls[n]}validateField(n,s){let r;return r=s?s instanceof wc?s.get(n):this.lineasForm.controls[s-1]?.get(n):this.form.get(n),!!r&&r.touched&&r.invalid}checkValidation(n){-1===n.value?this.form.controls.proteccionAEstructura.addValidators($t.required):this.form.controls.proteccionAEstructura.clearValidators(),this.form.controls.proteccionAEstructura.updateValueAndValidity()}checkValidationCableado(n){n.value<.2?(this.temporalFormGroup.controls.anchoCuadricula.addValidators($t.required),this.temporalFormGroup.controls.tensionNominal.addValidators($t.required)):(this.temporalFormGroup.controls.anchoCuadricula.clearValidators(),this.temporalFormGroup.controls.tensionNominal.clearValidators()),this.temporalFormGroup.controls.anchoCuadricula.updateValueAndValidity(),this.temporalFormGroup.controls.tensionNominal.updateValueAndValidity()}checkValidationTemporalArray(n){2===n.value?this.temporalFormGroup.controls.resistenciaBlindaje.addValidators($t.required):this.temporalFormGroup.controls.resistenciaBlindaje.clearValidators(),this.temporalFormGroup.controls.resistenciaBlindaje.updateValueAndValidity()}checkValidationMalla(n){n.value?(this.temporalFormGroup.controls.anchoCuadricula.addValidators($t.required),this.temporalFormGroup.controls.tensionNominal.addValidators($t.required)):(this.temporalFormGroup.controls.anchoCuadricula.clearValidators(),this.temporalFormGroup.controls.tensionNominal.clearValidators()),this.temporalFormGroup.controls.anchoCuadricula.updateValueAndValidity(),this.temporalFormGroup.controls.tensionNominal.updateValueAndValidity()}checkSuperficie(n){n.value<0?this.form.controls.resistenciaContacto.addValidators($t.required):this.form.controls.resistenciaContacto.clearValidators(),this.form.controls.resistenciaContacto.updateValueAndValidity()}caldularNd(n){const s=n.altura,r=n.ancho,o=n.longitud;let a=n.areaRecoleccion;return n.areaRecoleccion||(a=o*r+3*s*2*(o+r)+Math.PI*Math.pow(3*s,2)),+n.densidadDescargasAtmosf\u00e9ricas*+a*+n.situacionRelativa*Math.pow(10,-6)}calcularNm(n){const s=2*Math.pow(500,3)*n.longitud*n.ancho;return+n.densidadDescargasAtmosf\u00e9ricas*s}calcularNl(n,s){const r=n.densidadDescargasAtmosf\u00e9ricas;return n.lineas.map(o=>r*("nl"===s?40:4e3)*o.longitud*o.fInstalacion*o.fMedio*(o.tipoLinea>.9?1:o.tipoLinea)*Math.pow(10,-6))}calcularMedidasDeProteccionAdicionales(n){let s=1;return n.sinMedidaProteccion&&(s*=1),n.avisosDeAdvertencia&&(s*=Math.pow(10,-1)),n.aislamientoElectrico&&(s*=Math.pow(10,-2)),n.equipotencializacion&&(s*=Math.pow(10,-3)),n.restricciones&&(s*=0),s}calcularProteccionEstructura(n){return-1===n.proteccionEstructura?n.proteccionAEstructura:n.proteccionEstructura}calcularValueBlindaje(n,s){return n.length?n.map(r=>{let o=0,a=0;switch(r.caracteristicasLinea){case 0:o=1,a=1;break;case 1:1===r.fInstalacion?(o=.1,a=1):(o=.3,a=1);break;case 2:o=0,a=1;break;case 4:o=.2,a=1}return{pm:r.proteccionDps*a,cli:o,cld:a}[s]}):[0]}calcularPm(n){return n.lineas.map(s=>{if(![.01,1e-4].includes(s.cableadoMalla))return s.proteccionDps;const r=s.anchoCuadricula<1e-4?Math.pow(10,-4):.12*s.anchoCuadricula,o=s.anchoCuadricula<1e-4?Math.pow(10,-4):.12*s.anchoCuadricula;return s.proteccionDps*(r*o*s.cableadoMalla*(1/s.tensionNominal))})}calcularPv(n){const s=this.calcularPli(n),r=this.calcularValueBlindaje(n,"cld");return n.map((o,a)=>o.proteccionDps*s[a]*r[a])}calcularpld(n){if(2!==n.caracteristicasLinea)return 1;if(1===n.resistenciaBlindaje)switch(n.tensionMinina){case 1:case 2:return 1;case 3:return.95;case 4:return.9;case 5:return.8}if(2===n.resistenciaBlindaje)switch(n.tensionMinina){case 1:return.9;case 2:return 8;case 3:return.6;case 4:return.3;case 5:return.1}if(3===n.resistenciaBlindaje)switch(n.tensionMinina){case 1:return.6;case 2:return.4;case 3:return.2;case 4:return.04;case 5:return.02}return 0}calcularPu(n){const s=this.calcularValueBlindaje(n.lineas,"cld");return n.lineas.map((r,o)=>(r.avisos?.1:1)*(r.avisos?.01:1)*(r.restriccionFisica?0:1)*r.proteccionDps*this.calcularpld(r)*s[o])}calcularPli(n){return n.map(s=>1===s.tensionMinina?1:1===s.tipoLinea?2===s.tensionMinina?.5:3===s.tensionMinina?.2:4===s.tensionMinina?.08:5===s.tensionMinina?.04:0:2===s.tensionMinina?.6:3===s.tensionMinina?.3:4===s.tensionMinina?.16:5===s.tensionMinina?.1:0)}calcularPz(n){const s=this.calcularPli(n),r=this.calcularValueBlindaje(n,"cli");return n.map((o,a)=>o.proteccionDps*s[a]*r[a])}calcularPerdidas(n){const r=.01*this.calcularResistenciaContacto(n)*(n.nPersonas/n.nPersonasEstructura)*(n.nHoraPersonas/8760),l=this.calcularRp(n)*this.obtenerRf(n)*1*.1*(n.nPersonas/n.nPersonasEstructura)*(n.nHoraPersonas/8760),c=n.nPersonas/n.nPersonasEstructura*.03*(n.nHoraPersonas/8760);return{la:r,lu:r,lb:l,lv:l,lc:c,lm:c,lw:c,lz:c}}obtenerRf(n){return n.riesgoFuego?n.riesgoFuego:n.riesgoExplosion}calcularResistenciaContacto(n){return-1===n.tipoSuperficie?n.resistenciaContacto>1&&n.resistenciaContacto<=10?Math.pow(10,-3):n.resistenciaContacto>10&&n.resistenciaContacto<100?Math.pow(10,-4):n.resistenciaContacto>100?Math.pow(10,-5):Math.pow(10,-2):n.tipoSuperficie}calcularRp(n){return n.medidasIncendioS?.2:n.medidasIncendioP?.5:1}}return(i=e).\u0275fac=function(n){return new(n||i)(G(fme),G(mme),G(nb))},i.\u0275cmp=tt({type:i,selectors:[["app-riesgo"]],decls:116,vars:64,consts:[[1,"container"],[1,"contenedor__banner"],[1,"details"],[1,"container_form"],["header","Estructura"],[4,"ngTemplateOutlet"],["header","Lineas conectadas"],["header","Medidas de protecci\xf3n adicionales"],[1,"flex","w-full","justify-content-end","pr-3","pt-2"],["label","An\xe1lizar",3,"onClick"],[3,"formGroup"],["estructura",""],["lineas",""],["proteccion",""],["header","Editar linea",3,"visible","visibleChange","onHide"],[1,"grid",3,"formGroup"],[1,"col-3"],[1,"pt-4"],[1,"p-float-label"],["appendTo","body","placeholder","Tipo de linea","optionLabel","name","optionValue","value","formControlName","tipoLinea",3,"options"],["class","p-error",4,"ngIf"],[1,"p-inputgroup"],["formControlName","longitud",3,"useGrouping"],[1,"p-inputgroup-addon"],["appendTo","body","placeholder","Caracteristicas de la l\xednea","optionLabel","name","optionValue","value","formControlName","caracteristicasLinea",3,"options","onChange"],["appendTo","body","placeholder","Tipo de instalaci\xf3n","optionLabel","name","optionValue","value","formControlName","fInstalacion",3,"options"],["appendTo","body","formControlName","proteccionDps","optionLabel","name","optionValue","value","placeholder","Nivel de protecci\xf3n DPS",3,"options"],["appendTo","body","formControlName","tensionMinima","optionLabel","name","optionValue","value","placeholder","Tensi\xf3n soportada Uw [kV]",3,"options"],["appendTo","body","placeholder","Tipo de ambiente","optionLabel","name","optionValue","value","formControlName","fMedio",3,"options"],["class","pt-4",4,"ngIf"],[1,"flex","flex-column"],[1,"flex","flex-row","align-items-center","gap-2"],["header","Protecci\xf3n con apantallamiento externo",1,"w-full","h-full"],[1,"flex","flex-row","justify-content-between","flex-wrap","align-items-center","h-full","gap-2"],[1,"flex","flex-column","w-full","pt-2"],["appendTo","body","formControlName","cableadoMalla","optionLabel","name","optionValue","value","placeholder","Nivel de protecci\xf3n",1,"w-full",3,"options","onChange"],["class","flex flex-row justify-content-start w-full gap-2 pt-3",4,"ngIf"],["header","Medidas de protecci\xf3n"],[1,"flex","flex-column","gap-2"],[1,"flex","flex-row","justify-content-between","h-full","gap-2"],["formControlName","medidasDeProteccion",3,"binary","onChange"],["formControlName","avisos",3,"binary","onChange"],["formControlName","aislamientoElectrico",3,"binary","onChange"],["formControlName","restriccionFisica",3,"binary","onChange"],["label","Guardar","styleClass","p-button-outlined",1,"flex","justify-content-end","pt-4",3,"draggable","onClick"],["header","Resultados",3,"visible","visibleChange"],[1,"flex","justify-content-start","flex-column"],[1,"pt-2",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["label","Cargar Soluci\xf3n",3,"onClick"],[1,"grid"],[1,"col-4"],[1,"p-fluid","grid"],[1,"field","col-6"],["formControlName","altura",3,"useGrouping"],["formControlName","ancho",3,"useGrouping"],["formControlName","areaRecoleccion",3,"useGrouping"],[1,"field","col-12"],[1,"flex-auto"],["formControlName","situacionRelativa","placeholder","Situaci\xf3n relativa de la estructura","optionLabel","name","optionValue","value",1,"w-full",3,"options"],["formControlName","densidadDescargasAtmosf\xe9ricas",3,"useGrouping"],["formControlName","tipoSuperficie","optionLabel","name","optionValue","value","placeholder","Tipo de superficie del terreno",1,"w-full",3,"options","onChange"],["class","field col-12",4,"ngIf"],["formControlName","sinMedidaProteccion",3,"binary","onChange"],["formControlName","avisosDeAdvertencia",3,"binary","onChange"],["formControlName","equipotencializacion",3,"binary","onChange"],["formControlName","restricciones",3,"binary","onChange"],["header","Protecci\xf3n con sistema de protecci\xf3n contra rayos",1,"w-full","h-full","gap-2"],[1,"flex","flex-column","w-full","py-2"],["formControlName","proteccionEstructura","optionLabel","name","optionValue","value","placeholder","Nivel de protecci\xf3n",1,"w-full",3,"options","onChange"],["class","flex flex-row justify-content-start w-full gap-2 pt-4",4,"ngIf"],[1,"p-error"],["formControlName","resistenciaContacto",3,"useGrouping"],[1,"flex","flex-row","justify-content-start","w-full","gap-2","pt-4"],["formControlName","proteccionAEstructura","optionLabel","name","optionValue","value","placeholder","Nivel de protecci\xf3n",1,"w-full",3,"options"],["formArrayName","lineas",3,"value"],["class","flex justify-content-center w-full h-2 border-top-1 border-bottom-1 border-bluegray-100",4,"ngIf"],[1,"pt-3"],["label","Agregar l\xednea","icon","pi pi-plus","styleClass","p-button-outlined",3,"click"],[4,"ngIf"],[1,"flex","justify-content-center","gap-2"],["icon","pi pi-trash",3,"click"],["icon","pi pi-pencil",3,"click"],[1,"flex","justify-content-center","w-full","h-2","border-top-1","border-bottom-1","border-bluegray-100"],[1,"p-2"],["header","Medidas de protecci\xf3n contra incendios"],["formControlName","sinMedidasIncendio",3,"binary","onChange"],["formControlName","medidasIncendioP",3,"binary","onChange"],["formControlName","medidasIncendioS",3,"binary","onChange"],[1,"flex-auto","pb-4"],["formControlName","nPersonas",3,"useGrouping"],["formControlName","nPersonasEstructura",1,"w-full",3,"useGrouping"],["formControlName","nHoraPersonas",3,"useGrouping"],[1,"field"],["formControlName","riesgoFuego","optionLabel","name","optionValue","value","placeholder","Riesgo de incendio",1,"w-full",3,"options","onChange"],["formControlName","riesgoExplosion","optionLabel","name","optionValue","value","placeholder","Riesgo de explosi\xf3n",1,"w-full",3,"options","onChange"],["appendTo","body","formControlName","resistenciaBlindaje","optionLabel","name","optionValue","value","placeholder","Resistencia del blindaje",3,"options"],[1,"flex","flex-row","justify-content-start","w-full","gap-2","pt-3"],["formControlName","anchoCuadricula",3,"useGrouping"],["formControlName","tensionNominal",3,"useGrouping"],["rowspan","2"],["colspan","2"]],template:function(n,s){if(1&n&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),H(4,"DETERMINACI\xd3N DEL NIVEL DE RIESGO"),E()()(),ee(5,"p-toast"),S(6,"p-card")(7,"div",3)(8,"p-tabView")(9,"p-tabPanel",4),x(10,gme,1,0,"ng-container",5),E(),S(11,"p-tabPanel",6),x(12,_me,1,0,"ng-container",5),E(),S(13,"p-tabPanel",7),x(14,vme,1,0,"ng-container",5),E()()()(),S(15,"div",8)(16,"p-button",9),ae("onClick",function(){return s.calcular()}),E()()(),x(17,Ame,101,31,"ng-template",10,11,bi),x(19,Bme,6,2,"ng-template",10,12,bi),x(21,jme,49,20,"ng-template",10,13,bi),S(23,"p-dialog",14),ae("visibleChange",function(o){return s.visible=o})("onHide",function(){return s.cerrar()}),S(24,"div",15)(25,"div",16)(26,"div",17)(27,"span",18),ee(28,"p-dropdown",19),S(29,"label"),H(30," Tipo de linea "),E()(),x(31,qme,2,0,"small",20),E(),S(32,"div",17)(33,"div",18)(34,"div",21)(35,"div",18),ee(36,"p-inputNumber",22),S(37,"label"),H(38,"Longitud"),E()(),S(39,"span",23),H(40,"m"),E()(),x(41,Yme,2,0,"small",20),E()(),S(42,"div",17)(43,"span",18)(44,"p-dropdown",24),ae("onChange",function(o){return s.checkValidationTemporalArray(o)}),E(),S(45,"label"),H(46," Caracteristicas de la l\xednea "),E()(),x(47,Kme,2,0,"small",20),E(),S(48,"div",17)(49,"span",18),ee(50,"p-dropdown",25),S(51,"label"),H(52," Tipo de instalaci\xf3n "),E()(),x(53,Xme,2,0,"small",20),E()(),S(54,"div",16)(55,"div",17)(56,"span",18),ee(57,"p-dropdown",26),S(58,"label"),H(59," Nivel de protecci\xf3n DPS "),E()(),x(60,Zme,2,0,"small",20),E(),S(61,"div",17)(62,"span",18),ee(63,"p-dropdown",27),S(64,"label"),H(65," Tensi\xf3n soportada Uw [kV] "),E()(),x(66,Qme,2,0,"small",20),E(),S(67,"div",17)(68,"span",18),ee(69,"p-dropdown",28),S(70,"label"),H(71," Tipo de ambiente "),E()(),x(72,Jme,2,0,"small",20),E(),x(73,tge,6,5,"div",29),E(),S(74,"div",16)(75,"div",30)(76,"div",31)(77,"p-panel",32)(78,"div",33)(79,"div",34)(80,"span",18)(81,"p-dropdown",35),ae("onChange",function(o){return s.checkValidationCableado(o)}),E(),S(82,"label"),H(83," Nivel de protecci\xf3n "),E()()()(),x(84,nge,2,0,"small",20),x(85,sge,10,2,"div",36),x(86,rge,8,1,"div",36),x(87,oge,2,0,"small",20),E()()()(),S(88,"div",16)(89,"p-panel",37)(90,"div",38)(91,"div",39),H(92," Sin medidas de protecci\xf3n "),S(93,"p-checkbox",40),ae("onChange",function(){return s.checkToggleProteccionLInea("medidasDeProteccion")}),E()(),S(94,"div",39),H(95," Avisos "),S(96,"p-checkbox",41),ae("onChange",function(){return s.checkToggleProteccionLInea("avisos")}),E()(),S(97,"div",39),H(98," Aislamiento el\xe9ctrico de partes expuestas "),S(99,"p-checkbox",42),ae("onChange",function(){return s.checkToggleProteccionLInea("aislamientoElectrico")}),E()(),S(100,"div",39),H(101," Restricciones f\xedsicas "),S(102,"p-checkbox",43),ae("onChange",function(){return s.checkToggleProteccionLInea("restriccionFisica")}),E()()()()()(),S(103,"p-button",44),ae("onClick",function(){return s.guardarLinea()}),E()(),S(104,"p-dialog",45),ae("visibleChange",function(o){return s.visibleResult=o}),S(105,"div",46)(106,"span"),H(107," Valores de las componentes relevantes para el riesgo R1 (x10"),S(108,"sup"),H(109,"-5"),E(),H(110,") "),E(),S(111,"p-table",47),x(112,age,7,0,"ng-template",48),x(113,lge,42,20,"ng-template",49),x(114,dge,2,2,"ng-template",50),E(),S(115,"p-button",51),ae("onClick",function(){return s.cargarSolucion()}),E()()()),2&n){const r=xn(18),o=xn(20),a=xn(22);b(10),y("ngTemplateOutlet",r),b(2),y("ngTemplateOutlet",o),b(2),y("ngTemplateOutlet",a),b(3),y("formGroup",s.form),b(2),y("formGroup",s.form),b(2),y("formGroup",s.form),b(2),en(_n(53,hge)),y("visible",s.visible),b(1),y("formGroup",s.temporalFormGroup),b(4),en(_n(54,Cs)),y("options",s.configService.factorTipoLinea),b(3),y("ngIf",s.validateField("tipoLinea",s.temporalFormGroup)),b(5),y("useGrouping",!1),b(5),y("ngIf",s.validateField("longitud",s.temporalFormGroup)),b(3),en(_n(55,Cs)),y("options",s.configService.catecteristicaLinea),b(3),y("ngIf",s.validateField("caracteristicasLinea",s.temporalFormGroup)),b(3),en(_n(56,Cs)),y("options",s.configService.tipoAcometida),b(3),y("ngIf",s.validateField("fInstalacion",s.temporalFormGroup)),b(4),en(_n(57,Cs)),y("options",s.configService.nivelProteccionRayo),b(3),y("ngIf",s.validateField("proteccionDps",s.temporalFormGroup)),b(3),en(_n(58,Cs)),y("options",s.configService.tensionMinima),b(3),y("ngIf",s.validateField("proteccionDps",s.temporalFormGroup)),b(3),en(_n(59,Cs)),y("options",s.configService.tipoAmbiente),b(3),y("ngIf",s.validateField("fMedio",s.temporalFormGroup)),b(1),y("ngIf",2===s.getTemporalArrayValue("caracteristicasLinea")),b(8),en(_n(60,Cs)),y("options",s.configService.cableadoMalla),b(3),y("ngIf",s.validateField("cableadoMalla")),b(1),y("ngIf",_n(61,e4).includes(s.validateProteccion("cableadoMalla"))),b(1),y("ngIf",_n(62,e4).includes(s.validateProteccion("cableadoMalla"))),b(1),y("ngIf",s.validateField("tensionNominal")),b(6),y("binary",!0),b(3),y("binary",!0),b(3),y("binary",!0),b(3),y("binary",!0),b(1),y("draggable",!1),b(1),en(_n(63,pge)),y("visible",s.visibleResult),b(7),y("value",s.resultados)}},dependencies:[On,Nn,Dm,Bn,dP,Pm,hP,see,Cb,wb,bb,ob,yK,rae,hm,U1,qd,Cm,Yd,zI],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;padding:2% 5%;display:flex;flex-direction:column;gap:5px}.contenedor__banner[_ngcontent-%COMP%]{border-radius:5px;align-items:center;position:relative;margin:5px 0;display:flex;height:35px;color:#3b82f6}.contenedor__banner[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{align-items:center;margin:0 10px}.contenedor__banner[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.container_form[_ngcontent-%COMP%]{height:100%;width:100%;padding:.5rem 1rem}label[_ngcontent-%COMP%]{font-weight:500}p-inputnumber[_ngcontent-%COMP%]{width:100%}p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], p-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{max-width:220px!important}  .p-inputnumber{width:100%}"]}),e})()},{path:"SPCR",component:pme},{path:"**",redirectTo:""}];let mge=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({imports:[yc.forChild(fge),yc]}),e})(),gge=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({providers:[nb],imports:[un,mge,fae,Fq,xm,xc]}),e})();const _ge=[{path:"",loadChildren:()=>gge},{path:"**",redirectTo:""}];let vge=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i}),i.\u0275inj=Dt({imports:[yc.forRoot(_ge),yc]}),e})(),yge=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275cmp=tt({type:i,selectors:[["app-header"]],decls:8,vars:0,consts:[[1,"header"],["routerLink","",1,"logo","manu_item","main-color"],[1,"manu"],["routerLink","/riesgo",1,"manu_item"],["routerLink","/SPCR",1,"manu_item"]],template:function(n,s){1&n&&(S(0,"div",0)(1,"div",1),H(2,"CAPTOR"),E(),S(3,"div",2)(4,"span",3),H(5," Nivel de riesgo "),E(),S(6,"span",4),H(7," Protecci\xf3n contra rayos "),E()()())},dependencies:[cm],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between;padding:20px 120px}.logo[_ngcontent-%COMP%]{font-size:x-large;font-weight:700}.manu[_ngcontent-%COMP%]{gap:40px;display:flex;flex-direction:row}.manu_item[_ngcontent-%COMP%]{display:flex;padding:5px;align-items:center;cursor:pointer}"]}),e})(),bge=(()=>{var i;class e{constructor(){this.title="CAPCOM"}}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275cmp=tt({type:i,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"header"],[1,"content"]],template:function(n,s){1&n&&(S(0,"div",0)(1,"div",1),ee(2,"app-header"),E(),S(3,"div",2),ee(4,"router-outlet"),E()())},dependencies:[E1,yge],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f0f2f7}.menu[_ngcontent-%COMP%]{width:100%;height:10%}.content[_ngcontent-%COMP%]{width:100%;height:90%}  .p-button{border-radius:25px}"]}),e})(),wge=(()=>{var i;class e{}return(i=e).\u0275fac=function(n){return new(n||i)},i.\u0275mod=Rt({type:i,bootstrap:[bge]}),i.\u0275inj=Dt({providers:[{provide:ko,useClass:MI}],imports:[aD,vge,uW]}),e})();rz().bootstrapModule(wge).catch(i=>console.error(i))}},mn=>{mn(mn.s=169)}]);